<!doctype html><html data-clipboard-buttons="" data-code-prettify="" data-code-sidebar="" data-hide-show-guide="" data-sts-import="" data-mobile-support="" data-search=""><head>
<title>Getting Started · Consuming a RESTful Web Service with rest.js</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>System.config({baseURL: "/b92013b"});</script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>System.import('app/main.js')</script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link rel="stylesheet" type="text/css" href="/css/gsguide-cce08ab7a9f46db88819a14148e45bad.css">

<meta property="og:title" content="Consuming a RESTful Web Service with rest.js">
<meta property="og:image" content="/img/spring-by-pivotal-9066b55828deb3c10e27e609af322c40.png">
<meta property="og:description" content="this guide is designed to get you productive as quickly as possible and using the latest Spring project releases and techniques as recommended by the Spring team">
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">// Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }</script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link active">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<main class="main-body--wrapper">
<div class="row-fluid">
<div class="span8 mobile-left-pane">
<div class="content--title desktop-only">Getting Started</div>
<article class="content--container">
<h1 class="title">Consuming a RESTful Web Service with rest.js</h1>
<div class="article-body"><div class="paragraph">
<p>This guide walks you through the process of consuming a simple rest.js client that consumes a Spring MVC-based <a href="/understanding/REST">RESTful web service</a>.</p>
</div>
<div class="sect1">
<h2 id="_what_youll_build">What you’ll build</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will build a rest.js client that consumes a Spring-based RESTful web service. Specifically, the client will consume the service created in <a href="/guides/gs/rest-service-cors/">Building a RESTful Web Service with CORS</a>.</p>
</div>
<div class="paragraph">
<p>The rest.js client will be accessed by opening the <code>index.html</code> file in your browser, and will consume the service accepting requests at:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>http://rest-service.guides.spring.io/greeting</pre>
</div>
</div>
<div class="paragraph">
<p>The service will respond with a <a href="/understanding/JSON">JSON</a> representation of a greeting:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{"id":1,"content":"Hello, World!"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The client will render the ID and content into the DOM.</p>
</div>
<div class="paragraph">
<p>You can customize the greeting with an optional <strong>query string</strong> in the url:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>http://localhost:8080/?User</pre>
</div>
</div>
<div class="paragraph">
<p>The code will send a parameter to the REST endpoint and render a custom greeting into the DOM.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_youll_need">What you’ll need</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li> <p>About 15 minutes</p> </li>
<li> <p>A favorite text editor</p> </li>
<li> <p>A modern web browser</p> </li>
<li> <p>An internet connection</p> </li>
<li> <p>Node.js and <a href="/understanding/Git">Git</a> pre-installed</p> </li>
<li> <p>Bower installed as a global node.js <a href="/understanding/javascript-package-managers">JavaScript package</a></p> </li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initial">Create bower configuration files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, create a bower control file, <code>.bowerrc</code>. This file tells bower where to put the JavaScript dependencies. The <code>.bowerrc</code> file should be located at the root of the project ({project_id}/initial) and formatted as JSON:</p>
</div>
<div class="paragraph">
<p><code>.bowerrc</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-txt" data-lang="txt">{
	"directory": "public/lib"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>From a command prompt at the root of the project, run <code>bower init</code>. This will create a <code>bower.json</code> file that describes each <a href="/understanding/javascript-package-managers">JavaScript package</a> required by the project. Bower will ask for several bits of information such as a project name, license, etc. If in doubt, just press <code>Enter</code> to accept the defaults.</p>
</div>
<div class="paragraph">
<p>Next, use Bower to install rest.js and an <a href="/understanding/javascript-modules">AMD module</a> loader such as curl.js. From the command prompt, type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>bower install --save rest#~1</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>bower install --save curl#~0.8</pre>
</div>
</div>
<div class="paragraph">
<p>Bower will install rest.js and curl.js into the directory we listed in <code>.bowerrc</code>. Since we specified the <code>--save</code> option, bower will store the package information in the <code>bower.json</code> file.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
<td class="content"> Bower should discover that rest.js depends on when.js and install a compatible version. </td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph">
<p>When done, the <code>bower.json</code> file should have a "dependencies" object property that lists "curl" and "rest" as property names and their semver information as values:</p>
</div>
<div class="paragraph">
<p><code>bower.json</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{
  "name": "consuming-rest-rest.js",
  "version": "0.0.1",
  "authors": [
    "John Hann <<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="cda7a5aca3a38daaa2bda4bba2b9aca1e3aea2a0">[email protected]</a>>"
  ],
  "license": "http://www.apache.org/licenses/LICENSE-2.0",
  "ignore": [
    "**/.*",
    "node_modules",
    "public/lib",
    "test",
    "tests"
  ],
  "dependencies": {
    "curl": "~0.8",
    "rest": "~1"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_render_module">Create a render module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, create a render function to inject data into an HTML document.</p>
</div>
<div class="paragraph">
<p><code>public/hello/render.js</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">define(function (require) {

    var ready = require('curl/domReady');

    return render;

    function render (entity) {
        ready(function () {
            var idElement, nameElement;

            idElement = document.querySelector('[data-name="id"]');
            nameElement = document.querySelector('[data-name="content"]');

            idElement.textContent += entity.id;
            nameElement.textContent += entity.content;
        });
    }

});</code></pre>
</div>
</div>
<div class="paragraph">
<p>This <a href="/understanding/javascript-modules">AMD module</a> uses simple DOM querying and manipulation to inject text into the document. To ensure that the DOM is not used before it is ready, the render module imports and uses curl.js’s <code>domReady</code> function-module.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-note" title="Note"></i> </td>
<td class="content"> In a real application, you’ll want to use <strong>data binding</strong> or <strong>templating</strong>, rather than DOM manipulation as shown here. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_an_application_composition_module">Create an application composition module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next, create a module that will compose the application.</p>
</div>
<div class="paragraph">
<p><code>public/hello/main.js</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">define(function (require) {

    var rest = require('rest');
    var mime = require('rest/interceptor/mime');
    var entity = require('rest/interceptor/entity');
    var render = require('./render');

    var endpointUrl, name, client;

    endpointUrl = 'http://rest-service.guides.spring.io/greeting';
    name = document.location.search.slice(1);

    client = rest
        .chain(mime, { mime: 'application/json' })
        .chain(entity);

    client({ path: endpointUrl, params: { name:  name } })
        .then(render);

});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The main module reads the query string from the document’s location object, configures a rest.js mime client, and calls the REST endpoint.</p>
</div>
<div class="paragraph">
<p>rest.js returns a <a href="/understanding/javascript-promises">Promises/A+ promise</a>, which will call the <code>render</code> function-module when the endpoint returns data. The <code>render</code> function expects the entity, but the rest.js client normally returns a response object. The "rest/interceptor/entity" interceptor plucks the entity from the response and forwards that onto the <code>render</code> function.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_boot_script">Create a boot script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next, create the boot script, <code>run.js</code>:</p>
</div>
<div class="paragraph">
<p><code>public/run.js</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-js" data-lang="js">var curl;
(function () {

    curl.config({
        main: 'hello',
        packages: {
            // Your application's packages
            hello: { location: 'hello' },
            // Third-party packages
            curl: { location: 'lib/curl/src/curl' },
            rest: { location: 'lib/rest', main: 'rest' },
            when: { location: 'lib/when', main: 'when' }
        }
    });

}());</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script configures the AMD loader: <code>curl.config()</code>. The <code>main</code> configuration property tells curl.js where to find the application’s main module, which will be fetched and evaluated automatically. The <code>packages</code> config object tells curl.js where to find modules in our application’s packages or in third-party packages.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_the_application_page">Create the application page</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Finally, create an <code>index.html</code> file and add the following HTML:</p>
</div>
<div class="paragraph">
<p><code>public/index.html</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-html" data-lang="html"><!doctype html>
<html>
    <head>
        <title>Hello rest.js</title>
        <script data-curl-run="run.js" src="lib/curl/src/curl.js"></script>
    </head>
    <body>
        <div>
            <p data-name="id">The ID is </p>
            <p data-name="content">The content is </p>
        </div>
    </body>
</html></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>script</code> element loads curl.js and then loads an <strong>application boot script</strong> named "run.js". The boot script initializes and configures an AMD module environment and then starts the client-side application code.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="run">Run the client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To run the client, you’ll need to serve it from a web server to your browser. The Spring Boot CLI (Command Line Interface) includes an embedded Tomcat server, which offers a simple approach to serving web content. See <a href="/guides/gs/spring-boot/">Building an Application with Spring Boot</a> for more information about installing and using the CLI.</p>
</div>
<div class="paragraph">
<p>In order to serve static content from Spring Boot’s embedded Tomcat server, you’ll also need to create a minimal amount of web application code so that Spring Boot knows to start Tomcat. The following <code>app.groovy</code> script is sufficient for letting Spring Boot know that you want to run Tomcat:</p>
</div>
<div class="paragraph">
<p><code>app.groovy</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@Controller class JsApp { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now run the app using the Spring Boot CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>spring run app.groovy</pre>
</div>
</div>
<div class="paragraph">
<p>Once the app starts, open <a href="http://localhost:8080" class="bare">http://localhost:8080</a> in your browser, where you see:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hello.png" alt="Model data retrieved from the REST service is rendered into the DOM.">
</div>
</div>
<div class="paragraph">
<p>The ID value will increment each time you refresh the page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Congratulations! You’ve just developed a rest.js client that consumes a Spring-based RESTful web service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following guides may also be helpful:</p>
</div>
<div class="ulist">
<ul>
<li> <p><a href="https://spring.io/guides/gs/rest-service/">Building a RESTful Web Service</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/consuming-rest/">Consuming a RESTful Web Service</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/consuming-rest-angularjs/">Consuming a RESTful Web Service with AngularJS</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/consuming-rest-jquery/">Consuming a RESTful Web Service with jQuery</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/accessing-gemfire-data-rest/">Accessing GemFire Data with REST</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/accessing-mongodb-data-rest/">Accessing MongoDB Data with REST</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/accessing-data-mysql/">Accessing data with MySQL</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/accessing-data-rest/">Accessing JPA Data with REST</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/accessing-neo4j-data-rest/">Accessing Neo4j Data with REST</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/securing-web/">Securing a Web Application</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/spring-boot/">Building an Application with Spring Boot</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/testing-restdocs/">Creating API Documentation with Restdocs</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/rest-service-cors/">Enabling Cross Origin Requests for a RESTful Web Service</a></p> </li>
<li> <p><a href="https://spring.io/guides/gs/rest-hateoas/">Building a Hypermedia-Driven RESTful Web Service</a></p> </li>
</ul>
</div>
<div class="paragraph">
<p>Want to write a new guide or contribute to an existing one? Check out our <a href="https://github.com/spring-guides/getting-started-guides/wiki">contribution guidelines</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tbody>
<tr>
<td class="icon"> <i class="fa icon-important" title="Important"></i> </td>
<td class="content"> All guides are released with an ASLv2 license for the code, and an <a href="https://creativecommons.org/licenses/by-nd/3.0/">Attribution, NoDerivatives creative commons license</a> for the writing. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</article>
</div>
<aside class="span4 content-right-pane--container mobile-left-pane" id="sidebar">
<a class="ci-status desktop-only" href="https://travis-ci.org/spring-guides/gs-consuming-rest-restjs">
<img src="https://travis-ci.org/spring-guides/gs-consuming-rest-restjs.svg?branch=master">
</a>
<div class="right-pane-widget--container desktop-only">
<div class="github-actions https">
<h2>Get the Code</h2>
<div class="btn-group">
<button class="btn" data-protocol="https">HTTPS</button>
<button class="btn" data-protocol="ssh">SSH</button>
</div>
<div class="clone-url https">
<input id="clone-url-https" readonly type="text" value="https://github.com/spring-guides/gs-consuming-rest-restjs.git">
<button class="copy-button github" data-toggle="tooltip" data-clipboard-text="https://github.com/spring-guides/gs-consuming-rest-restjs.git"></button>
</div>
<div class="clone-url ssh">
<input id="clone-url-ssh" readonly type="text" value="git@github.com:spring-guides/gs-consuming-rest-restjs.git">
<button class="copy-button github" data-toggle="tooltip" data-clipboard-text="git@github.com:spring-guides/gs-consuming-rest-restjs.git"></button>
</div>
<a class="github_download btn btn-black uppercase" href="https://github.com/spring-guides/gs-consuming-rest-restjs/archive/master.zip">Download ZIP</a>
<a class="gs-guide-import" href="https://github.com/spring-guides/gs-consuming-rest-restjs.git">Import into STS</a>
<div class="go-to-repo--container">
<a href="https://github.com/spring-guides/gs-consuming-rest-restjs"><i class="icon-github"></i>Go To Repo</a>
</div>
<div class="go-to-repo--container">
</div>
</div>
</div>
<div class="right-pane-widget--container">
<div>
<h3><a class="anchor" href="#table-of-contents" name="table-of-contents"></a>Table of contents</h3>
<div><ul class="sectlevel1">
<li><a href="#_what_youll_build">What you’ll build</a></li>
<li><a href="#_what_youll_need">What you’ll need</a></li>
<li><a href="#initial">Create bower configuration files</a></li>
<li><a href="#_create_a_render_module">Create a render module</a></li>
<li><a href="#_create_an_application_composition_module">Create an application composition module</a></li>
<li><a href="#_create_a_boot_script">Create a boot script</a></li>
<li><a href="#_create_the_application_page">Create the application page</a></li>
<li><a href="#run">Run the client</a></li>
<li><a href="#_summary">Summary</a></li>
<li><a href="#_see_also">See Also</a></li>
</ul></div>
</div>
</div>
</aside>
</div>
</main>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> •
<a href="https://pivotal.io/privacy-policy">Privacy</a> •
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body></html>
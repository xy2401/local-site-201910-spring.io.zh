<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Scripted 0.4 released</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Scripted 0.4 released" />
<meta name="twitter:description" content="&lt;p&gt;This week we’ve released version 0.4 of our JavaScript focused code editor. You can read about the background of Scripted &lt;a href=&quot;http://blog.springsource.org/2012/10/11/scripted-a-javascript-editor-from-vmware/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The full release notes for 0.4 are &lt;a href=&quot;http://scripted-editor.github.com/scripted/release_notes/0_4_0/scripted_0_4_0.html&quot;&gt;here&lt;/a&gt; but in this article I’ll call out a few of the more interesting changes.&lt;/p&gt;
&lt;h2&gt;Tooltips&lt;/h2&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;Scripted uses an inferencing engine to build an understanding of your JavaScript code. Scripted 0.3 provided some basic tooltips showing inferred information about function calls. In Scripted 0.4 this has been taken further - not only better formatting but also any jsdoc discovered is now included in the tooltips. Here you can see the tooltip that will appear when you hover over the function call:&lt;/p&gt;
" />
<meta name="twitter:creator" content="@andy_clement" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/3d8426c492dcabe2d3fdae509fa672ab?s=200" />

<meta property="og:title" content="Scripted 0.4 released" />
<meta property="og:image" content="https://gravatar.com/avatar/3d8426c492dcabe2d3fdae509fa672ab?s=200" />
<meta property="og:description" content="&lt;p&gt;This week we’ve released version 0.4 of our JavaScript focused code editor. You can read about the background of Scripted &lt;a href=&quot;http://blog.springsource.org/2012/10/11/scripted-a-javascript-editor-from-vmware/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The full release notes for 0.4 are &lt;a href=&quot;http://scripted-editor.github.com/scripted/release_notes/0_4_0/scripted_0_4_0.html&quot;&gt;here&lt;/a&gt; but in this article I’ll call out a few of the more interesting changes.&lt;/p&gt;
&lt;h2&gt;Tooltips&lt;/h2&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;Scripted uses an inferencing engine to build an understanding of your JavaScript code. Scripted 0.3 provided some basic tooltips showing inferred information about function calls. In Scripted 0.4 this has been taken further - not only better formatting but also any jsdoc discovered is now included in the tooltips. Here you can see the tooltip that will appear when you hover over the function call:&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2013-03-05 22:12:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Scripted 0.4 released</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/3d8426c492dcabe2d3fdae509fa672ab?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/aclement">Andy Clement</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2013-03-05 22:12:00.0">March 05, 2013</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="508" href="/blog/2013/03/05/scripted-0-4-released#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>This week we&rsquo;ve released version 0.4 of our JavaScript focused code editor. You can read about the background of Scripted <a href="http://blog.springsource.org/2012/10/11/scripted-a-javascript-editor-from-vmware/">here</a>.</p><p>The full release notes for 0.4 are <a href="https://scripted-editor.github.com/scripted/release_notes/0_4_0/scripted_0_4_0.html">here</a> but in this article I&rsquo;ll call out a few of the more interesting changes.</p>
<h2>Tooltips</h2><p><br><br />Scripted uses an inferencing engine to build an understanding of your JavaScript code. Scripted 0.3 provided some basic tooltips showing inferred information about function calls. In Scripted 0.4 this has been taken further - not only better formatting but also any jsdoc discovered is now included in the tooltips. Here you can see the tooltip that will appear when you hover over the function call:</p><p><a href="http://blog.springsource.org/wp-content/uploads/2013/03/blog_jsdoc1.png"><img class="aligncenter size-full wp-image-12718" title="blog_jsdoc" src="http://blog.springsource.org/wp-content/uploads/2013/03/blog_jsdoc1.png" alt="" width="522" height="519" /></a></p><p><br>&nbsp;<br /><h2>Templates</h2><br /><br><br />Template support has been enhanced and you can now replace selections with text expansions that embed the original selection. In the first picture we have selected a function call and pressed <code>Ctrl/Cmd+Space</code>:</p><p><a href="http://blog.springsource.org/wp-content/uploads/2013/03/blog_templates1.png"><img class="aligncenter size-full wp-image-12730" title="blog_templates1" src="http://blog.springsource.org/wp-content/uploads/2013/03/blog_templates1.png" alt="" width="562" height="260" /></a></p><p>And on selecting the first template completion the editor contents become:</p><p><a href="http://blog.springsource.org/wp-content/uploads/2013/03/blog_templates2.png"><img class="aligncenter size-full wp-image-12731" title="blog_templates2" src="http://blog.springsource.org/wp-content/uploads/2013/03/blog_templates2.png" alt="" width="561" height="65" /></a></p><p><br>&nbsp;<br /><h2>Extensibility</h2><br /><br><br />This version of Scripted includes a basic plugin mechanism. It is possible to write just a single .js file, drop it into the right place, and it will extend the behaviour of Scripted. The plugin API is definitely a work-in-progress but you can already achieve some useful functionality. For example we have on-save source transformer plugins that perform operations like removing white space and adding copyright messages. There is more information on the plugin system in the <a href="https://scripted-editor.github.com/scripted/release_notes/0_4_0/scripted_0_4_0.html">release notes</a> and <a href="https://github.com/scripted-editor/scripted/wiki/Plugins">here</a> in the wiki. Basically plugin development involves writing an AMD module, &rsquo;require&rsquo;ing the API pieces and you are good to go. </p><p>One of the key use cases we had in mind was enabling you to write a plugin that contributed new annotations to the editor (that appear in the left hand ruler and allow styling of the editor text) . Here is a very simple plugin. This simply locates the names of fruits in your code and adds annotations for them. Perhaps not the <em>most</em> useful plugin but it should show what the key parts of a plugin are, rather than getting bogged down in annotation computation.</p>
<pre><code class="prettyprint js">define(function (require) {

	// Grab the editor API
	var editorApi = require(&#39;scripted/api/editor-extensions&#39;);

	var pathExp = new RegExp(&#39;.*\\.js$&#39;);

	// Register the new annotation type
	editorApi.registerAnnotationType(&#39;example.message&#39;);

	// Load the styling for our annotation (very simple bit of css)
	editorApi.loadCss(require(&#39;text!./styling.css&#39;));

	// Register an &#39;annotation computer&#39;.
	// The return value of the function is the new set of annotations
	// which replace any added on previous calls to the function.
	editorApi.addAnnotationComputer(function (editor) {
		// Only interested in .js files
		var path = editor.getFilePath();
		if (!path || !pathExp.test(path)) {
			return;
		}
		var text = editor.getText();
		var fruits = [&#39;apple&#39;, &#39;banana&#39;, &#39;kiwi&#39;, &#39;orange&#39;];

		var annotations=[];
		for (var f=0; f&lt;fruits.length; f++) {
			var fruit = fruits[f];
			var index = text.indexOf(fruit);
			while (index!=-1) {
				// Create the annotation: needs type/start/end/text
				annotations.push({type:&#39;example.message&#39;, start:index, 
				  end:index+fruit.length, text:&#39;Found &#39;+fruit });
				index = text.indexOf(fruit,index+1);
			}
		}
		return annotations;
	});
	console.log(&#39;Annotation adding sample plugin&#39;);
});
</code></pre><p>The other two pieces of this plugin are the styling css (sorry about the inline image data, it is just convenient to reuse some of the images we inherit from Eclipse Orion):</p>
<pre><code class="prettyprint css">/* Styling for the text in the editor */
.annotationRange.message {
	/* the icon for a &#39;squiggly&#39; underline */
	background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=&quot;);
	background-color: cyan;
	color: blue;
}
/* Styling for the right hand overview ruler */
.annotationOverview.message {
	background-color: grey;
	border: 1px solid #000080;
}
/* Styling for the left hand annotation ruler */
.annotationHTML.message {
	/* the icon for a &#39;flashlight&#39; */
	background-image: url(&quot;data:image/gif;base64,R0lGODlhEAAQANUAALClrLu1ubOpsKqdp6eapKufqMTAw7attLSrsrGnr62jq8C7v765vaebpb22vLmyuMbCxsnGycfEx8G+wcrIysTBxUltof//yf///v70jergpPvws+nWc/npqvrpqvrpq/raffffnvXVkfTVkvXUkd+9f+SiOemvV+uyXa2OX7mYZqeIXKuNX/ClO7KQYqiIXJ59Vp19VpFvTo9uTZBvTpNyUJNyUf///////wAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADgALAAAAAAQABAAAAZ4QJxwSCwajS2aS1U6DlunzcagcuKgG4sn5HJiLZ2QiHbEbj6hEapVTKVYr3OItG5TIhVGLF0npigUEAsPAjV9Q24pEhMBCAoybEUmGRcrDgcAAzNGkxcYNzAJBQSbRJ0YqBc2DaVEHJ6pGTStRBqfGBcZILRWvThBADs=&quot;);
}
</code></pre><p>and a plugin.json (a .json file isn&rsquo;t necessary for totally trivial plugins).</p>
<pre><code class="prettyprint js"><br />{	
	&quot;name&quot;: &quot;annotation-adding-plugin&quot;,
	&quot;version&quot;: &quot;0.1&quot;,
	&quot;description&quot;: &quot;Scripted plugin to add markers in the editor&quot;,
	&quot;main&quot;: &quot;annotation-adding-plugin&quot;,
	&quot;scripted&quot;: {
		&quot;plugin&quot;: true
	}
}
</code></pre><p>All these pieces are <a href="https://github.com/scripted-editor/scripted/tree/master/plugins/annotation-adding-plugin">here</a> in the git repo. Once activated, the styling will look like this when the annotations are added:</p><p><a href="http://blog.springsource.org/wp-content/uploads/2013/03/blog_annotations.png"><img src="http://blog.springsource.org/wp-content/uploads/2013/03/blog_annotations.png" alt="" title="blog_annotations" width="523" height="170" class="aligncenter size-full wp-image-12748" /></a></p><p>Based on this model we have implemented a more realistic plugin based on a blog article by Ariya Hidayat describing how to <a href="http://ariya.ofilabs.com/2012/06/detecting-boolean-traps-with-esprima.html">&lsquo;detect boolean traps&rsquo;</a>. The source for that plugin is <a href="https://github.com/scripted-editor/scripted/tree/master/plugins/findbooleantrap-plugin">here</a>.</p><p>Consult the wiki for more information on plugin development.<br /><br>&nbsp;<br /><h2>Day/Night mode</h2></p><p>Last but not least we are building on the theming support in Orion and now have a light-on-dark theme for the editor. The individual colors are not currently configurable but we still feel the default colors that have been setup look pretty nice:<br /><a href="http://blog.springsource.org/wp-content/uploads/2013/03/blog_darkmode.png"><img src="http://blog.springsource.org/wp-content/uploads/2013/03/blog_darkmode.png" alt="" title="blog_darkmode" width="625" height="266" class="aligncenter size-full wp-image-12733" /></a><br />&nbsp;<br /><h2>Getting started</h2><br />Want to give it a go? If you have node/npm installed you just have to type:</p><p><code><pre> npm install -g scripted<br /> scr foo.js<br /></pre></code></p><p>The <a href="https://github.com/scripted-editor/scripted/">readme</a> describes the other install options, it is available as a standalone zip. Many users are happy to follow master and update weekly/daily.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 508;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
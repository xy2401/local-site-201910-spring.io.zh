<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title> Reactor 1.0.0.M2 – a foundation for reactive fast-data applications on the JVM</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content=" Reactor 1.0.0.M2 – a foundation for reactive fast-data applications on the JVM" />
<meta name="twitter:description" content="&lt;p&gt;I&#39;m excited to announce the 2nd milestone release of &lt;a href=&quot;https://github.com/reactor/reactor&quot;&gt;Reactor&lt;/a&gt; on our way toward 1.0! Maven artifacts for Reactor 1.0.0.M2 are available in the usual milestone repository.&lt;/p&gt;
&lt;h3&gt;What is Reactor?&lt;/h3&gt;
&lt;p&gt;Reactor is a foundational framework for building high-throughput, asynchronous, reactive applications on the JVM. It provides Selector-style topic matching for event routing, dynamic Consumer assignment, an uber-fast task processor, and reactive Stream and Promise APIs for working with data asynchronously and coordinating asynchronous tasks. It comes with comprehensive Groovy language support by providing langauge extensions to make writing Reactor applications in Groovy pretty darned Groovy! It also has easy-to-use Spring support that automagically wires annotated POJOs to Reactors.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@j_brisbin" />
<meta name="twitter:image:src" content="http://gravatar.com/avatar/5500b5cf634f9a3921e4619778a1425f?s=200" />

<meta property="og:title" content=" Reactor 1.0.0.M2 – a foundation for reactive fast-data applications on the JVM" />
<meta property="og:image" content="http://gravatar.com/avatar/5500b5cf634f9a3921e4619778a1425f?s=200" />
<meta property="og:description" content="&lt;p&gt;I&#39;m excited to announce the 2nd milestone release of &lt;a href=&quot;https://github.com/reactor/reactor&quot;&gt;Reactor&lt;/a&gt; on our way toward 1.0! Maven artifacts for Reactor 1.0.0.M2 are available in the usual milestone repository.&lt;/p&gt;
&lt;h3&gt;What is Reactor?&lt;/h3&gt;
&lt;p&gt;Reactor is a foundational framework for building high-throughput, asynchronous, reactive applications on the JVM. It provides Selector-style topic matching for event routing, dynamic Consumer assignment, an uber-fast task processor, and reactive Stream and Promise APIs for working with data asynchronously and coordinating asynchronous tasks. It comes with comprehensive Groovy language support by providing langauge extensions to make writing Reactor applications in Groovy pretty darned Groovy! It also has easy-to-use Spring support that automagically wires annotated POJOs to Reactors.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2013-08-27 03:01:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title"> Reactor 1.0.0.M2 – a foundation for reactive fast-data applications on the JVM</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/5500b5cf634f9a3921e4619778a1425f?s=20&amp;d=mm" />
<span class="author">Jon Brisbin</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2013-08-27 03:01:00.0">August 27, 2013</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="1142" href="/blog/2013/08/27/reactor-1-0-0-m2-a-foundation-for-reactive-fast-data-applications-on-the-jvm#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>I'm excited to announce the 2nd milestone release of <a href="https://github.com/reactor/reactor">Reactor</a> on our way toward 1.0! Maven artifacts for Reactor 1.0.0.M2 are available in the usual milestone repository.</p>
<h3>What is Reactor?</h3>
<p>Reactor is a foundational framework for building high-throughput, asynchronous, reactive applications on the JVM. It provides Selector-style topic matching for event routing, dynamic Consumer assignment, an uber-fast task processor, and reactive Stream and Promise APIs for working with data asynchronously and coordinating asynchronous tasks. It comes with comprehensive Groovy language support by providing langauge extensions to make writing Reactor applications in Groovy pretty darned Groovy! It also has easy-to-use Spring support that automagically wires annotated POJOs to Reactors.</p>
<h3>What&#039;s in this Release?</h3>
<p>This 2nd milestone includes a number of bugfixes and some really exciting new features. Reactor now includes a <code>Processor</code> abstraction, which is a highly-optimized task processor based on the <a href="https://github.com/LMAX-Exchange/disruptor">LMAX Disruptor</a> RingBuffer. It uses the common abstractions from Reactor to configure a RingBuffer and allows you to use Reactor&#039;s common API instead of the Disruptor-specific API. It also by design skips the Selector matching and dynamic Consumer assignment provided by a Reactor in order to wring every last drop of throughput it can. Anecdotal benchmarks on a MacBook Pro show the Processor can pump around 100,000,000 events per second through the pipeline. Yes, you read that right: 100 <strong>million</strong> per second!</p>
<p>1.0.0.M2 also includes a small, but significant new feature in the Reactor API which optimizes event publishing in a Reactor to get about 30-50% higher throughput. It won&#039;t suit every situation since it prepares an optimized list of Consumers from the Reactor, but for an <strong>extra</strong> 10 million events per second in throughput, it&#039;s a great new feature.</p>
<h3>Optimized Publish</h3>
<p>One of the powerful aspects of Reactor is the Selector matching topic(ish) pub/sub. It allows you to easily assign handlers to events using topics, anonymous objects, assignable type hierarchies, URI path matching, or regular expressions (or any other type of Selector matching if you implement your own, domain-specific Selectors). But many applications can assign their handlers at startup, which means the path to those Consumers can be optimized for efficient event publication. The new Reactor method <code>prepare(Object)</code> allows you to pre-select the Consumers for a key. It returns a Consumer itself that event publishers can use to efficiently notify about new events.</p>
<pre><code class="prettyprint java">// Create Environment in which Reactors operate
Environment env = new Environment();
Reactor reactor = Reactors.reactor().env(env).get();

reactor.on($(&quot;say.hello&quot;), new Consumer&lt;Event&lt;String&gt;&gt;() {
	public void accept(Event&lt;String&gt; ev) {
		System.out.println(&quot;Hello &quot; + ev.getData() + &quot;!&quot;);
	}
});

Consumer&lt;Event&lt;String&gt;&gt; sayHello = reactor.prepare(&quot;say.hello&quot;);
for(String name : listOfNames) {
	sayHello.accept(name);
}
</code></pre>
<h3>RingBuffer Task Processor</h3>
<p>Reactor 1.0.0.M2 includes the <code>Processor</code> abstraction. It is a simple task processor backed by the <a href="https://github.com/LMAX-Exchange/disruptor">LMAX Disruptor</a> RingBuffer and is designed to integrate it seamlessly into the reactive APIs used in Reactor, so it uses common abstractions like Supplier and Consumer. A fully-configured Processor can be created in a single expression and using Java 8 lambdas is more succinct yet:</p>
<pre><code class="prettyprint java">Processor&lt;Message&gt; proc = new ProcessorSpec&lt;Message&gt;()
	.dataSupplier({ return new Message(); })
	.consume({ msg -&gt; // handle the updated Message object })
	.get();
</code></pre>
<p>The <code>Processor</code> provides two ways to interact with the underlying RingBuffer. The single-operation mode works by requesting an <code>Operation</code> object from the <code>Processor</code> by calling the <code>prepare()</code> method. The <code>Operation</code> has a <code>get()</code> method on it to access the pre-allocated event object that the RingBuffer was filled with when it was created. The members of this object can be updated with new data. When ready to publish the operation and trigger the event handler, just call the Operation&#039;s <code>commit()</code> method.</p>
<pre><code class="prettyprint java">public class Message {
	int type;
	Buffer buffer;
}

@Autowired
Processor&lt;Message&gt; proc;

public void handle(Buffer buff) {
	Operation&lt;Message&gt; op = proc.prepare();

	op.get().type = buff.readInt();
	op.get().buffer = buff;

	op.commit();
}
</code></pre>
<p>If you can operate on batches of data, then the <code>Processor</code> provides a <code>batch(int, Consumer<T>)</code> method which allows you to specify a batch size and pass a mutator in the form of a <code>Consumer</code> whose job it is to update the data for each event. If the batch size is larger than the size of the underlying RingBuffer, the batch will be flushed implicitly, otherwise the publish step will be delayed until the batch size has been reached. This generally increases throughput and efficiency.</p>
<pre><code class="prettyprint java">public class Message {
	int type;
	Buffer buffer;
}

@Autowired
Processor&lt;Message&gt; proc;

public void handle(List&lt;Buffer&gt; buffs) {

	proc.batch(buffs.size(), new Consumer&lt;Message&gt;() {
		ListIterator&lt;Buffer&gt; it = buffs.listIterator();

		public void accept(Message msg) {
			Buffer next = it.next();

			msg.type = next.readInt();
			msg.buffer = next;
		}
	});

}
</code></pre>
<h3>SpringOne2GX</h3>
<p>Reactor will be featured prominently at this year's <a href="http://www.springone2gx.com/conference/santa_clara/2013/09/home" onclick="javascript:urchinTracker('/outbound/www.springone2gx.com');">SpringOne2GX conference</a>, which is less than two weeks away. There will be <a href="http://www.springone2gx.com/conference/santa_clara/2013/09/session?id=29395" onclick="javascript:urchinTracker('/outbound/www.springone2gx.com');">a full session on it lead by Stephane Maldini and Jon Brisbin</a> and almost non-stop water cooler discussion on how this technology can change the way you build applications. There&#039;s still time to <a href="http://www.springone2gx.com/conference/santa_clara/2013/09/register" onclick="javascript:urchinTracker('/outbound/www.springone2gx.com');">register</a> and book a room. But hurry!</p>
<h3>Resources</h3>
<p>GitHub: (source, issue tracker) <a href="https://github.com/reactor/reactor/">https://github.com/reactor/reactor/</a><br />
Wiki: <a href="https://github.com/reactor/reactor/wiki">https://github.com/reactor/reactor/wiki</a><br />
API docs: <a href="https://reactor.github.io/docs/api/" onclick="javascript:urchinTracker('/outbound/reactor.github.io');">http://reactor.github.io/docs/api/</a></p>
<h3>Maven artifacts</h3>
<pre><code class="prettyprint groovy">ext {
	reactorVersion = &#39;1.0.0.M2&#39;
}

repositories {
	mavenCentral()
	maven { url &#39;http://repo.springsource.org/libs-release&#39; }
	maven { url &#39;http://repo.springsource.org/libs-milestone&#39; }
}

dependencies {
	// Reactor core
	compile &quot;org.projectreactor:reactor-core:$reactorVersion&quot;

	// Reactor Groovy support
	compile &quot;org.projectreactor:reactor-groovy:$reactorVersion&quot;

	// Reactor TCP client/server
	compile &quot;org.projectreactor:reactor-tcp:$reactorVersion&quot;

	// Reactor Spring support
	compile &quot;org.projectreactor:reactor-spring:$reactorVersion&quot;
}
</code></pre></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 1142;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
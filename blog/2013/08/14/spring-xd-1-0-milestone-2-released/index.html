<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring XD 1.0 Milestone 2 Released</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring XD 1.0 Milestone 2 Released" />
<meta name="twitter:description" content="&lt;p&gt;Today we are pleased to announce the 1.0 M2 release of Spring XD (&lt;a href=&quot;http://repo.spring.io/libs-milestone-local/org/springframework/xd/spring-xd/1.0.0.M2/spring-xd-1.0.0.M2.zip&quot;&gt;download&lt;/a&gt;)&amp;nbsp; Spring XD is a unified, distributed, and extensible system for data ingestion, real time analytics, batch processing, and data export. &amp;nbsp;The project’s goal is to simplify the development of big data applications.&lt;/p&gt;
&lt;p&gt;The second milestone release of Spring XD introduces several new features that make it even easier to ingest and process real-time streams of data as well as orchestrate Hadoop based batch jobs. &amp;nbsp;In this blog post we will cover&lt;/p&gt;
" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/5cffed9a3aad16d33d07f6e7ef2ebbb7?s=200" />

<meta property="og:title" content="Spring XD 1.0 Milestone 2 Released" />
<meta property="og:image" content="https://gravatar.com/avatar/5cffed9a3aad16d33d07f6e7ef2ebbb7?s=200" />
<meta property="og:description" content="&lt;p&gt;Today we are pleased to announce the 1.0 M2 release of Spring XD (&lt;a href=&quot;http://repo.spring.io/libs-milestone-local/org/springframework/xd/spring-xd/1.0.0.M2/spring-xd-1.0.0.M2.zip&quot;&gt;download&lt;/a&gt;)&amp;nbsp; Spring XD is a unified, distributed, and extensible system for data ingestion, real time analytics, batch processing, and data export. &amp;nbsp;The project’s goal is to simplify the development of big data applications.&lt;/p&gt;
&lt;p&gt;The second milestone release of Spring XD introduces several new features that make it even easier to ingest and process real-time streams of data as well as orchestrate Hadoop based batch jobs. &amp;nbsp;In this blog post we will cover&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2013-08-14 20:29:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>Engineering</div>
</div>
<div class="blog-category active content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring XD 1.0 Milestone 2 Released</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">Releases</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/5cffed9a3aad16d33d07f6e7ef2ebbb7?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/mpollack">Mark Pollack</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2013-08-14 20:29:00.0">August 14, 2013</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="1138" href="/blog/2013/08/14/spring-xd-1-0-milestone-2-released#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>Today we are pleased to announce the 1.0 M2 release of Spring XD (<a href="https://repo.spring.io/libs-milestone-local/org/springframework/xd/spring-xd/1.0.0.M2/spring-xd-1.0.0.M2.zip">download</a>)  Spring XD is a unified, distributed, and extensible system for data ingestion, real time analytics, batch processing, and data export.  The project’s goal is to simplify the development of big data applications.</p><p>The second milestone release of Spring XD introduces several new features that make it even easier to ingest and process real-time streams of data as well as orchestrate Hadoop based batch jobs.  In this blog post we will cover</p>
<ul>
<li>Shell</li>
<li>New sources, sinks and transports</li>
<li>DSL improvements</li>
<li>Batch Jobs</li>
</ul>
<h2>Shell</h2><p>The most noticeable new feature is the introduction of the interactive shell.  The shell provides you an easy way to create new streams and jobs, view metrics, interact with Hadoop, and more.  As an introduction to the shell I will redo some of the examples from the <a href="https://spring.io/blog/2013/06/12/spring-xd-1-0-milestone-1-released/">M1 blog post</a>.</p><p>Start Spring XD in single-node mode ($XD_HOME/bin/xd-singlenode), and in a separate window fire up the shell.  The following example shows how to create a simple stream that writes data posted over http to a file.  Note, the shell provides tab completion hints for the commands.</p>
<pre><code class="prettyprint sh">$bin&gt;./xd-shell
Welcome to the Spring XD shell. For assistance hit TAB or type &quot;help&quot;.

xd:&gt;stream create --name httpStream --definition &quot;http | file&quot;

xd:&gt;tap create --name httpTap --definition &quot;tap httpStream | counter&quot;

xd:&gt;http post --target http://localhost:9000 --data &quot;helloworld&quot;
</code></pre><p>You can list all streams and taps to verify that they were created</p>
<pre><code class="prettyprint sh">xd:&gt;stream list
Stream Name  Stream Definition
-----------  -----------------
httpStream   http | file

xd:&gt;tap list
Tap Name  Stream Name  Tap Definition
--------  -----------  ------------------------
httpTap   httpStream   tap httpStream | counter
</code></pre><p>If you check the file, located in the directory <code>/tmp/xd/output/httpStream.out</code>, you will see the hello world message.</p>
<pre><code class="prettyprint sh">xd:&gt;! cat /tmp/xd/output/httpStream.out

The httpTap is simply counting messages.  To see the name of the counter created and its value, use the counter shell command

xd:&gt;counter list
Counter name
------------
httpTap

xd:&gt;counter display --name httpTap
1
</code></pre>
<p id="docs-internal-guid-76d76141-7d66-e6a1-7f6b-acedecf613a1" dir="ltr">In single-node mode, the counters are in memory but there is also support for Redis, which is the default when not using the single-node mode.  You can enable Redis support with the <code>–analytics redis</code> command line argument.</p>
<p dir="ltr">To create a twitter stream that stores data in Hadoop and a real-time counter of the frequency of hashtags in the tweets run the following commands.  Note, to get a <tt>consumerKey</tt> and <tt>consumerSecret</tt> you need to register a twitter application. If you don’t already have one set up, you can create an app at the <a href="https://dev.twitter.com/apps">Twitter Developers</a> site to get these credentials.</p>
<pre><code class="prettyprint sh">xd:&gt; stream create bieberStream --definition &quot;twittersearch --consumerKey=&lt;your-key&gt; --consumerSecret=&lt;your-secret&gt; --query=bieber | hdfs&quot;

xd:&gt; tap create --name bieberHashTap --definition &quot;tap bieberStream | field-value-counter --fieldName=entities.hashTags.text --counterName=bieberHashCount&quot;

xd:&gt; hadoop config fs --namenode hdfs://localhost:8020

xd:&gt; hadoop fs cat /xd/bieberStream/bieberStream-0.log

... see fun tweets here ...

xd:&gt; fieldvaluecounter display --name bieberHashCount

FieldName=bieberHashCount
-------------------------  -  -----
VALUE                      -  COUNT
mtvhottest                 |  57
MTVHottest                 |  31
MTVhottest                 |  10
mtvhottets                 |  3
MtvHottest                 |  2
MTVHott                    |  2
JustinBieber               |  2
MTVH                       |  2
MTVHOTTEST                 |  2
KCAMEXICO                  |  1
BeliebersAreProudOfJustin  |  1
MyBeliebers                |  1
</code></pre><p>While on the topic of counters, a new <a href="https://docs.spring.io/spring-xd/docs/1.0.0.M2/reference/html/#aggregate-counter">aggregate counter</a> type was introduced that aggregates the counts for a field in a message into per year, month, day, hour and minute time buckets.</p><p>In just a few lines of shell commands you have achieved quite a lot!  Check the <a href="https://docs.spring.io/spring-xd/docs/1.0.0.M2/reference/html/">user guide</a> for details on all the shell commands.</p>
<h2>DSL improvements</h2>
<p id="docs-internal-guid-76d76141-7d6a-170d-da4b-a9d6261b83c3" dir="ltr">The stream processing pipelines shown so far are linear but there is often the need to support more sophisticated flows.  To start addressing this case, named channels are introduced in M2.  Instead of a source or a sink module you can use a named channel.  In keeping with the unix theme, sourcing/sinking data from/to a particular channel uses the `&gt;’ character and the name is prefixed with a `:`</p>
<p dir="ltr">Here is an example that shows how you can use a named channel to share a data pipeline driven by different input sources.</p>
<pre><code class="prettyprint sh">xd:&gt;stream create out --definition &quot;:foo &gt; file --name=demo&quot;
xd:&gt;stream create in1 --definition &quot;http &gt; :foo&quot;
xd:&gt;stream create in2 --definition &quot;time &gt; :foo&quot;
xd:&gt;http post --target  http://localhost:9000 --data &quot;hello&quot;
</code></pre>
<p id="docs-internal-guid-76d76141-7d6c-a06a-6ff9-1d61db92ef53" dir="ltr">Looking at the output file</p>
<pre><code class="prettyprint sh">xd:&gt;! cat /tmp/xd/output/demo.out
</code></pre><p>You will see the word ‘hello’ intermingled with the timestamp values.  The fanout of a message to multiple streams as well as support for routing messages to different streams based on message content is planned for a future milestone release.</p>
<h2 id="docs-internal-guid-76d76141-7d6d-329b-49d6-53db2a9678a2" dir="ltr">New Sources, Sinks and Transports</h2><p>This release provides several additional source and sink modules</p>
<ul>
<li><a href="https://docs.spring.io/spring-xd/docs/1.0.0.M2/reference/html/#mqtt">MQTT</a></li>
<li><a href="https://docs.spring.io/spring-xd/docs/1.0.0.M2/reference/html/#rabbit">RabbitMQ</a></li>
<li><a href="https://docs.spring.io/spring-xd/docs/1.0.0.M2/reference/html/#splunk">Splunk</a></li>
<li><a href="https://docs.spring.io/spring-xd/docs/1.0.0.M2/reference/html/#jdbc_sink">JDBC</a></li>
</ul><p>Also of note is that we have added support for 4 versions of Hadoop</p>
<ul>
<li>hadoop10 - Apache Hadoop 1.0.4 (default)</li>
<li>hadoop11 - Apache Hadoop 1.1.2 and Hortonworks Data Platform 1.3</li>
<li>hadoop20 - Apache Hadoop 2.0.5-alpha</li>
<li>phd1 - Pivotal HD 1.0</li>
</ul><p>You can select the specific distribution jars to use when launching the XDContainer by passing in the command line option <code>–hadoopDistribution</code>.  You should be able to use other Hadoop distributions as well, e.g. Hadoop 1.2.x. We will be adding explicit options for additional distributions in later releases. Of note, there is a sample that shows how to use Spring XD with Pivotal HD&rsquo;s HAWQ functionalty in the <a href="https://github.com/spring-projects/spring-xd-samples/tree/master/pivotal-hd-demo">samples repository</a>.</p><p>The M1 release provided local and Redis queue backed transports for communication between modules as represented by the pipe symbol in the DSL.  The M2 release provides support for Rabbit backed transports, allowing you take advantage of a full featured message broker for stream ingestion.</p>
<h2 id="docs-internal-guid-76d76141-7d70-4b08-2441-61d9ea807802" dir="ltr">Jobs and Triggers</h2>
<p dir="ltr">Batch jobs can be executed using Spring XD and triggers set up to launch these jobs.  As an example, we can reuse the classic wordcount example in Hadoop to provide a simple workflow orchestration that has two steps.  The first step is to copy a file into HDFS and the second to run the wordcount MapReduce job.</p>
<p dir="ltr">To run the example, clone the <a href="https://github.com/spring-projects/spring-xd-samples">spring-xd-samples repository</a> and build the sample batch-wordcount.  Then copy the jar, config, and data file as shown below.</p>
<pre><code class="prettyprint sh">$ cd batch-wordcount
$ mvn clean assembly:assembly
$ cp target/batch-wordcount-1.0.0.BUILD-SNAPSHOT-bin/modules/job/* $XD_HOME/modules/job
$ cp target/batch-wordcount-1.0.0.BUILD-SNAPSHOT-bin/lib/* $XD_HOME/lib
$ cp target/batch-wordcount-1.0.0.BUILD-SNAPSHOT-bin/nietzsche-chapter-1.txt /tmp
</code></pre>
<p id="docs-internal-guid-76d76141-7d73-a834-54d9-c78d94d8738e" dir="ltr">Now stop and restart Spring XD in single-node mode ($XD_HOME/bin/xd-singlenode).  Then in the shell execute the following command</p>
<pre><code class="prettyprint sh">xd:&gt; job create --name wordCountJob --definition &quot;wordcount&quot;
</code></pre><p>Alternatively, can also specify a cron expression that <a href="https://docs.spring.io/spring-xd/docs/1.0.0.M2/reference/html/#_execute_the_batch_job">schedules the job</a> for execution.  You can verify the results by viewing the output from the map reduce job</p>
<pre><code class="prettyprint sh">xd:&gt; hadoop config fs --namenode hdfs://localhost:8020
xd:&gt; hadoop fs cat /count/out/part-r-00000
</code></pre><p>Having other steps in the workflow, such as executing Hive or Pig scripts are also supported.  To author these types of workflow consult the Spring for Apache Hadoop reference guide. Non-Hadoop based steps are also supported.</p>
<h2 id="docs-internal-guid-6414c6bc-7d74-a45b-53e7-08fa56fa2165" dir="ltr">More to come</h2>
<p dir="ltr">A major theme of the next release is to expose more administrative functionality for batch jobs by incorporating components of the <a href="https://docs.spring.io/spring-batch-admin/">Spring Batch Admin</a> project.  You will be able to trigger batch jobs by sending messages to named channels as well as receive job status notifications from named channels.  This would allow you to easily setup the triggering of a batch job based on data availability, for example</p>
<pre><code class="prettyprint sh">file --dir &quot;/data/inbound&quot; | jobParameterCreator &gt; :wordCountJob
</code></pre>
<p dir="ltr">would launch the wordcount batch job when files become available in the directory <code>/data/inbound</code> by sending a message to the named channel :wordCountJob..  As a batch job executes, a stream of data would be available for you to consume messages with data about <a href="https://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/JobExecution.html">JobExecution</a>, <a href="https://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/StepExecution.html">StepExecution</a>, etc.</p>
<pre><code class="prettyprint sh">:wordCountJob.notifications &gt; filter --expression &quot;payload.status.equals(&#39;COMPLETED&#39;)&quot; | email --address &quot;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ff95909abf9c908d8fd19c9092">[email&#160;protected]</a>&quot;
</code></pre><p>The use of channel to exchange data between stream and jobs is one of the areas where you can start to see how Spring XD is taking steps to unify the two domains of stream and batch processing. Stay tuned!</p></div>
</div>
<section id="disqus_thread"></section>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 1138;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
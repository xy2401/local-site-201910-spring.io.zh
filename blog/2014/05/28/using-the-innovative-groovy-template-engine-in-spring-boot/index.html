<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Using the innovative Groovy template engine in Spring Boot</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Using the innovative Groovy template engine in Spring Boot" />
<meta name="twitter:description" content="&lt;p&gt;With the release of &lt;a href=&quot;https://spring.io/blog/2014/05/27/spring-boot-1-1-0-m2-available-now&quot;&gt;Spring Boot 1.1.0.M2&lt;/a&gt; came the support for the &lt;a href=&quot;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&quot;&gt;new template engine&lt;/a&gt; that &lt;a href=&quot;http://groovy.codehaus.org/Groovy+2.3+release+notes&quot;&gt;Groovy 2.3&lt;/a&gt; provides. In this post, we will describe the benefits of using such an engine and of course how you can use it in Boot.&lt;/p&gt;
&lt;p&gt;All the source code in this post is available on GitHub, so feel free to clone the repository and give it a try:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;prettyprint bash&quot;&gt;git clone https://github.com/melix/springboot-groovytemplates.git
cd springboot-groovytemplates
./gradlew run
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then open your browser on &lt;a href=&quot;http://localhost:8080&quot;&gt;http://localhost:8080&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This application is fully written in &lt;a href=&quot;http://groovy.codehaus.org&quot;&gt;Groovy&lt;/a&gt; and also makes use of &lt;a href=&quot;https://spring.io/guides/gs/accessing-data-gorm/&quot;&gt;GORM for Boot&lt;/a&gt;, but it is of course possible to use Groovy only for the templating part and write the rest of the application in Java. Starting from now, we will only focus on the templating aspect of this project.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@CedricChampeau" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/f929f5d80ef8a23b67ad8ac6f08416cd?s=200" />

<meta property="og:title" content="Using the innovative Groovy template engine in Spring Boot" />
<meta property="og:image" content="https://gravatar.com/avatar/f929f5d80ef8a23b67ad8ac6f08416cd?s=200" />
<meta property="og:description" content="&lt;p&gt;With the release of &lt;a href=&quot;https://spring.io/blog/2014/05/27/spring-boot-1-1-0-m2-available-now&quot;&gt;Spring Boot 1.1.0.M2&lt;/a&gt; came the support for the &lt;a href=&quot;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&quot;&gt;new template engine&lt;/a&gt; that &lt;a href=&quot;http://groovy.codehaus.org/Groovy+2.3+release+notes&quot;&gt;Groovy 2.3&lt;/a&gt; provides. In this post, we will describe the benefits of using such an engine and of course how you can use it in Boot.&lt;/p&gt;
&lt;p&gt;All the source code in this post is available on GitHub, so feel free to clone the repository and give it a try:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;prettyprint bash&quot;&gt;git clone https://github.com/melix/springboot-groovytemplates.git
cd springboot-groovytemplates
./gradlew run
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then open your browser on &lt;a href=&quot;http://localhost:8080&quot;&gt;http://localhost:8080&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This application is fully written in &lt;a href=&quot;http://groovy.codehaus.org&quot;&gt;Groovy&lt;/a&gt; and also makes use of &lt;a href=&quot;https://spring.io/guides/gs/accessing-data-gorm/&quot;&gt;GORM for Boot&lt;/a&gt;, but it is of course possible to use Groovy only for the templating part and write the rest of the application in Java. Starting from now, we will only focus on the templating aspect of this project.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2014-05-28 14:59:02.418" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Using the innovative Groovy template engine in Spring Boot</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/f929f5d80ef8a23b67ad8ac6f08416cd?s=20&amp;d=mm" />
<span class="author">CÃ©dric Champeau</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2014-05-28 14:59:02.418">May 28, 2014</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="1602" href="/blog/2014/05/28/using-the-innovative-groovy-template-engine-in-spring-boot#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>With the release of <a href="https://spring.io/blog/2014/05/27/spring-boot-1-1-0-m2-available-now">Spring Boot 1.1.0.M2</a> came the support for the <a href="http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html">new template engine</a> that <a href="http://groovy.codehaus.org/Groovy+2.3+release+notes">Groovy 2.3</a> provides. In this post, we will describe the benefits of using such an engine and of course how you can use it in Boot.</p><p>All the source code in this post is available on GitHub, so feel free to clone the repository and give it a try:</p>
<pre><code class="prettyprint bash">git clone https://github.com/melix/springboot-groovytemplates.git
cd springboot-groovytemplates
./gradlew run
</code></pre><p>Then open your browser on <a href="http://localhost:8080">http://localhost:8080</a></p><p>This application is fully written in <a href="http://groovy.codehaus.org">Groovy</a> and also makes use of <a href="https://spring.io/guides/gs/accessing-data-gorm/">GORM for Boot</a>, but it is of course possible to use Groovy only for the templating part and write the rest of the application in Java. Starting from now, we will only focus on the templating aspect of this project.</p><h1><a href="#dependencies" class="anchor" name="dependencies"></a>Dependencies</h1><p>Integrating with Groovy 2.3 templates in Spring Boot is very easy. You just need to add a dependency to the <code>groovy-templates</code> module in your build file. For example, if you use Gradle, just use this:</p>
<pre><code class="prettyprint groovy">dependencies {
  compile &quot;org.codehaus.groovy:groovy:${groovyVersion}&quot;
  compile &quot;org.codehaus.groovy:groovy-templates:${groovyVersion}&quot;
  compile &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;
  compile &quot;org.grails:gorm-hibernate4-spring-boot:1.0.0.RELEASE&quot;

  runtime &quot;com.h2database:h2:1.3.173&quot;
}
</code></pre><h1><a href="#groovy-templates" class="anchor" name="groovy-templates"></a>Groovy templates</h1><p>The Groovy markup template engine provides an innovative templating system based on the builder syntax. It offers various key features:</p>
<ul>
<li>hierarchical (builder) syntax to generate XML-like contents (in particular, HTML5)</li>
<li>template includes</li>
<li>compilation of templates to bytecode for fast rendering</li>
<li>internationalization</li>
<li>layout mechanism for sharing strucural patterns</li>
<li>optional type checking</li>
</ul><p>and more! you can find a full list of the features of this template engine in the <a href="http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html">documentation</a>. The templates are basically Groovy code with special support for the template use case.</p><p>Let&rsquo;s start with a very simple example, where we want to display an index with a simple message containing the version numbers of Spring Boot and Groovy currently in use:</p>
<pre><code class="prettyprint groovy">yieldUnescaped &#39;&lt;!DOCTYPE html&gt;&#39;
html {
  head {
    title(&#39;Spring Boot - Groovy templates example&#39;)
    link(rel: &#39;stylesheet&#39;, href: &#39;/css/bootstrap.min.css&#39;)
  }
  body {
    div(class: &#39;container&#39;) {
      div(class: &#39;navbar&#39;) {
        div(class: &#39;navbar-inner&#39;) {
          a(class: &#39;brand&#39;,
              href: &#39;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&#39;,
              &#39;Groovy - Template Engine docs&#39;)
          a(class: &#39;brand&#39;,
              href: &#39;hhttp://projects.spring.io/spring-boot/&#39;) {
            yield &#39;Spring Boot docs&#39;
          }
        }
      }
      div(&quot;This is an application using Boot $bootVersion and Groovy templates $groovyVersion&quot;)
    }
  }
}

</code></pre><p>On the first line, you can read the <code>yieldUnescaped</code> instruction. It instructs the renderer to render the argument <em>as is</em>. This instruction can be used to render any kind of text based contents. Here, it is used to render the doctype declaration of our HTML file, but you can really use it to render anything. The template engine provides a number of helper functions like <code>yield</code>, which are described in the <a href="http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html">documentation</a>.</p><p>The rest of the template consists of a hierarchical structure matching the HTML output, making it very natural to render HTML contents. For example, the code: <code>link(rel: &#39;stylesheet&#39;, href: &#39;/css/bootstrap.min.css&#39;)</code> will be rendered as:</p>
<pre><code class="prettyprint html">&lt;link rel=&#39;stylesheet&#39; href=&#39;/css/bootstrap.min.css&#39;/&gt;
</code></pre><p>Similarily, this:</p>
<pre><code class="prettyprint groovy">a(class: &#39;brand&#39;,
  href: &#39;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&#39;,
  &#39;Groovy - Template Engine docs&#39;)
</code></pre><p>will be rendered as:</p>
<pre><code class="prettyprint html">&lt;a class=&#39;brand&#39; href=&#39;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&#39;&gt;Groovy - Template Engine docs&lt;/a&gt;
</code></pre><p>Note how the attributes in the template map to tag attributes in the rendered HTML. The last argument corresponds to the body of the tag. Alternatively, it is possible to use the <code>yield</code> instruction to render the body of the tag:</p>
<pre><code class="prettyprint groovy">a(class: &#39;brand&#39;,
  href: &#39;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&#39;) {
  yield &#39;Groovy - Template Engine docs&#39;
}
</code></pre><p>The choice often depends on whether you have nested contents to render or not. But so far, all the contents that our template generates is static. The last part of the template is more interesting:</p>
<pre><code class="prettyprint groovy">div(&quot;This is an application using Boot $bootVersion and Groovy templates $groovyVersion&quot;)
</code></pre><p>As you guessed, this will be rendered as:</p>
<pre><code class="prettyprint html">&lt;div&gt;This is an application using Boot 1.1.0.M2 and Groovy templates 2.3.2&lt;/div&gt;
</code></pre><p>The template, here, makes use of two variables which are found in the <em>model</em>:</p>
<ul>
<li>bootVersion</li>
<li>groovyVersion</li>
</ul><p>Those are exposed by our application as variables in the template, so let&rsquo;s see how we do this.</p><h1><a href="#the-controller" class="anchor" name="the-controller"></a>The controller</h1><p>The only thing that we have to do is creating a controller which will render our view, and as usual with Spring Boot, it&rsquo;s a matter of a few lines of code:</p>
<pre><code class="prettyprint groovy">package sample

import org.springframework.boot.Banner
import org.springframework.stereotype.Controller
import org.springframework.web.bind.annotation.RequestMapping
import org.springframework.web.servlet.ModelAndView

@Controller
class SampleController {
  @RequestMapping(&quot;/&quot;)
  def home() {
    new ModelAndView(
        &quot;views/home&quot;,
        [bootVersion: Banner.package.implementationVersion, 
         groovyVersion: GroovySystem.version])
  }
}
</code></pre><p>Our <code>home</code> method returns a <code>ModelAndView</code> instance, and the model only contains two elements, which are the Spring Boot version and well as the Groovy version. The view is automatically found thanks to its reference, <code>views/home</code>. Spring Boot expects the view to be found in <code>src/main/resources/templates/views</code>. Can it be easier?</p><h1><a href="#real-life-data" class="anchor" name="real-life-data"></a>Real life data</h1><p>In real life, templates are unlikely to be that simple. You will have entities, databases, CRUD operations, etc&hellip; So the next step is to show you how you can use the new template engine to render a model which is more complex. For that, we made use of GORM, so we will start by defining an entity named <code>Person</code>:</p>
<pre><code class="prettyprint groovy">package sample

import grails.persistence.*

@Entity
class Person {
  String firstName
  String lastName
}
</code></pre><p>And what we will want to do is, for example:</p>
<ul>
<li>listing persons in the database</li>
<li>adding/editing a new person</li>
</ul><p>So we will need two templates: one for listing persons, the other for creating a person (or editing). The list example is interesting because it will let us show you how you can iterate on a list in the template. So before that, let&rsquo;s create a controller with the list operation:</p>
<pre><code class="prettyprint groovy">@Controller
@RequestMapping(&quot;/person&quot;)
class PersonController {

  @RequestMapping(&quot;list&quot;)
  def list() {
    new ModelAndView(&#39;views/person/list&#39;, [persons: Person.list()])
  }
}
</code></pre><p>You can see that similarily to what we did in the simple example, we return a <code>ModelAndView</code> example, but this time, the model contains a list of persons. So let&rsquo;s see what the template looks like:</p>
<pre><code class="prettyprint groovy">yieldUnescaped &#39;&lt;!DOCTYPE html&gt;&#39;
html {
  head {
    title(&#39;Spring Boot - Groovy templates example&#39;)
    link(rel: &#39;stylesheet&#39;, href: &#39;/css/bootstrap.min.css&#39;)
  }
  body {
    div(class: &#39;container&#39;) {
      div(class: &#39;navbar&#39;) {
        div(class: &#39;navbar-inner&#39;) {
          a(class: &#39;brand&#39;,
              href: &#39;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&#39;,
              &#39;Groovy - Template Engine docs&#39;)
          a(class: &#39;brand&#39;,
              href: &#39;hhttp://projects.spring.io/spring-boot/&#39;) {
            yield &#39;Spring Boot docs&#39;
          }
        }
      }

      ul {
        persons.each { person -&gt;
          li {
            a(href:&quot;/person/$person.id&quot;, &quot;$person.lastName $person.firstName&quot;)
          }
        }
      }

      div {
        a(href:&#39;/person/add&#39;, &#39;Add new person&#39;)
      }
    }
  }
}
</code></pre><p>Most of the template is actually corresponding to the decoration of the page, and copied from the original template. At this point, you may wonder what you can do to improve this, but we will come back to that later, and focus on the most interesting part of this template, the iteration:</p>
<pre><code class="prettyprint groovy">ul {
  persons.each { person -&gt;
    li {
      a(href: &quot;/person/$person.id&quot;, &quot;$person.lastName $person.firstName&quot;)
    }
  }
}
</code></pre><p>Looping over the <code>persons</code> variable is done thanks to the traditional <code>each</code> method that Groovy developers are used to. This is normal, because the templates are in fact Groovy code! So we can iterate on the persons, we give a name (<code>person</code>) to the current person in the iteration, then use it inside an <code>a</code> tag.</p><p>With several persons in database, the resulting HTML would be something like this:</p>
<pre><code class="prettyprint html">&lt;ul&gt;
  &lt;li&gt;&lt;a href=&#39;/person/1&#39;&gt;John Doe&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&#39;/person/2&#39;&gt;Bob Dylan&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&#39;/person/3&#39;&gt;Guillaume Laforge&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&#39;/person/4&#39;&gt;Graeme Rocher&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&#39;/person/5&#39;&gt;Dave Syer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre><p>So if you are used to JSPs, GSPs and any kind of HTML-like templating system, you can immediately see that this template engine will release you from the infamous issue of having to deal with opening/closing tags. And this is just a beginning&hellip; As an illustration of how you can simplify things, we will introduce you to the <em>layout</em> mechanism.</p><p>If you remember, we actually have two templates that share a common structure. They both use Twitter Bootstrap, they both share the same menu, and eventually, the only thing that changes is the page title and the main body. What if we could extract this from our templates and share it?</p><h1><a href="#introducing-layouts" class="anchor" name="introducing-layouts"></a>Introducing layouts</h1><p>Layouts are made for this. So let&rsquo;s extract the common part of our template into a <em>main.tpl</em> file that we will save into <em>src/main/resources/templates/layouts</em>:</p>
<pre><code class="prettyprint groovy">yieldUnescaped &#39;&lt;!DOCTYPE html&gt;&#39;
html {
  head {
    title(pageTitle)
    link(rel: &#39;stylesheet&#39;, href: &#39;/css/bootstrap.min.css&#39;)
  }
  body {
    div(class: &#39;container&#39;) {
      div(class: &#39;navbar&#39;) {
        div(class: &#39;navbar-inner&#39;) {
          a(class: &#39;brand&#39;,
              href: &#39;http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html&#39;,
              &#39;Groovy - Template Engine docs&#39;)
          a(class: &#39;brand&#39;,
              href: &#39;hhttp://projects.spring.io/spring-boot/&#39;) {
            yield &#39;Spring Boot docs&#39;
          }
        }
      }
      mainBody()
    }
  }
}
</code></pre><p>This looks very similar to a standard template, but you can actually find two special things:</p>
<ul>
<li><code>title(pageTitle)</code> where <code>pageTitle</code> is expected to be the page title that we want to give</li>
<li><code>mainBody()</code>, which will cause rendering of the main body for pages using that layout. Note the parenthesis which are important.</li>
</ul><p>Now let&rsquo;s update the home page template to use this layout:</p>
<pre><code class="prettyprint groovy">layout &#39;layouts/main.tpl&#39;,
    pageTitle: &#39;Spring Boot - Groovy templates example with layout&#39;,
    mainBody: contents {
      div(&quot;This is an application using Boot $bootVersion and Groovy templates $groovyVersion&quot;)
    }
</code></pre><p>You can see that we call the <code>layout</code> method and provide it with several arguments:</p>
<ul>
<li>the name of the layout file to be used (<code>layouts/main.tpl</code>)</li>
<li><code>pageTitle</code>, a simple string</li>
<li><code>mainBody</code>, using the <code>contents</code> block</li>
</ul><p>Use of the <code>contents</code> block will trigger the rendering of the contents of <code>mainBody</code> inside the layout when the <code>mainBody()</code> instruction is found. So using this layout file, we are definitely sharing a common, structural pattern, against multiple templates. As an illustration, let&rsquo;s see how the <code>list.tpl</code> template now looks like:</p>
<pre><code class="prettyprint groovy">layout &#39;layouts/main.tpl&#39;,
    pageTitle: &#39;List persons&#39;,
    mainBody: contents {
      ul {
        persons.each { person -&gt;
          li {
            a(href:&quot;/person/$person.id&quot;, &quot;$person.lastName $person.firstName&quot;)
          }
        }
      }

      div {
        a(href:&#39;/person/add&#39;, &#39;Add new person&#39;)
      }
    }
</code></pre><p>Of course, layouts are themselves composable, so you can use layouts inside layouts&hellip;</p><h1><a href="#conclusion" class="anchor" name="conclusion"></a>Conclusion</h1><p>In this post, we have showed you how Spring Boot makes it very easy to use the new template engine that Groovy introduced in Groovy 2.3. This template engine offers a very natural and powerful syntax to generate any kind of text based contents. A full description of the capabilities of the template engine can be found in the <a href="http://beta.groovy-lang.org/docs/groovy-2.3.2/html/documentation/markup-template-engine.html">Groovy documentation</a> and an alternative application using the same technology can be found in the <a href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-web-groovy-templates">Spring Boot samples</a>.</p><p>Last but not least, native support for this template engine is coming into Spring 4.1! So expect more Groovy love in the future!</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 1602;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
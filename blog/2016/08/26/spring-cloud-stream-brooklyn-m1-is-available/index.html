<!doctype html><html data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>Spring Cloud Stream Brooklyn.M1 is available</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>System.config({baseURL: "/b92013b"});</script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>System.import('app/main.js')</script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta content="summary" name="twitter:card">
<meta content="@springcentral" name="twitter:site">
<meta name="twitter:title" content="Spring Cloud Stream Brooklyn.M1 is available">
<meta name="twitter:description" content="<p>On behalf of the team, I am pleased to announce the release of the first milestone of the <a href=" http: cloud.spring.io spring-cloud-stream"></head><body>Spring Cloud Stream Brooklyn release train. Spring Cloud Stream Brooklyn.M1 is available for use in the <a href="http://repo.spring.io/libs-milestone-local/org/springframework/cloud/spring-cloud-stream-dependencies/Brooklyn.M1">Spring Milestone repository</a>, a detailed description of its features can be found in the <a href="http://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/">reference documentation</a>. Release notes are available <a href="https://github.com/spring-cloud/spring-cloud-stream-starters/wiki/Brooklyn-Release-Notes">here</a> and include important information on the migration path.<p></p>
<h2><a href="#from-a-monolith-to-a-release-train" class="anchor" name="from-a-monolith-to-a-release-train"></a>From a Monolith to a Release Train</h2>
<p>Spring Cloud Stream Brooklyn.M1 succeeds Spring Cloud Stream 1.0. The change in the naming scheme reflects the project’s structural changes, in particular switching from a monolithic structure, where the core components and the binder implementations are contained together, to a more decentralized one. In the new structure, the core and binder implementations are separate projects, with their own release cadence. A release train BOM aggregates the release components together and manages their versions.</p>
">
<meta name="twitter:creator" content="@mariusbogoevici">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/ee7ff5474c7ecfe0ec209df0eeb531fa?s=200">

<meta property="og:title" content="Spring Cloud Stream Brooklyn.M1 is available">
<meta property="og:image" content="https://gravatar.com/avatar/ee7ff5474c7ecfe0ec209df0eeb531fa?s=200">
<meta property="og:description" content="<p>On behalf of the team, I am pleased to announce the release of the first milestone of the <a href=" http: cloud.spring.io spring-cloud-stream">Spring Cloud Stream Brooklyn release train. Spring Cloud Stream Brooklyn.M1 is available for use in the <a href="http://repo.spring.io/libs-milestone-local/org/springframework/cloud/spring-cloud-stream-dependencies/Brooklyn.M1">Spring Milestone repository</a>, a detailed description of its features can be found in the <a href="http://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/">reference documentation</a>. Release notes are available <a href="https://github.com/spring-cloud/spring-cloud-stream-starters/wiki/Brooklyn-Release-Notes">here</a> and include important information on the migration path.<p></p>
<h2><a href="#from-a-monolith-to-a-release-train" class="anchor" name="from-a-monolith-to-a-release-train"></a>From a Monolith to a Release Train</h2>
<p>Spring Cloud Stream Brooklyn.M1 succeeds Spring Cloud Stream 1.0. The change in the naming scheme reflects the project’s structural changes, in particular switching from a monolithic structure, where the core components and the binder implementations are contained together, to a more decentralized one. In the new structure, the core and binder implementations are separate projects, with their own release cadence. A release train BOM aggregates the release components together and manages their versions.</p>
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2016-08-26 19:19:39.577">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">// Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }</script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
 <li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>Engineering</div>
</div>
<div class="blog-category active content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Cloud Stream Brooklyn.M1 is available</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">Releases</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/ee7ff5474c7ecfe0ec209df0eeb531fa?s=20&d=mm">
<span class="author">Marius Bogoevici</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2016-08-26 19:19:39.577">August 26, 2016</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="2599" href="/blog/2016/08/26/spring-cloud-stream-brooklyn-m1-is-available#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>On behalf of the team, I am pleased to announce the release of the first milestone of the <a href="https://cloud.spring.io/spring-cloud-stream">Spring Cloud Stream</a> Brooklyn release train. Spring Cloud Stream Brooklyn.M1 is available for use in the <a href="https://repo.spring.io/libs-milestone-local/org/springframework/cloud/spring-cloud-stream-dependencies/Brooklyn.M1">Spring Milestone repository</a>, a detailed description of its features can be found in the <a href="https://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/">reference documentation</a>. Release notes are available <a href="https://github.com/spring-cloud/spring-cloud-stream-starters/wiki/Brooklyn-Release-Notes">here</a> and include important information on the migration path.</p><h2><a href="#from-a-monolith-to-a-release-train" class="anchor" name="from-a-monolith-to-a-release-train"></a>From a Monolith to a Release Train</h2>
<p>Spring Cloud Stream Brooklyn.M1 succeeds Spring Cloud Stream 1.0. The change in the naming scheme reflects the project’s structural changes, in particular switching from a monolithic structure, where the core components and the binder implementations are contained together, to a more decentralized one. In the new structure, the core and binder implementations are separate projects, with their own release cadence. A release train BOM aggregates the release components together and manages their versions.</p>
<p>The benefits of this approach are twofold. On one hand, it allows adding new features and fixes to individual implementations at a faster rate. On the other, it lowers the barrier for creating and developing new binders, which as they mature, can become part of a future release train themselves by simply being added to the release train BOM. Finally, it is only fitting for a project that targets the development of microservices not to be a monolith itself!</p>
<p>The following components are part of the Brooklyn.M1 release train:</p>
<ul>
<li>Spring Cloud Stream 1.1.0.M1 (core components)</li>
<li>Spring Cloud Stream Kafka Binder 1.1.0.M1</li>
<li>Spring Cloud Stream Rabbit Binder 1.1.0.M1</li>
</ul>
<p>Let’s see what the new release brings.</p><h2><a href="#what-is-new" class="anchor" name="what-is-new"></a>What is new ?</h2>
<p>Spring Cloud Stream Brooklyn.M1 brings some major upgrades to existing components, and introduces new features targeted towards programming model, application interoperability, and the overall developer experience.</p><h3><a href="#apache-kafka-0-9-new-consumer-support" class="anchor" name="apache-kafka-0-9-new-consumer-support"></a>Apache Kafka 0.9 new consumer support</h3>
<p>The Apache Kafka Binder has been upgraded to use the Kafka new consumer library (introduced with version 0.9), based on <a href="https://projects.spring.io/spring-kafka/">Spring Kafka</a> 1.0.x and <a href="https://github.com/spring-projects/spring-integration-kafka">Spring Integration Kafka</a> 2.0.x, and currently supports Apache Kafka 0.9. The use of the new client library adds a few benefits:</p>
<ul>
<li>Applications using the Apache Kafka Binder do not have to have <code>spring.cloud.stream.instanceIndex</code> set. The new consumer library will take care of assigning partitions to all the instances which are part of a given consumer group, and rebalancing when new instances join or leave - useful especially for scaling consumer applications at runtime. For users that wish to still use a static partition allocation scheme, we will support it by the final release ( <code>spring.cloud.stream.instanceIndex</code> will still be required in that case).</li>
<li>Support for <a href="https://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/#_example_security_configuration">secured clients with SSL and Kerberos</a>.</li>
</ul>
<p>The abstractions of Spring Kafka and Spring Integration Kafka will also make adding support for Apache Kafka 0.10 easier too, and it is expected that the final release will support Kafka 0.10 as well.</p><h3><a href="#reactive-programming-support-with-java-8" class="anchor" name="reactive-programming-support-with-java-8"></a>Reactive programming support (with Java 8)</h3>
<p>In addition to the Spring Integration application model and the <code>@StreamListener</code> present in version 1.0, this release introduces support for <a href="https://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/#_reactive_programming_support">reactive APIs</a>, based on <a href="http://projectreactor.io">Project Reactor</a>. This feature requires the use of Java 8.</p>
<p>Applications can add the <code>spring-cloud-stream-reactive</code> module as a dependency, enabling the use of reactive types directly as the programming abstraction. In the context of data processing, a functional and reactive programming model is extremely attractive because of the declarative and expressive nature of a reactive composition API, which lets the developer focus on what to do, not how. On the other hand, while processing messages individually is a classic paradigm for enterprise integration, when it comes to stream processing, a developer also needs to think about processing a continuous inbound stream of messages, and describe operations that make sense only in that context, like windowing - by time, or count.</p>
<p>Here is an example of a reactive processor for counting words (for determining the most popular tags in the last 5 seconds, every second).</p>
<pre><code class="prettyprint java">@StreamListener
@Output(Processor.OUTPUT)
public Flux<WordCount> count (@Input(Processor.Input) Flux<String> flux) {
  return flux.window(ofSeconds(5), ofSeconds(1))
    .flatMap(window ->
      window.groupBy(word -> word)
        .flatMap(group -> group.reduce(0, (count,word) -> count + 1)
          .map(count -> new WordCount(group.key(), count))));
}
</code></pre>
<p>Additionally, the use of a reactive API allows to integrate with other reactive components, such as reactive web controllers. For a more comprehensive overview of upcoming reactive support in Spring, watch Stephane Maldini and Rossen Stoyanchev’s <a href="https://www.youtube.com/watch?v=Xm-KjMY_Z_w">keynote at Spring One Platform 2016</a>, one of the other Reactive talks at Spring One Platform, or read Dave Syer’s <a href="https://spring.io/blog/2016/06/07/notes-on-reactive-programming-part-i-the-reactive-landscape">blog series</a>.</p><h3><a href="#avro-serialization-and-schema-evolution-support" class="anchor" name="avro-serialization-and-schema-evolution-support"></a>Avro serialization and schema evolution support</h3>
<p>Spring Cloud Stream Brooklyn.M1 is also adding support for Avro and schema evolution. Starting with this release, applications can include the <code>spring-cloud-stream-schema</code> module, which contains <code>MessageConverters</code> with Apache Avro.</p>
<p>The Apache Avro serializers support both <a href="https://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/#_apache_avro_message_converters">fixed schemas</a>, as well as <a href="https://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/#_avro_schema_registry_client_message_converters">dynamically interacting with a schema registry</a>. You can make your applications interact with a schema registry, by simply adding <code>@EnableSchemaRegistryClient</code> to your application and setting the <code>application/*+avro</code> content type on your outbound channels, so that data is sent in Apache Avro format. With this, publisher applications will register schemas for the messages they send, and pass metadata about the subject and version to consumers. Based on that, a consumer can retrieve the writer’s schema from the registry and deserialize the messages it received, even if the schema wasn’t known to them beforehand.</p>
<p>This is an important feature for microservice evolution, as it allows the different components of your system to upgrade or change their schemas and data formats, without breaking the existing ones.</p>
<p>The release includes a <a href="https://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/#_schema_registry_server">schema registry server</a> and a general-purpose <a href="https://docs.spring.io/spring-cloud-stream/docs/Brooklyn.M1/reference/htmlsingle/#_schema_registry_client">schema registry client</a>. An implementation of the schema registry client for the <a href="http://docs.confluent.io/2.0.0/schema-registry/docs/index.html">Confluent schema registry</a> is available as well.</p>
<p>Special thanks to <a href="https://twitter.com/vccarvalho">Vinicius Carvalho</a> for contributing the schema evolution support!</p><h2><a href="#what-is-next" class="anchor" name="what-is-next"></a>What is next ?</h2>
<p>In the following weeks, we will continue the development of the Brooklyn release train, with a goal of producing a release candidate. As it is customary with milestones, some API changes are to be expected until the RC. Here are a few intended additional features before the final release:</p>
<ul>
<li>add support for Apache Kafka 0.10 via a simple drop-in replacement of the Spring Kafka library with version 1.1;</li>
<li>add support for Reactive binders (including reactive producers and consumers, such as the ones introduced by the <a href="https://github.com/reactor/reactor-kafka">Reactor Kafka</a> project);</li>
<li>add support for developing applications using the <a href="https://kafka.apache.org/documentation.html#streams">Kafka Stream API</a>;</li>
</ul>
<p>And, as always, we welcome feedback: either in <a href="https://github.com/spring-cloud/spring-cloud-stream">GitHub</a>, on <a href="https://stackoverflow.com/questions/tagged/spring-cloud-stream">Stack Overflow</a>, or on <a href="https://twitter.com/springcloudoss">Twitter</a>.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">var disqus_shortname = 'spring-io';
      var disqus_identifier = 2599;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });</script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> •
<a href="https://pivotal.io/privacy-policy">Privacy</a> •
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
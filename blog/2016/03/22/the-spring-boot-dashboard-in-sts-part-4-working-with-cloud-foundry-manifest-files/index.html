<html  data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>STS中的Spring Boot仪表板-第4部分：使用Cloud Foundry清单文件</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="The Spring Boot Dashboard in STS - Part 4: Working with Cloud Foundry manifest files">
<meta name="twitter:description" content="<p>Welcome back Spring community,</p>
<div class=" paragrap="="> 
 </head><body ><p>the latest release 3.7.3 of the Spring Tool Suite introduces a number of new features around the Spring Boot Dashboard. Therefore we continue the blog post series that started last year and introduced you to the new way of working with Spring Boot based microservice projects in your IDE (you can find links to the previous parts at the bottom).</p> 

<h2>Cloud Foundry manifest files</h2>
<div class="paragraph"> 
 <p>In this new part of the series we take a closer look at Cloud Foundry manifest files. They are a Cloud Foundry concept used as a shortcut to define configurations for applications on Cloud Foundry. Instead of passing every argument and configuration to the command line when doing a “cf push”, you can put all your configuration data into a YAML file and pass that to the push command instead. More detailed information about Cloud Foundry Manifest files can be found here.</p> 
</div>
">
<meta name="twitter:creator" content="@martinlippert">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/8491f7d4276bddcfdcefaf5ae860b9f6?s=200">

<meta property="og:title" content="The Spring Boot Dashboard in STS - Part 4: Working with Cloud Foundry manifest files">
<meta property="og:image" content="https://gravatar.com/avatar/8491f7d4276bddcfdcefaf5ae860b9f6?s=200">
<meta property="og:description" content="<p>Welcome back Spring community,</p>
<div class=" paragrap="="> 
 <p>the latest release 3.7.3 of the Spring Tool Suite introduces a number of new features around the Spring Boot Dashboard. Therefore we continue the blog post series that started last year and introduced you to the new way of working with Spring Boot based microservice projects in your IDE (you can find links to the previous parts at the bottom).</p> 

<h2>Cloud Foundry manifest files</h2>
<div class="paragraph"> 
 <p>In this new part of the series we take a closer look at Cloud Foundry manifest files. They are a Cloud Foundry concept used as a shortcut to define configurations for applications on Cloud Foundry. Instead of passing every argument and configuration to the command line when doing a “cf push”, you can put all your configuration data into a YAML file and pass that to the push command instead. More detailed information about Cloud Foundry Manifest files can be found here.</p> 
</div>
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2016-03-22 10:58:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">STS中的Spring Boot仪表板-第4部分：使用Cloud Foundry清单文件</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/8491f7d4276bddcfdcefaf5ae860b9f6?s=20&d=mm"> <a class="author" rel="author" href="/team/mlippert">马丁·利珀特</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2016-03-22 10:58:00.0">2016年3月22日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2016/03/22/the-spring-boot-dashboard-in-sts-part-4-working-with-cloud-foundry-manifest-files#disqus_thread" data-disqus-identifier="2434">
</a></div>
</div>
</header>
<div class="blog--post"><p>欢迎回到Spring社区，</p>
<div class="paragraph">
<p>Spring Tool Suite的最新版本3.7.3在Spring Boot Dashboard周围引入了许多新功能。因此，我们继续从去年开始的博客文章系列，向您介绍了在IDE中使用基于Spring Boot的微服务项目的新方法（您可以在底部找到指向前面各部分的链接）。</p>
</div>
<h2>Cloud Foundry清单文件</h2>
<div class="paragraph">
<p>在本系列的这一新部分中，我们将仔细研究Cloud Foundry清单文件。它们是Cloud Foundry概念，用作为Cloud Foundry上的应用程序定义配置的快捷方式。不必在执行“ cf push”时将所有参数和配置传递给命令行，而是可以将所有配置数据放入YAML文件中，然后将其传递给push命令。可以在此处找到有关Cloud Foundry Manifest文件的更多详细信息。</p>
</div>
<div class="paragraph">
<p>如果项目中存在名为“ manifest.yml”的文件，则Spring Boot Dashboard的早期版本已经使用清单文件将应用程序部署到CF。为方便起见，此操作是在“幕后”完成的。很好而且有用。但是由于这种支持的“隐藏性质”，也引起了混乱。</p>
</div>
<h2>部署应用程序时选择清单文件</h2>
<div class="paragraph">
<p>Spring Boot Dashboard的新版本以一流的公民身份支持Cloud Foundry清单文件。当您首次从启动仪表板内部将应用程序部署到Cloud Foundry目标时，这开始显示。出现对话框，询问您该部署操作应使用哪个清单文件。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/01-boot-dashboard-select-manifest-dialog.png">
<div class="paragraph">
<p>此对话框允许您选择要用于部署应用程序的清单文件。这也使您可以在项目中拥有多个清单文件-例如，针对Cloud Foundry上的不同空间或不同的部署环境。您还可以通过为每个部署操作选择不同的清单文件，将同一应用程序多次部署到同一Cloud Foundry目标。</p>
</div>
<div class="paragraph">
<p>该对话框将显示所选清单文件的内容，以便您可以验证是否选择了正确的清单文件。而且，如果清单文件中有问题，则无需返回主IDE工作台，打开文件，对其进行编辑，保存并返回到部署操作。而是直接在对话框中编辑清单文件的内容。这使得将应用程序部署到Cloud Foundry变得非常容易。</p>
</div>
<div class="paragraph">
<p>如果您在Cloud Foundry上更新项目，则启动仪表板将记住您的选择并再次使用相同的清单文件。这也意味着下次将应用程序重新部署到Cloud Foundry时（例如，在启动仪表板重启操作期间），将考虑对清单文件的更改。</p>
</div>
<div class="paragraph">
<p>当然，您可以改变主意并决定选择其他清单文件。上下文菜单中的操作使您可以打开相同的“选择清单文件”对话框，并进行其他选择。应用程序的下一次重新部署将考虑该更改。您还可以使用此对话框快速检查当前与该项目关联的清单文件。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/02-boot-dashboard-select-manifest-action.png">
<h2>在没有清单文件的情况下进行部署</h2>
<div class="paragraph">
<p>有时您还没有清单文件，或者您不想使用现有的清单文件。在这种情况下，您可以在对话框中选择“手动模式”。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/03-boot-dashboard-manifest-manual-mode.png">
<div class="paragraph">
<p>它为临时清单文件打开一个编辑器区域，并用一些默认内容填充该区域。您可以编辑此临时清单内容，添加属性或更改现有属性。这使您可以完全定义将应用程序部署到Cloud Foundry的方式。</p>
</div>
<div class="paragraph">
<p>该临时清单的内容不会存储在任何地方（我们可能会添加一个便捷选项，以将手动输入的清单内容快速保存到新文件中），IDE不会在下次您在Cloud Foundry上更新应用程序时记住它。相反，在更新应用程序时，将保留并使用Cloud Foundry上的现有配置。</p>
</div>
<div class="paragraph">
<p>如果您以前使用过清单文件，然后决定切换到手动模式，则也是如此。对应用程序的后续更新将使Cloud Foundry上的配置保持不变。</p>
</div>
<h2>CF上的配置已更改</h2>
<div class="paragraph">
<p>假设您使用清单文件将应用程序从启动仪表板内部署到Cloud Foundry。然后，您进入Web控制台并将服务添加到已部署的应用程序中-或更改内存设置，按比例放大或对配置进行类似更改。如果返回到启动仪表板，也许更改了应用程序的某些代码，然后在Cloud Foundry上重新启动（并因此更新）了该应用程序，则启动仪表板将再次使用清单文件-并丢弃对您配置的所有更改在CF上制作。为避免这种情况，启动仪表板在重新部署使用清单文件的应用程序时会检查Cloud Foundry上的配置更改。如果发现配置不匹配，则会打开“差异和合并”对话框-并显示详细的更改。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/04-boot-dashboard-manifest-diff-merge-dialog.png">
<div class="paragraph">
<p>此功能可防止您意外覆盖配置更改。它是一个功能强大的对话框，可让您将CF上的配置更改合并到本地清单文件中。您可以一次合并所有变更，也可以合并所有变更。这样就可以轻松地通过这些更改来更新本地清单文件，并且以后在更新应用程序时可以继续使用清单文件。</p>
</div>
<div class="paragraph">
<p>如果您不希望CF上的那些配置更改反映在本地清单文件中，请选择“忘记清单”按钮，引导仪表板会将配置保留在Cloud Foundry上。它将应用程序切换到“手动模式”部署。</p>
</div>
<div class="paragraph">
<p>同样，如果您想显式更改这些设置，请转到上下文菜单并选择“选择清单”操作。</p>
</div>
<h2>编辑清单文件</h2>
<div class="paragraph">
<p>尽管Cloud Foundry清单文件是为Cloud Foundry配置应用程序的一种好方法，但编辑这些文件可能很麻烦。幸运的是，新版本的Spring Tool Suite附带了一个用于Cloud Foundry清单文件的专用编辑器。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/05-manifest-yml-open-with.png">
<div class="paragraph">
<p>它为属性名称和选定的属性值提供了很好的内容辅助。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/06-manifest-yml-content-assist.png">
<div class="paragraph">
<p>如果将鼠标悬停在这些属性上，则会获得有关该属性的更多帮助，以及有关如何以及何时使用它的示例。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/07-manifest-yml-hover.png">
<div class="paragraph">
<p>键入时还将验证文件。协调错误会以与Spring Boot属性文件中或编辑Java代码时相同的方式直接显示在编辑器中。</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/08-manifest-yml-reconcile.png">
<div class="paragraph">
<p>好消息是：“选择清单文件”对话框中也提供了这种高级编辑支持（例如，在处理手动清单或更改所选清单文件内容时）：</p>
</div>
<img src="https://docs.spring.io/sts/nan/v373/img/blog-series/09-boot-dashboard-manifest-manual-mode-editing.png">
<h2>接下来</h2>
<div class="paragraph">
<p>本博客系列的下一部分将介绍为本地Spring Boot应用程序使用多种启动配置提供的新支持。敬请关注。</p>
</div>
<h2>Spring Boot仪表板博客系列：</h2>
<ul>
<li><a href="https://spring.io/blog/2015/10/08/the-spring-boot-dashboard-in-sts-part-1-local-boot-apps">STS中的Spring Boot仪表板-第1部分：本地启动应用程序</a></li>
<li><a href="https://spring.io/blog/2015/10/15/the-spring-boot-dashboard-in-sts-part-2-working-with-cloud-foundry">STS中的Spring Boot仪表板-第2部分：使用Cloud Foundry</a></li>
<li><a href="https://spring.io/blog/2015/10/22/the-spring-boot-dashboard-in-sts-part-3-spring-boot-devtools-reloaded">STS中的Spring Boot仪表板-第3部分：重新加载了Spring Boot Devtools</a></li>
</ul>
<div class="paragraph">
<p>如果您恰好在五月中旬在巴塞罗那（无论如何都不会错过巴塞罗那！），不要错过参加<a href="http://www.springio.net/">Spring I / O大会</a>的机会，我将在此发表有关Spring的最新，最精彩的演讲。一般。另外， <a href="http://springoneplatform.io/">SpringOne平台</a> （8月初，拉斯维加斯）的注册最近已经开放，以防您想从早鸟票价格中受益。</p>
</div></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2434;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring Integration Zip 1.0.0.M1 and others</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring Integration Zip 1.0.0.M1 and others" />
<meta name="twitter:description" content="&lt;p&gt;Dear Spring Community,&lt;/p&gt;
&lt;p&gt;The Spring Integration team wants to wish you a Happy New Year!&lt;/p&gt;
&lt;p&gt;We have been super-busy working on new features and improvements. Here is an overview of our recent activities around Spring Integration and Spring AMQP:&lt;/p&gt;
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;We made several maintenance releases of Spring Integration 4.2.x, the most recent being Spring Integration 4.2.4. All other maintenance versions will be released only on &lt;a href=&quot;https://spring.io/blog/2015/10/27/spring-integration-maintenance-releases-available&quot;&gt;demand&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Spring Integration 4.3 is planned for this summer. Furthermore, for version 5.0, we started looking more closely at incorporating Reactive Streams into the Framework.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Similarly with the Spring AMQP project, the current maintenance version is &lt;code&gt;1.5.3&lt;/code&gt; and &lt;code&gt;1.6&lt;/code&gt; has been started, too.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Spring Integration Java DSL &lt;code&gt;1.1.1&lt;/code&gt; is available, too. You can find several Java DSL samples in the latest &lt;a href=&quot;http://docs.spring.io/spring-integration/docs/latest-ga/reference/html/files.html#_configuring_with_the_java_dsl_7&quot;&gt;Spring Integration Manual&lt;/a&gt;, by the way.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Spring Integration Kakfa 1.3 has been released as well with features like:&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Kafka Native Offest Manager;&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt;Sync Producer and &lt;code&gt;ProducerListener&lt;/code&gt; callback support;&lt;/li&gt; 
 &lt;li&gt;New Brokers discovery for the &lt;code&gt;KafkaMessageListenerContainer&lt;/code&gt;;&lt;/li&gt; 
 &lt;li&gt;And yes: the High Level Consumer Adapter has been deprecated.&lt;/li&gt; 
&lt;/ul&gt;
" />
<meta name="twitter:creator" content="@artem_bilan" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=200" />

<meta property="og:title" content="Spring Integration Zip 1.0.0.M1 and others" />
<meta property="og:image" content="https://gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=200" />
<meta property="og:description" content="&lt;p&gt;Dear Spring Community,&lt;/p&gt;
&lt;p&gt;The Spring Integration team wants to wish you a Happy New Year!&lt;/p&gt;
&lt;p&gt;We have been super-busy working on new features and improvements. Here is an overview of our recent activities around Spring Integration and Spring AMQP:&lt;/p&gt;
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;We made several maintenance releases of Spring Integration 4.2.x, the most recent being Spring Integration 4.2.4. All other maintenance versions will be released only on &lt;a href=&quot;https://spring.io/blog/2015/10/27/spring-integration-maintenance-releases-available&quot;&gt;demand&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Spring Integration 4.3 is planned for this summer. Furthermore, for version 5.0, we started looking more closely at incorporating Reactive Streams into the Framework.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Similarly with the Spring AMQP project, the current maintenance version is &lt;code&gt;1.5.3&lt;/code&gt; and &lt;code&gt;1.6&lt;/code&gt; has been started, too.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Spring Integration Java DSL &lt;code&gt;1.1.1&lt;/code&gt; is available, too. You can find several Java DSL samples in the latest &lt;a href=&quot;http://docs.spring.io/spring-integration/docs/latest-ga/reference/html/files.html#_configuring_with_the_java_dsl_7&quot;&gt;Spring Integration Manual&lt;/a&gt;, by the way.&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Spring Integration Kakfa 1.3 has been released as well with features like:&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Kafka Native Offest Manager;&lt;/p&gt;&lt;/li&gt; 
 &lt;li&gt;Sync Producer and &lt;code&gt;ProducerListener&lt;/code&gt; callback support;&lt;/li&gt; 
 &lt;li&gt;New Brokers discovery for the &lt;code&gt;KafkaMessageListenerContainer&lt;/code&gt;;&lt;/li&gt; 
 &lt;li&gt;And yes: the High Level Consumer Adapter has been deprecated.&lt;/li&gt; 
&lt;/ul&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2016-01-12 00:00:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>Engineering</div>
</div>
<div class="blog-category active content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Integration Zip 1.0.0.M1 and others</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">Releases</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/artembilan">Artem Bilan</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2016-01-12 00:00:00.0">January 12, 2016</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="2344" href="/blog/2016/01/12/spring-integration-zip-1-0-0-m1-and-others#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>Dear Spring Community,</p>
<p>The Spring Integration team wants to wish you a Happy New Year!</p>
<p>We have been super-busy working on new features and improvements. Here is an overview of our recent activities around Spring Integration and Spring AMQP:</p>
<ul>
<li>
<p>We made several maintenance releases of Spring Integration 4.2.x, the most recent being Spring Integration 4.2.4. All other maintenance versions will be released only on <a href="https://spring.io/blog/2015/10/27/spring-integration-maintenance-releases-available">demand</a>.</p></li>
<li>
<p>Spring Integration 4.3 is planned for this summer. Furthermore, for version 5.0, we started looking more closely at incorporating Reactive Streams into the Framework.</p></li>
<li>
<p>Similarly with the Spring AMQP project, the current maintenance version is <code>1.5.3</code> and <code>1.6</code> has been started, too.</p></li>
<li>
<p>Spring Integration Java DSL <code>1.1.1</code> is available, too. You can find several Java DSL samples in the latest <a href="https://docs.spring.io/spring-integration/docs/latest-ga/reference/html/files.html#_configuring_with_the_java_dsl_7">Spring Integration Manual</a>, by the way.</p></li>
<li>
<p>Spring Integration Kakfa 1.3 has been released as well with features like:</p></li>
<li>
<p>Kafka Native Offest Manager;</p></li>
<li>Sync Producer and <code>ProducerListener</code> callback support;</li>
<li>New Brokers discovery for the <code>KafkaMessageListenerContainer</code>;</li>
<li>And yes: the High Level Consumer Adapter has been deprecated.</li>
</ul>
<p>We are also working on Spring Integration Kafka 2.0 which will be based on Apache Kafka 0.9.</p><h2><a href="#spring-integration-zip" class="anchor" name="spring-integration-zip"></a>Spring Integration Zip</h2>
<p>Today we are pleased to announce that the <a href="https://github.com/spring-projects/spring-integration-extensions/tree/master/spring-integration-zip">Spring Integration Zip</a> <strong>1.0.0.M1</strong> is now available from the <a href="https://repo.spring.io/milestone/">Milestone Repository</a>.</p>
<p>Especial thanks to our pal <a href="https://spring.io/team/ghillert">Gunnar Hillert</a>, who initiated and started the work for this extension.</p>
<p>The Spring Integration Zip extension provides compression/uncompression components as you would expect. The “hard” work is done by the <code>AbstractZipTransformer</code> implementations which uses the <a href="https://github.com/zeroturnaround/zt-zip">ZeroTurnaround ZIP Library</a> under the covers. <code>zt-zip</code> provides a convenient, high-level API over the standard <code>java.util.zip</code> package.</p>
<p>With this Milestone 1 the following components are provided:</p><h3><a href="#zip-transformer" class="anchor" name="zip-transformer"></a>Zip transformer</h3>
<p>The goal of this component is to zip inbound message payloads and to produce a compressed archive, based on the java.util.zip.Deflater compression level. The following message payload types are supported: <code>File</code>, <code>String</code>, <code>byte[]</code> or <code>Iterable</code> of those types. The result can be returned either as a <code>File</code> or as <code>byte[]</code> of compressed data. This is defined by the <code>ZipResultType</code>.</p>
<p>It is easy to configure the Zip Transformer with XML components:</p>
<pre><code class="prettyprint xml">&lt;int-zip:zip-transformer input-channel=&quot;input&quot;
                         output-channel=&quot;output&quot;
                         result-type=&quot;BYTE_ARRAY&quot;
                         compression-level=&quot;9&quot;/&gt;
</code></pre>
<p>as well as with Java Config:</p>
<pre><code class="prettyprint java">@Bean
@Transformer(inputChannel = &quot;input&quot;, outputChannel = &quot;output&quot;)
public ZipTransformer zipTransformer() {
    ZipTransformer zipTransformer = new ZipTransformer();
    zipTransformer.setCompressionLevel(Deflater.BEST_COMPRESSION);
    zipTransformer.setZipResultType(ZipResultType.BYTE_ARRAY);
    return zipTransformer;
}
</code></pre><h3><a href="#unzip-transformer" class="anchor" name="unzip-transformer"></a>UnZip transformer</h3>
<p>The logic implemented in the uncompression component is similarly straightforward. For the input message payload, the following types are supported: <code>File</code>, <code>String</code> or <code>byte[]</code> and treated as an archive to decompress. When unzipping data, you can also specify a property <code>expectSingleResult</code>. If set to <code>true</code> and more than <code>1</code> zip entry were detected, a <code>MessagingException</code> will be raised. This property also influences the return type of the payload. If set to <code>false</code> (the default), then the payload will be of type <code>SortedMap</code>, if <code>true</code>, however, the actual zip entry will be returned.</p>
<p>The config for this component is simple, too:</p>
<pre><code class="prettyprint xml">&lt;int-zip:unzip-transformer input-channel=&quot;input&quot;
                           output-channel=&quot;output&quot;
                           delete-files=&quot;true&quot;
                           result-type=&quot;FILE&quot;
                           expect-single-result=&quot;true&quot;/&gt;
</code></pre>
<pre><code class="prettyprint java">@Bean
@Transformer(inputChannel = &quot;input&quot;, outputChannel = &quot;output&quot;)
public UnZipTransformer unZipTransformer() {
    UnZipTransformer unZipTransformer = new UnZipTransformer();
    unZipTransformer.setExpectSingleResult(true);
    unZipTransformer.setZipResultType(ZipResultType.FILE);
    unZipTransformer.setWorkDirectory(new File(&quot;/usr/tmp/uncompress&quot;));
    unZipTransformer.setDeleteFiles(true);
    return unZipTransformer;
}
</code></pre><h3><a href="#unzip-result-splitter" class="anchor" name="unzip-result-splitter"></a>UnZip Result Splitter</h3>
<p>The <code>UnZipResultSplitter</code> can be used as a downstream helper component to produce each unzipped entry as a separate message. The <code>FileHeaders.FILENAME</code> and <code>ZipHeaders.ZIP_ENTRY_PATH</code> headers are populated for each splitted item:</p>
<pre><code class="prettyprint xml">&lt;int:chain input-channel=&quot;input&quot; output-channel=&quot;out&quot;&gt;
    &lt;int-zip:unzip-transformer result-type=&quot;BYTE_ARRAY&quot;/&gt;
    &lt;int:splitter&gt;
        &lt;bean class=&quot;org.springframework.integration.zip.splitter.UnZipResultSplitter&quot;/&gt;
    &lt;/int:splitter&gt;
&lt;/int:chain&gt;
</code></pre><h2><a href="#conclusion" class="anchor" name="conclusion"></a>Conclusion</h2>
<p>This is just the beginning for this extension and any community feedback is very important to us as it helps us to understand what to improve, what should be added or changed. Therefore, do not hesitate to reach out to us via any available channel to share your ideas or to get some help from us!</p>
<p><a href="https://github.com/spring-projects/spring-integration-extensions">Project Page</a> | <a href="https://jira.spring.io/browse/INTEXT">JIRA</a> | <a href="https://github.com/spring-projects/spring-integration/blob/master/CONTRIBUTING.md">Contributions</a> | <a href="https://stackoverflow.com">StackOverflow</a> (<code>spring-integration</code> tag)</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2344;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
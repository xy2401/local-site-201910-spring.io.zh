<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring Data Geode 1.0.0.INCUBATING-RELEASE Released</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring Data Geode 1.0.0.INCUBATING-RELEASE Released" />
<meta name="twitter:description" content="&lt;p&gt;On behalf of the &lt;em&gt;Spring&lt;/em&gt; and &lt;em&gt;Apache Geode&lt;/em&gt; communities, I am extremely pleased and excited to announce the release of &lt;em&gt;Spring Data&lt;/em&gt; for &lt;a href=&quot;http://geode.incubator.apache.org/releases/&quot;&gt;Apache Geode 1.0.0-incubating&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can get the bits from &lt;a href=&quot;http://search.maven.org/#search%7Cga%7C1%7Cspring-data-geode&quot;&gt;Maven Central&lt;/a&gt; by including the following dependency in either your application Maven POM or Gradle build file…&lt;/p&gt;
&lt;h4&gt;&lt;a href=&quot;#maven&quot; class=&quot;anchor&quot; name=&quot;maven&quot;&gt;&lt;/a&gt;Maven&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&quot;prettyprint&quot;&gt;&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-data-geode&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.0.0.INCUBATING-RELEASE&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a href=&quot;#gradle&quot; class=&quot;anchor&quot; name=&quot;gradle&quot;&gt;&lt;/a&gt;Gradle&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&quot;prettyprint&quot;&gt;compile &#39;org.springframework.data:spring-data-geode:1.0.0.INCUBATING-RELEASE&#39;
&lt;/code&gt;&lt;/pre&gt;
" />
<meta name="twitter:creator" content="@john_blum" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/8b744eb1317603fabdc12e64d10d5f12?s=200" />

<meta property="og:title" content="Spring Data Geode 1.0.0.INCUBATING-RELEASE Released" />
<meta property="og:image" content="https://gravatar.com/avatar/8b744eb1317603fabdc12e64d10d5f12?s=200" />
<meta property="og:description" content="&lt;p&gt;On behalf of the &lt;em&gt;Spring&lt;/em&gt; and &lt;em&gt;Apache Geode&lt;/em&gt; communities, I am extremely pleased and excited to announce the release of &lt;em&gt;Spring Data&lt;/em&gt; for &lt;a href=&quot;http://geode.incubator.apache.org/releases/&quot;&gt;Apache Geode 1.0.0-incubating&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can get the bits from &lt;a href=&quot;http://search.maven.org/#search%7Cga%7C1%7Cspring-data-geode&quot;&gt;Maven Central&lt;/a&gt; by including the following dependency in either your application Maven POM or Gradle build file…&lt;/p&gt;
&lt;h4&gt;&lt;a href=&quot;#maven&quot; class=&quot;anchor&quot; name=&quot;maven&quot;&gt;&lt;/a&gt;Maven&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&quot;prettyprint&quot;&gt;&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.springframework.data&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-data-geode&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.0.0.INCUBATING-RELEASE&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a href=&quot;#gradle&quot; class=&quot;anchor&quot; name=&quot;gradle&quot;&gt;&lt;/a&gt;Gradle&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&quot;prettyprint&quot;&gt;compile &#39;org.springframework.data:spring-data-geode:1.0.0.INCUBATING-RELEASE&#39;
&lt;/code&gt;&lt;/pre&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2016-11-10 18:08:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Data Geode 1.0.0.INCUBATING-RELEASE Released</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/8b744eb1317603fabdc12e64d10d5f12?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/jxblum">John Blum</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2016-11-10 18:08:00.0">November 10, 2016</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="2690" href="/blog/2016/11/10/spring-data-geode-1-0-0-incubating-release-released#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>On behalf of the <em>Spring</em> and <em>Apache Geode</em> communities, I am extremely pleased and excited to announce the release of <em>Spring Data</em> for <a href="https://geode.incubator.apache.org/releases/">Apache Geode 1.0.0-incubating</a>.</p>
<p>You can get the bits from <a href="https://search.maven.org/#search%7Cga%7C1%7Cspring-data-geode">Maven Central</a> by including the following dependency in either your application Maven POM or Gradle build file&hellip;</p><h4><a href="#maven" class="anchor" name="maven"></a>Maven</h4>
<pre><code class="prettyprint">&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;
  &lt;artifactId&gt;spring-data-geode&lt;/artifactId&gt;
  &lt;version&gt;1.0.0.INCUBATING-RELEASE&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h4><a href="#gradle" class="anchor" name="gradle"></a>Gradle</h4>
<pre><code class="prettyprint">compile &#39;org.springframework.data:spring-data-geode:1.0.0.INCUBATING-RELEASE&#39;
</code></pre>
<p>Including the <code>spring-data-geode</code> dependency will transitively pull in all required <em>Apache Geode</em> artifacts so you can start building <em>Spring</em> applications that use <em>Apache Geode</em> now.</p><h4><a href="#note" class="anchor" name="note"></a>NOTE:</h4>
<blockquote>
<p>I changed the version qualifier again by removing the <code>APACHE-GEODE</code> qualification and simplifying to <code>INCUBATING-RELEASE</code>. Once <em>Apache Geode</em> graduates, the <code>INCUBATING</code> qualification will drop off as well and the version number will simply become <code>major.minor.maint.[M#|RC#|RELEASE]</code>.</p>
</blockquote><h1><a href="#what-rsquo-s-new" class="anchor" name="what-rsquo-s-new"></a>What&rsquo;s New</h1>
<p>Both <em>Spring Data Geode</em> <strong>1.0.0.INCUBATING-RELEASE</strong> and <em>Apache Geode</em> <strong>1.0.0-incubating</strong> release are significant for several reasons.</p>
<p>First and foremost, this marks the first, <a href="http://markmail.org/message/5p4kx6akynrt6cvo">official GA release</a> of <a href="https://geode.incubator.apache.org/">Apache Geode</a> inside the <em>Apache Software Foundation</em> (ASF). This is a massive step forward not only to signify the maturity of Geode, which is rooted in over a decade of production experience that is <a href="https://pivotal.io/big-data/pivotal-gemfire">Pivotal GemFire</a>, but also accelerates it&rsquo;s graduation as a Top-Level Project (TLP) inside ASF.</p>
<p>But, that&rsquo;s not all!</p><h1><a href="#security" class="anchor" name="security"></a>Security!</h1>
<p>This release also incorporates significant changes to the security model of <em>Apache Geode</em> by introducing a <strong>new</strong>, <a href="https://geode.incubator.apache.org/docs/guide/managing/security/chapter_overview.html"><em>Integrated Security</em> framework</a> (some technical details <a href="https://cwiki.apache.org/confluence/display/GEODE/Geode+Integrated+Security">here</a>) that not only includes secure transport (i.e. SSL) but authentication and authorization as well.</p>
<p>This is significant because <em>Apache Geode</em> is one of the few OSS IMDG options to offer Security without an Enterprise license!</p>
<p>One of the best things about this new feature is that it is a <em>framework</em> allowing different security providers to be plugged in. Out-of-the-box, Geode is built on <a href="https://shiro.apache.org/">Apache Shiro</a>, which provides a familiar and robust way to configure security not only for Geode, but your applications as well.</p><h1><a href="#how-to-secure-apache-geode" class="anchor" name="how-to-secure-apache-geode"></a>How-To Secure Apache Geode</h1>
<p>Without <em>Spring (Data Geode)</em>, <em>Apache Geode</em> provides its own options for configuring security.</p>
<p>One option is to implement the <em>Apache Geode</em> <a href="https://geode.incubator.apache.org/releases/latest/javadoc/org/apache/geode/security/SecurityManager.html">SecurityManager</a> interface and <a href="https://geode.incubator.apache.org/docs/guide/managing/security/enable_security.html">set</a> the corresponding Geode <code>security-manager</code> (System) property to the fully-qualified class name. An example of this can be seen <a href="https://cwiki.apache.org/confluence/display/GEODE/Using+Custom+SecurityManager">here</a>.</p>
<p>But, using a property to reference a FQCN severely limits how you configure the <code>SecurityManager</code> in a managed environment or test context. Per my feedback, this will be <a href="https://issues.apache.org/jira/browse/GEODE-2030">addressed</a> in a later Geode release.</p>
<p>Another option is to use <em>Apache Geode&rsquo;s</em> <code>security-shiro-init</code> (System) property to specify an <a href="https://shiro.apache.org/configuration.html#Configuration-INIConfiguration">INI configuration file</a> located in a designated <a href="https://shiro.apache.org/configuration.html#securitymanager-from-an-ini-resource">resource path</a> supported by <em>Apache Shiro</em>. However, this is limiting for 2 reasons.</p>
<p>First, <em>Apache Geode</em> only supports the <code>classpath:</code> resource specifier at present (also being <a href="https://issues.apache.org/jira/browse/GEODE-2054">addressed</a> by the Geode engineering team). Second, having to learn yet another configuration file format, no matter how <a href="https://en.wikipedia.org/wiki/INI_file">standard</a>, is well, no better than XML, IMO.</p>
<p>Of course, <em>Apache Shiro</em> tries to alleviate the pain when running in a <em>Spring</em> context by offering <a href="https://shiro.apache.org/spring.html">this</a>. But, there is still too much boilerplate configuration logic left to be desired.</p><h1><a href="#how-to-secure-apache-geode-with-spring-data-geode" class="anchor" name="how-to-secure-apache-geode-with-spring-data-geode"></a>How-To Secure Apache Geode with Spring (Data Geode)</h1>
<p>In the spirit of making <em>Apache Geode</em> <strong>quick</strong> and as <strong>easy to use</strong> as possible (see my last <a href="https://spring.io/blog/2016/10/11/spring-data-geode-1-0-0-apache-geode-incubating-m3-released">blog post</a>), I have been collaborating closely with the Geode engineering team to improve on the initial design and really make <em>Integrated Security</em> a first-class citizen in <em>Spring Data Geode</em> by employing many of the fundamental API and framework design concepts popularized by the <em>Spring Framework</em> and <em>Spring Boot</em>.</p>
<p>So, I give you the <strong>new</strong> <code>@EnableSecurity</code> annotation in SDG&rsquo;s new Annotation-based configuration model. You have several ways in which to configure <em>Apache Geode&rsquo;s</em> security features using the annotation.</p><h4><a href="#securitymanager-class-name-reference" class="anchor" name="securitymanager-class-name-reference"></a>SecurityManager class name reference</h4>
<p>You can still reference a Geode <code>SecurityManager</code> implementation by its fully-qualified class name using&hellip;</p>
<pre><code class="prettyprint java">package example;

class ExampleSecurityManager 
    implements org.apache.geode.security.SecurityManager {
  ...
}

@CacheServerApplication(name = &quot;ClassNameExample&quot;)
@EnableSecurity(securityManagerClassName = &quot;example.ExampleSecurityManager&quot;)
class ExampleApplication {
  ...
}
</code></pre>
<p>A more detailed example can be seen in the SDG <em>Contacts Application</em> RI, <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/security-example/src/test/java/example/app/geode/security/GeodeSecurityIntegrationTests.java#L236-L242">here</a>.</p>
<p>However, you must provide a default, no-arg constructor, and your Geode <code>SecurityManager</code> implementation will be responsible for loading all the security authentication/authorization details upon construction; not very ideal.</p><h4><a href="#securitymanager-proxy-implementation" class="anchor" name="securitymanager-proxy-implementation"></a>SecurityManager proxy implementation</h4>
<p>Another option is to create a <code>Proxy</code> implementing the Geode <code>SecurityManager</code> interface, which delegates to an actual, underlying Geode <code>SecurityManager</code> configured in and injected by the <em>Spring</em> container, or other managed environment like Pivotal <em>CloudFoundry</em>.</p>
<p>One such <code>Proxy</code> implementation can been seen in the RI <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/contacts-core/src/main/java/example/app/geode/security/SecurityManagerProxy.java">here</a>, and is configured as follows&hellip;</p>
<pre><code class="prettyprint java">@CacheServerApplication(name = &quot;ProxyExample&quot;)
@EnableSecurity(securityManagerClassName = 
  &quot;example.app.geode.security.SecurityManagerProxy&quot;, 
  useBeanFactoryLocator = true)
class ExampleApplication {

    ...

    @Bean
    JdbcSecurityRepository securityRepository(JdbcTemplate template) {
      return new JdbcSecurityRepository(template);
    }

    @Bean
    SimpleSecurityManager securityManager(
        SecurityRepository&lt;User&gt; securityRepository) {

      return new SimpleSecurityManager(securityRepository);
    }
}
</code></pre>
<p>The <code>SecurityMangerProxy</code> is constructed by <em>Apache Geode</em> during cache initialization. The <em>Spring</em> container will find the <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/contacts-core/src/main/java/example/app/geode/security/provider/SimpleSecurityManager.java">SimpleSecurityManager</a> bean definition and inject it into the <code>SecurityManagerProxy</code>.</p>
<p>The <code>SecurityManagerProxy</code> works by leveraging another <em>Spring</em> feature, the <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/access/BeanFactoryLocator.html">BeanFactoryLocator</a>, which is used by SDG, as mentioned in the <a href="https://docs.spring.io/spring-data-gemfire/docs/current/reference/html/#apis:declarable">Reference Guide</a> (and <a href="https://docs.spring.io/spring-data-gemfire/docs/current/reference/html/#bootstrap:cache:advanced">here</a>), to configure and auto-wire objects constructed and initialized outside of the <em>Spring</em> container, such as by <em>Apache Geode</em>.</p>
<p>This is useful in situations where an application object (e.g. <a href="https://geode.incubator.apache.org/releases/latest/javadoc/org/apache/geode/cache/CacheLoader.html">CacheLoader</a>) may have been defined in Geode&rsquo;s native <code>cache.xml</code> config and needs to be auto-wired with bean(s) (e.g. <code>DataSource</code>) defined in the <em>Spring</em> container. This also works for objects referenced in Geode (System) properties like the <code>SecurityManager</code>.</p>
<p>The <code>SecurityManagerProxy</code> must <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/contacts-core/src/main/java/example/app/geode/security/SecurityManagerProxy.java#L39-L40">extend</a> the <a href="https://docs.spring.io/spring-data-gemfire/docs/current/api/org/springframework/data/gemfire/LazyWiringDeclarableSupport.html">LazyWiringDeclarableSupport</a> class, which enables the <code>Proxy</code> to be auto-wired by the <em>Spring</em> container using the <code>BeanFactoryLocator</code> once Geode constructs the object. It&rsquo;s quite slick actually.</p>
<p>You can see the complete example configuration in the RI <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/security-example/src/test/java/example/app/geode/security/GeodeSecurityIntegrationTests.java#L244-L281">here</a>. This also requires the <code>useBeanFactoryLocator</code> attribute to be set to <strong>true</strong> <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/security-example/src/test/java/example/app/geode/security/GeodeSecurityIntegrationTests.java#L196-L197">on the Geode Server, <em>Spring Boot</em> application class</a>, which is shown in the example above as well.</p><h4><a href="#apache-shiro-ini-configuration-file" class="anchor" name="apache-shiro-ini-configuration-file"></a>Apache Shiro INI configuration file</h4>
<p>Perhaps you do not want to unnecessarily couple your application code to Geode&rsquo;s proprietary classes and interfaces, such as the <code>SecurityManager</code>. Perhaps you just want to fully utilize <em>Apache Shiro`s</em> security framework.</p>
<p>One way to do this is to create an <em>Apache Shiro</em> <a href="https://shiro.apache.org/configuration.html#Configuration-INIConfiguration">INI configuration file</a> and reference it in the <code>@EnableSecurity</code> annotation like so&hellip;</p>
<pre><code class="prettyprint java">@CacheServerApplication(name = &quot;ProxyExample&quot;)
@EnableSecurity(shiroIniResourcePath = &quot;my-shiro.ini&quot;)
class ExampleApplication {
    ...
}
</code></pre>
<p>Again, the <em>Apache Shiro</em> INI file must be on the classpath. Due to the present <em>Apache Geode</em> <a href="https://issues.apache.org/jira/browse/GEODE-2054">limitation</a>, it is not possible to use other resource specifiers (e.g. <code>file:</code> or <code>url:</code>).</p>
<p>This completed example configuration can be seen <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/security-example/src/test/java/example/app/geode/security/GeodeSecurityIntegrationTests.java#L283-L287">here</a>.</p><h4><a href="#apache-shiro-realms" class="anchor" name="apache-shiro-realms"></a>Apache Shiro Realms</h4>
<p>However, what you, as an application developer, really want to do is just define <em>Apache Shiro</em> <code>Realms</code> as <em>Spring</em> beans in the <em>Spring</em> container to access the security meta-data needed by your application to secure <em>Apache Geode</em> and have <em>Spring</em> do all the work.</p>
<p>Well, SDG can do that for you too. For example&hellip;</p>
<pre><code class="prettyprint java">@CacheServerApplication(name = &quot;RealmExample&quot;)
@EnableSecurity
class ExampleApplication {

    @Bean
    PropertiesRealm shiroRealm() {
      PropertiesRealm propertiesRealm = new PropertiesRealm();
      propertiesRealm.setResourcePath(&quot;classpath:shiro.properties&quot;);
      propertiesRealm.setPermissionResolver(new GeodePermissionResolver());
      return propertiesRealm;
    }
  }
</code></pre>
<p>That&rsquo;s it; that is all you need.</p>
<p>Notice the Shiro <a href="https://shiro.apache.org/static/1.3.2/apidocs/org/apache/shiro/realm/text/PropertiesRealm.html">PropertiesRealm</a> uses the <code>GeodePermissionResolver</code> to resolve Geode permissions. Additionally, you have the option to specify whatever resource path you choose; you are not restricted to the <code>classpath:</code> only.</p>
<p>You are also free to define whatever <code>Realms</code> (e.g. JDBC, JNDI, LDAP, etc) provided by Shiro that your application uses to access its security meta-data.</p>
<p>If you define more than one Shiro <code>Realm</code>, you can even order them using <em>Spring&rsquo;s</em> <code>@Order</code> annotation on the <code>Realm</code> bean definitions, like so&hellip;</p>
<pre><code class="prettyprint java">@CacheServerApplication(name = &quot;OrderedMultiRealmExample&quot;)
@EnableSecurity
class ExampleApplication {

    @Bean
    @Order(1)
    IniRealm iniRealm() {
      IniRealm iniRealm = new IniRealm(&quot;classpath:partial-shiro.ini&quot;);
      iniRealm.setPermissionResolver(new GeodePermissionResolver());
      return iniRealm;
    }

    @Bean
    @Order(2)
    PropertiesRealm propertiesRealm() {
      PropertiesRealm propertiesRealm = new PropertiesRealm();
      propertiesRealm.setResourcePath(&quot;classpath:partial-shiro.properties&quot;);
      propertiesRealm.setPermissionResolver(new GeodePermissionResolver());
      return propertiesRealm;
    }
}
</code></pre>
<p><code>Realm</code> ordering is an important factor in the <em>authentication strategy</em> used in <em>Apache Shiro&rsquo;s</em> <a href="https://shiro.apache.org/authentication.html#Authentication-sequence">Authentication Sequence</a>.</p>
<p>You can can see multiple example configurations of using Shiro <code>Realms</code> in the RI <a href="https://github.com/jxblum/contacts-application/blob/SDG-1.0.0.INCUBATING-RELEASE/security-example/src/test/java/example/app/geode/security/GeodeSecurityIntegrationTests.java#L289-L386">here</a>.</p><h1><a href="#what-rsquo-s-next" class="anchor" name="what-rsquo-s-next"></a>What&rsquo;s Next</h1>
<p>We covered a lot of ground, but still, there is more work to do. Specifically, I intend on doing the following&hellip;</p>
<ul>
<li>Integrate <em>Apache Geode&rsquo;s</em> <em>Integrated Security</em> framework with <a href="https://projects.spring.io/spring-security/">Spring Security</a>.</li>
<li>Improve <em>Spring Boot&rsquo;s</em> auto-configuration support for SDG <a href="https://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/htmlsingle/#boot-features-nosql">Repositories</a> as well as auto-configure <em>Apache Geode</em> as a <a href="https://docs.spring.io/spring-boot/docs/1.4.2.RELEASE/reference/htmlsingle/#_supported_cache_providers">caching provider</a> using <em>Spring&rsquo;s</em> <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#cache">Cache Abstraction</a>.</li>
<li>Extend SDG&rsquo;s Annotation configuration support to dynamically create Geode cache <em>Region&rsquo;s</em> based on an entity and/or <em>Repository</em> bean definitions.</li>
</ul>
<p>Much more is in the works, so stay tuned.</p><h1><a href="#additional-release-highlights" class="anchor" name="additional-release-highlights"></a>Additional Release Highlights</h1>
<ul>
<li>Sets the base Java version to <strong>Java 8</strong>.</li>
<li>Upgraded to <em>Spring Framework</em> 4.3.4.RELEASE.</li>
<li>Upgraded to <em>Spring Data Commons</em> 1.12.5.RELEASE.</li>
</ul>
<p>See the <a href="https://github.com/spring-projects/spring-data-gemfire/blob/1.0.0.APACHE-GEODE-INCUBATING-RELEASE/src/main/resources/changelog.txt#L7-L14">changelog</a> for additional details.</p><h1><a href="#conclusion" class="anchor" name="conclusion"></a>Conclusion</h1>
<p>As always, feedback is most welcomed and you can reach out to us in <a href="https://jira.spring.io/browse/SGF">JIRA</a> or on <a href="https://stackoverflow.com/questions/tagged/spring-data-gemfire">StackOverflow</a>.</p>
<p>Thank you all! Happy coding.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2690;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
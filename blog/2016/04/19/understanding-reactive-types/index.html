<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Understanding Reactive types</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Understanding Reactive types" />
<meta name="twitter:description" content="&lt;p&gt;Following previous &lt;a href=&quot;https://spring.io/blog/2016/02/09/reactive-spring&quot;&gt;Reactive Spring&lt;/a&gt; and &lt;a href=&quot;https://spring.io/blog/2016/03/11/reactor-core-3-0-becomes-a-unified-reactive-foundation-on-java-8&quot;&gt;Reactor Core 3.0&lt;/a&gt; blog posts, I would like to explain why Reactive types are useful and how they compare to other asynchronous types, based on what we have learned while working on the Spring Framework 5 upcoming Reactive support.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#why-using-reactive-types&quot; class=&quot;anchor&quot; name=&quot;why-using-reactive-types&quot;&gt;&lt;/a&gt;Why using Reactive types?&lt;/h2&gt;
&lt;p&gt;Reactive types are not intended to allow you to process your requests or data faster, in fact they will introduce a small overhead compared to regular blocking processing. Their strength lies in their capacity to serve more request concurrently, and to handle operations with latency, such as requesting data from a remote server, more efficiently. They allow you to provide a better quality of service and a predictable capacity planning by dealing natively with time and latency without consuming more resources. Unlike traditional processing that blocks the current thread while waiting a result, a Reactive API that waits costs nothing, requests only the amount of data it is able to process and bring new capabilities since it deals with stream of data, not only with individual elements one by one.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@sdeleuze" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=200" />

<meta property="og:title" content="Understanding Reactive types" />
<meta property="og:image" content="https://gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=200" />
<meta property="og:description" content="&lt;p&gt;Following previous &lt;a href=&quot;https://spring.io/blog/2016/02/09/reactive-spring&quot;&gt;Reactive Spring&lt;/a&gt; and &lt;a href=&quot;https://spring.io/blog/2016/03/11/reactor-core-3-0-becomes-a-unified-reactive-foundation-on-java-8&quot;&gt;Reactor Core 3.0&lt;/a&gt; blog posts, I would like to explain why Reactive types are useful and how they compare to other asynchronous types, based on what we have learned while working on the Spring Framework 5 upcoming Reactive support.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#why-using-reactive-types&quot; class=&quot;anchor&quot; name=&quot;why-using-reactive-types&quot;&gt;&lt;/a&gt;Why using Reactive types?&lt;/h2&gt;
&lt;p&gt;Reactive types are not intended to allow you to process your requests or data faster, in fact they will introduce a small overhead compared to regular blocking processing. Their strength lies in their capacity to serve more request concurrently, and to handle operations with latency, such as requesting data from a remote server, more efficiently. They allow you to provide a better quality of service and a predictable capacity planning by dealing natively with time and latency without consuming more resources. Unlike traditional processing that blocks the current thread while waiting a result, a Reactive API that waits costs nothing, requests only the amount of data it is able to process and bring new capabilities since it deals with stream of data, not only with individual elements one by one.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2016-04-19 13:37:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Understanding Reactive types</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/sdeleuze">Sébastien Deleuze</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2016-04-19 13:37:00.0">April 19, 2016</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="2450" href="/blog/2016/04/19/understanding-reactive-types#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>Following previous <a href="https://spring.io/blog/2016/02/09/reactive-spring">Reactive Spring</a> and <a href="https://spring.io/blog/2016/03/11/reactor-core-3-0-becomes-a-unified-reactive-foundation-on-java-8">Reactor Core 3.0</a> blog posts, I would like to explain why Reactive types are useful and how they compare to other asynchronous types, based on what we have learned while working on the Spring Framework 5 upcoming Reactive support.</p><h2><a href="#why-using-reactive-types" class="anchor" name="why-using-reactive-types"></a>Why using Reactive types?</h2>
<p>Reactive types are not intended to allow you to process your requests or data faster, in fact they will introduce a small overhead compared to regular blocking processing. Their strength lies in their capacity to serve more request concurrently, and to handle operations with latency, such as requesting data from a remote server, more efficiently. They allow you to provide a better quality of service and a predictable capacity planning by dealing natively with time and latency without consuming more resources. Unlike traditional processing that blocks the current thread while waiting a result, a Reactive API that waits costs nothing, requests only the amount of data it is able to process and bring new capabilities since it deals with stream of data, not only with individual elements one by one.</p><h2><a href="#before-java-8" class="anchor" name="before-java-8"></a>Before Java 8</h2>
<p>Before Java 8, asynchronous non-blocking behavior was not obvious to implement for at least two reasons. The first reason is that callback based API required verbose anonymous classes and are not easy to chain. The second reason is that <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html"><code>Future</code></a> type is asynchronous <strong>but</strong> blocks the current thread until the computation completes when you try to get the result with the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get--"><code>get()</code></a> method. That&rsquo;s why Spring Framework 4.0 introduced <a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/concurrent/ListenableFuture.html"><code>ListenableFuture</code></a>, a <code>Future</code> implementation that adds non-blocking callback-based capabilities.</p><h2><a href="#lambdas-completablefuture-and-stream" class="anchor" name="lambdas-completablefuture-and-stream"></a>Lambdas, CompletableFuture and Stream</h2>
<p>Then Java 8 introduced lambdas and <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html"><code>CompletableFuture</code></a>. Lambdas allow to write concise callbacks, while <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html"><code>CompletionStage</code></a> interface and <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html"><code>CompletableFuture</code></a> class finally allows to deal with future in a non-blocking way and push-based fashion, while providing capabilities to chain such deferred result processing.</p>
<p>Java 8 also introduced <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html"><code>Stream</code></a>, which has been designed to deal efficiently with stream of data (including primitive types) that can be accessed with no or very little latency. It is pull-based, can only be used once, lacks time-related operations and can perform parallel computations but without being able to specify the thread pool to use. As explained by <a href="https://stackoverflow.com/questions/17960656/is-it-possible-to-use-java-8-streams-api-for-asynchronous-processing/18826615#comment36545451_18826615">Brian Goetz</a>,<br />it has not been designed to deal with operation with latency, such as I/O operations. And that is where Reactive APIs like Reactor or RxJava come in.</p><h2><a href="#reactive-apis" class="anchor" name="reactive-apis"></a>Reactive APIs</h2>
<p>Reactive APIs such as <a href="https://projectreactor.io/">Reactor</a> also provide operators like Java 8 Stream, but they work more generally with any stream sequence (not just Collections) and allow to define a pipeline of transforming operations that will apply to the data passing through it thanks to a handy fluent API and using lambdas. They are designed to handle both synchronous or asynchronous operations, and allow you to buffer, merge, concatenate, or apply a wide range of transformations to your data.</p>
<p>Initially Reactive APIs were only designed to deal with streams of data, i.e. N elements, for example, using Reactor&rsquo;s <a href="http://projectreactor.io/core/docs/api/reactor/core/publisher/Flux.html"><code>Flux</code></a>:</p>
<pre><code class="prettyprint java">reactiveService.getResults()
    .mergeWith(Flux.interval(100))
    .doOnNext(serviceA::someObserver)
    .map(d -&gt; d * 2)
    .take(3)
    .onErrorResumeWith(errorHandler::fallback)
    .doAfterTerminate(serviceM::incrementTerminate)
    .consume(System.out::println);
</code></pre>
<p>But during our work on Spring Framework 5, it became apparent that there was a clear need to distinguish between streams of 1 or N elements, and that is why Reactor provides the <a href="http://projectreactor.io/core/docs/api/reactor/core/publisher/Mono.html"><code>Mono</code></a> type. <code>Mono</code> is the Reactive equivalent of <code>CompletableFuture</code> type, and allow to provide a consistent API for handling single and multiple elements in a Reactive way.</p>
<pre><code class="prettyprint java">Mono.any(reactiveServiceA.findRecent(time), reactiveServiceB.findRecent(time)
    .timeout(Duration.ofSeconds(3), errorHandler::fallback)
    .doOnSuccess(r -&gt; reactiveServiceC.incrementSuccess())
    .consume(System.out::println);
</code></pre>
<p>If you have a deeper look to <a href="http://projectreactor.io/core/docs/api/reactor/core/publisher/Flux.html"><code>Flux</code></a> and <a href="http://projectreactor.io/core/docs/api/reactor/core/publisher/Mono.html"><code>Mono</code></a>, you will notice these types implement the <code>Publisher</code> interface from the Reactive Streams specification.</p><h2><a href="#reactive-streams" class="anchor" name="reactive-streams"></a>Reactive Streams</h2>
<p>Reactor is built on the <a href="http://www.reactive-streams.org">Reactive Streams</a> specification. Reactive Streams is composed of <a href="http://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/">4 simple Java interfaces</a> (<code>Publisher</code>, <code>Subscriber</code>, <code>Subscription</code> and <code>Processor</code>), a <a href="https://github.com/reactive-streams/reactive-streams-jvm/blob/v1.0.0/README.md#specification">textual specification</a> and a <a href="http://www.reactive-streams.org/reactive-streams-tck-1.0.0-javadoc/">TCK</a>. It is the cornerstone of every modern Reactive library and a must have for interoperability purpose.</p>
<p>The core concern of Reactive Streams is handling backpressure. In a nutshell, backpressure is a mechanism that permits a receiver to ask how much data it wants to receive from the emitter. It allows:</p>
<ul>
<li>The receiver to start receiving data only when it is ready to process it</li>
<li>To control the inflight amount of data</li>
<li>Efficient handling of slow emitter/fast receiver or fast emitter/slow receiver use cases</li>
<li>To switch from a dynamic push-pull strategy to a push-based only strategy if you request <code>Long.MAX_VALUE</code> elements</li>
</ul>
<p>At first glance, the <a href="http://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Publisher.html"><code>Publisher</code></a> interface seems deceivingly simple to implement; but doing so in complete conformance with the specification turns out to be pretty hard, and users can&rsquo;t do anything with raw <code>Publisher</code> except subscribing to it! That’s why it’s typically a better idea to rely on a Reactive Streams implementation, such as Reactor, to help you out with this.</p>
<p>Note that Java 9 <a href="http://cs.oswego.edu/pipermail/concurrency-interest/2015-January/013641.html">will include</a> the Reactive Streams interfaces in the <code>java.util.concurrent.Flow</code> container class, further showing the relevance of Reactive Streams within the JDK.</p>
<p>It is also important to notice that convergence toward Reactive Streams and <a href="https://github.com/reactor/reactor-core/tree/master/src/main/java/reactor/core/converter">Reactor conversion capabilities</a> allow easy and efficient conversion from one Reactive type to another at runtime.</p><h2><a href="#conclusion" class="anchor" name="conclusion"></a>Conclusion</h2>
<p>I hope this blog post will help you to have a better understanding of Reactive types.</p>
<p>We are working on Reactive support with types like Reactor <code>Mono</code> and <code>Flux</code> in various Spring projects like Spring Framework, Spring Boot, Spring Data, Spring Security and Spring Cloud.</p>
<p>But your upcoming Reactive application will also use directly these types too, for example at <code>@Repository</code>, <code>@Service</code> or <code>@Controller</code> methods level, because building a Reactive application means using Reactive semantics where you have to deal with latency or streams (we will also provide some guidance to integrate blocking API).</p>
<p>We will post additional Reactive blog posts in the upcoming months. Feel free to familiarize yourself with <a href="https://github.com/reactor/lite-rx-api-hands-on/">this test-driven Lite Rx API Hands-On</a> that will teach you how to use <code>Flux</code> and <code>Mono</code>, and as usual your feedbacks are welcome!</p>
<p>If you happen to be in Barcelona mid May (never a bad time to be in Barcelona anyway!), don’t miss the chance to join the <a href="http://www.springio.net/">Spring I/O conference</a>. Also, the registration for <a href="http://springoneplatform.io/">SpringOne Platform</a> (early August, Las Vegas) has opened recently, in case you want to benefit from early bird ticket pricing.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2450;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
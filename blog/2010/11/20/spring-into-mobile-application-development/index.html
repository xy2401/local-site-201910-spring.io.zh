<html  data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>进入移动应用程序开发</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Spring into Mobile Application Development">
<meta name="twitter:description" >
<meta property="og:title" content="Spring into Mobile Application Development">
<meta property="og:description" >
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2010-11-20 00:13:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">进入移动应用程序开发</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="null?s=20&d=mm"> <span class="author">基思·唐纳德</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2010-11-20 00:13:00.0">2010年11月20日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2010/11/20/spring-into-mobile-application-development#disqus_thread" data-disqus-identifier="377">
</a></div>
</div>
</header>
<div class="blog--post"><p>在<a href="http://www.springone2gx.com">SpringOne2gx上，</a>我们宣布了在社交媒体和移动应用程序开发领域令人兴奋的新计划。几周前，Craig Walls发布了<a href="http://www.springsource.org/spring-social">Spring Social</a> 。今天，罗伊·克拉克森（Roy Clarkson）发布了<a href="http://www.springsource.org/spring-mobile">Spring Mobile</a>和<a href="http://www.springsource.org/spring-android">Spring Android</a> 。在本文中，我想重点介绍这些项目并分享Spring如何简化移动应用程序开发。</p>
<h3>移动应用开发中的选择</h3><p>如果您今年参加了SpringOne2gx，您会看到<a href="http://greenhouse.springsource.org">Greenhouse</a> ，这是我们为社区开发的应用程序，还可以作为Spring技术的参考和驱动程序。Craig向您展示了Greenhouse的一些<a href="http://blog.springsource.com/2010/11/03/socializing-spring-applications">社交元素</a> ，例如将您的帐户与Twitter和Facebook连接的功能。还有许多移动元素。具体来说，Greenhouse可以兼作移动Web应用程序，并且可以<a href="https://itunes.apple.com/us/app/greenhouse/id395862873">为iPhone</a>和Android客户提供原生的<a href="https://itunes.apple.com/us/app/greenhouse/id395862873">Greenhouse</a> 。</p><p>像今天的许多组织一样，我们必须回答“要针对哪些移动平台？”这一基本问题。最后，我们选择投资iPhone和Android用户的本地体验，同时开发跨平台的移动网络应用程序。我们决定将其本地化的决定是因为该应用程序面向消费者，并且许多潜在的消费者（应用程序开发人员）拥有iPhone和Android设备。同时，该移动网络应用旨在提供良好的基线体验，该体验可以跨平台运行，而随着WebKit和HTML 5的兴起，如今这已成为可能。</p><p>通过我们的开发工作，Spring Framework做出了更大的贡献：首先，是一个<strong>Spring Mobile</strong>项目，该项目为开发移动Web应用程序提供了Spring MVC的扩展；其次是一个<strong>Spring Android</strong>项目，该项目支持开发与基于Spring的后端进行通信的本机Android客户端。我将依次带您完成所有这些项目。</p>
<h3>Spring Mobile</h3><p>我们解决的第一个问题是设计一个适合移动访问者使用的Web应用程序。尽管智能手机可能具有功能强大的Web浏览器，但它的屏幕仍然很小，这需要加以考虑。本质上，有两种方法可以解决此问题：<br></p><ol><br><li>检测发起Web请求的设备并为移动设备提供单独的站点。</li><br><li>服务单个站点，但通过使用CSS 3媒体查询和JavaScript为桌面用户逐步增强它。</li><br></ol><br>如今，您可以找到两种技术的示例。例如，会议站点<a href="http://www.lanyrd.com">Lanyrd</a>通过客户端检测<a href="http://www.lanyrd.com">得到</a>增强，而<a href="http://www.speakerrate.com">SpeakerRate</a>使用服务器端检测将移动访问者重定向到单独的站点（安装Firefox用户代理切换器并将用户代理设置为iPhone，请参见）。<p></p><p>在Greenhouse，我们从服务器端检测开始。具体来说，如果设备是移动设备，我们的目标是采用不同的页面布局。由此产生了一个通用的“设备解析器抽象”，这是Spring Mobile 1.0.0的定义功能。M1。此功能的一些重点包括：<br></p><ol><br><li>使用DeviceResolver来检测发起当前HttpServletRequest的设备的HandlerInterceptor。</li><br><li>能够将检测到的设备注入@Controller方法并查看模板以根据设备类型改变逻辑。</li><br></ol><br>以下是Greenhouse代码库中的一些用法示例。首先，查看/WEB-INF/spring/appServlet/servlet-context.xml中的拦截器定义：<p></p>
<pre><code class="prettyprint xml"><br />&lt;interceptors&gt;
    &lt;!-- On pre-handle, detect the device that originated the web request --&gt;
    &lt;beans:bean class=&quot;org.springframework.mobile.device.mvc.DeviceResolvingHandlerInterceptor&quot; /&gt;
&lt;/interceptors&gt;
</code></pre><p>现在，如果设备不是移动设备，则有条件地呈现一些内容的JSP模板：</p>
<pre><code class="prettyprint xml"><br />Please try again&lt;c:if test=&quot;${!currentDevice.mobile}&quot;&gt; or &lt;a href=&quot;&lt;c:url value=&quot;/signup&quot; /&gt;&quot;&gt;sign up&lt;/a&gt;&lt;/c:if&gt;.
</code></pre><p>最后，如果设备是移动设备，则基于Tiles的页面布局会更改：</p>
<pre><code class="prettyprint xml"><br />    &lt;definition name=&quot;page&quot; templateExpression=&quot;/WEB-INF/layouts/${currentDevice.mobile ? &#39;mobile/&#39; : &#39;standard/&#39;}page.jsp&quot; /&gt;
</code></pre><p>除了这些功能，Spring Mobile 1.0.0。M1船：<br></p><ol><br><li>HandlerInterceptor，用于将移动访问者重定向到另一个URL。如果您的移动网站确实是一个单独的应用程序，这将很有用。以Flickr为例，如果您通过手机访问<a href="https://www.flickr.com">www.flickr.com</a> ，它将重定向到<a href="https://m.flickr.com">m.flickr.com</a> 。</li><br><li>一个DeviceResolver实现，委托给WURFL进行设备检测。WURFL提供了设备及其功能的大型数据库。当您需要更多了解发起请求的设备（例如其特定的屏幕尺寸，制造商，型号，首选标记或其他功能）时，此功能很有用。</li><br></ol><p></p><p>最近，我们还开始探索结合使用<a href="http://www.quirksmode.org/blog/archives/2010/08/combining_media.html#more">JavaScript</a>和<a href="http://www.webmonkey.com/2010/09/make-a-big-splash-on-small-screens-with-media-queries/">CSS 3媒体查询</a>来执行客户端检测。这种方法的优点是不需要特殊的服务器端处理，除非您旨在改变发送给设备的语义内容，而不仅仅是优化样式。并非所有的浏览器都支持媒体查询，因此它们可能不是您的选择，但是如果您要<a href="http://davidbcalhoun.com/2010/using-mobile-specific-html-css-javascript">针对</a>使用基于WebKit的浏览器的<a href="http://davidbcalhoun.com/2010/using-mobile-specific-html-css-javascript">智能手机</a> ，则应该没问题。通常，首先为移动设备设计应用程序，然后逐步为桌面应用程序增强功能的方法对我来说感觉很优雅。</p>
<h3> Spring Android</h3><p>对于Android客户端，出现了一系列不同的挑战。我们需要通过REST通过HTTPS与服务器交换数据，并且由于该数据是特定于用户的，因此我们要求用户登录。我们选择了OAuth，而不是使用Basic Auth（需要将用户名和密码凭据存储在设备本身上）。</p><p>OAuth是提供基于令牌的授权方案的新兴标准。本质上，用用户名和密码来交换访问令牌，并且访问令牌用于发出对受保护资源的请求。这意味着您只需要将访问令牌与设备一起存储即可“记住我”功能。此外，我们选择实施登录过程，从而使客户端将您带到服务器的网站进行连接授权。这样，客户端将永远不会看到您的用户名和密码，如果您允许根据您的API开发第三方客户端，这一点很重要（我们也希望鼓励）。最后，如果用户的电话被盗或以其他方式受到破坏，则访问令牌可以无效，而不会危及用户名和密码。</p><p>从这项工作中，产生了使Spring Framework的特定模块在Android环境中工作的愿望。具体来说，我们旨在将<a href="http://blog.springsource.com/2009/03/27/rest-in-spring-3-resttemplate">RestTemplate</a>用于REST API调用，并将<a href="http://static.springsource.org/spring-security/oauth/index.html">Spring Security</a>用于OAuth客户端。</p><p>我很高兴地宣布，Spring Android的第一个里程碑是发布了“可用于Android的” RestTemplate。我们正在Greenhouse中使用它，我们鼓励您在自己的Android应用程序中将其用作REST客户端。查看以下示例用法：</p>
<pre><code class="prettyprint java"><br />RestTemplate restTemplate = new RestTemplate(new CommonsClientHttpRequestFactory());
Event event = restTemplate.getForObject(&quot;https://myapp.com/event/{name}&quot;, Event.class, &quot;springone2gx&quot;);
</code></pre><p>在未来的里程碑中，您可以期望Android环境（例如Spring Security OAuth客户端）将支持更多的Spring Framework。</p>
<h3>入门</h3><p>最好的入门方法是在您自己的本地开发环境中浏览Greenhouse应用程序以<i>实时查看它</i> 。作为参考，Greenhouse使用Spring Mobile和Spring Android项目以及Spring MVC，安全性，社交和集成。<a href="http://www.springsource.org/greenhouse">项目页面</a>提供了一个<a href="http://www.springsource.org/greenhouse/guide">指南</a> ，向您展示了如何在几分钟之内使Web应用程序，iPhone客户端和Android客户端全部在本地环境中运行。</p><p>如果您对功能，路线图有疑问，或者只是想与开发团队进行讨论，请访问我们的<a href="http://forum.springsource.org/forumdisplay.php?f=25">社区论坛</a> 。我们重视您的反馈。</p>
<h3>摘要</h3><p>我对我们正在采取的所有新举措感到非常兴奋，尤其是我们在社交和移动领域正在做的事情。这些项目的第一个里程碑仅仅是个开始。我鼓励您参与对您有用的项目，并帮助我们使它们尽可能地发挥最大作用。</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 377;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
<html dir="ltr" data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>Spring Android和Maven（第2部分）</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>System.config({baseURL: "/b92013b"});</script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>System.import('app/main.js')</script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Spring Android and Maven (Part 2)">
<meta name="twitter:description" content="<p>In <a href=" http: ="" blog.springsource.com="" 2010="" 12="" 17="" spring-android-and-maven-part-1="" ="="></meta>Spring Android and Maven (Part 1), I described how to build an Android application from the command-line using Maven. In this post, I will show you how to build an Android application with Maven dependency management from the Eclipse IDE. The application will also showcase the latest features in <a href=" www.springsource.org spring-android news 1.0.0.m2-released"></head><body dir="ltr">Spring Android 1.0.0.M2, which was released this week.
<h3>Overview</h3>
<p>The Maven Android Plugin lets you build your Android applications with Maven and benefit from dependency management. Google’s Android Development Tools (ADT) plugin allows you to develop and build Android applications within the Eclipse IDE. To get Maven dependency management within Eclipse, the <a href="http://code.google.com/a/eclipselabs.org/p/m2eclipse-android-integration/">Maven Integration for Android Development Tools</a> plugin is required, which integrates <a href="http://m2eclipse.sonatype.org/">m2eclipse</a>, the ADT Plugin, and the <a href="http://code.google.com/p/maven-android-plugin/">Maven Android Plugin</a>. This post will show you how to install this plugin and use it to get Maven-based dependency management working in the Eclipse IDE.</p>
">
<meta name="twitter:creator" content="@royclarkson">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/55c978494c708e62f4b76bde1e0dcc19?s=200">

<meta property="og:title" content="Spring Android and Maven (Part 2)">
<meta property="og:image" content="https://gravatar.com/avatar/55c978494c708e62f4b76bde1e0dcc19?s=200">
<meta property="og:description" content="<p>In <a href=" http: ="" blog.springsource.com="" 2010="" 12="" 17="" spring-android-and-maven-part-1="" ="="></meta>Spring Android and Maven (Part 1), I described how to build an Android application from the command-line using Maven. In this post, I will show you how to build an Android application with Maven dependency management from the Eclipse IDE. The application will also showcase the latest features in <a href=" www.springsource.org spring-android news 1.0.0.m2-released">Spring Android 1.0.0.M2, which was released this week.
<h3>Overview</h3>
<p>The Maven Android Plugin lets you build your Android applications with Maven and benefit from dependency management. Google’s Android Development Tools (ADT) plugin allows you to develop and build Android applications within the Eclipse IDE. To get Maven dependency management within Eclipse, the <a href="http://code.google.com/a/eclipselabs.org/p/m2eclipse-android-integration/">Maven Integration for Android Development Tools</a> plugin is required, which integrates <a href="http://m2eclipse.sonatype.org/">m2eclipse</a>, the ADT Plugin, and the <a href="http://code.google.com/p/maven-android-plugin/">Maven Android Plugin</a>. This post will show you how to install this plugin and use it to get Maven-based dependency management working in the Eclipse IDE.</p>
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2011-02-09 15:12:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">// Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }</script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Android和Maven（第2部分）</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/55c978494c708e62f4b76bde1e0dcc19?s=20&d=mm"> <a class="author" rel="author" href="/team/rclarkson">罗伊·克拉克森</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2011-02-09 15:12:00.0">2011年2月9日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2011/02/09/spring-android-and-maven-part-2#disqus_thread" data-disqus-identifier="383">
</a></div>
</div>
</header>
<div class="blog--post"><p>在<a href="http://blog.springsource.com/2010/12/17/spring-android-and-maven-part-1/">弹簧的Android和Maven（第1部分）</a> ，我描述了如何建立从使用Maven命令行的Android应用。在本文中，我将向您展示如何使用Eclipse IDE中的Maven依赖关系管理来构建Android应用程序。该应用程序还将展示<a href="http://www.springsource.org/spring-android/news/1.0.0.m2-released">Spring Android 1.0.0中的最新功能</a><a href="http://www.springsource.org/spring-android/news/1.0.0.m2-released">。M2</a> ，本周发布。</p>
<h3>总览</h3><p>Maven Android插件可让您使用Maven构建Android应用程序，并从依赖管理中受益。Google的Android开发工具（ADT）插件可让您在Eclipse IDE中开发和构建Android应用程序。为了在Eclipse中获得Maven依赖关系管理，需要<a href="https://code.google.com/a/eclipselabs.org/p/m2eclipse-android-integration/">Maven集成Android开发工具</a>插件，该插件集成了<a href="http://m2eclipse.sonatype.org/">m2eclipse</a> ，ADT插件和<a href="https://code.google.com/p/maven-android-plugin/">Maven Android插件</a> 。这篇文章将向您展示如何安装此插件，并使用它来使基于Maven的依赖管理在Eclipse IDE中工作。</p><p>下面列出了本文中使用的每个组件的特定版本：</p>
<ul>
<li><a href="https://developer.android.com/sdk/index.html">Android SDK修订版9</a></li>
<li><a href="https://code.google.com/p/maven-android-plugin/">Maven Android插件2.8.4</a></li>
<li><a href="http://www.springsource.com/developer/sts">SpringSource工具套件2.5.2（Eclipse 3.6.1）</a></li>
<li><a href="https://developer.android.com/sdk/eclipse-adt.html">Eclipse 9.0.0的ADT插件</a></li>
<li><a href="http://m2eclipse.sonatype.org/index.html">适用于Eclipse 0.12.0的Maven集成</a></li>
<li><a href="https://code.google.com/a/eclipselabs.org/p/m2eclipse-android-integration/">适用于Android开发工具0.2.4的Maven集成</a></li>
</ul>
<h3>配置Eclipse</h3><p>在构建或编译任何代码之前，我们需要安装和配置所需的Eclipse插件。在<a href="javascript:void(0);" http:="" ="" blog.springsource.com="" 2010="" 12="" 17="" spring-android-and-maven-part-1="" ="=">第1部分中，</a>我讨论了安装Android SDK的过程，因此我假设您已经这样做了。但是，如果尚未安装，则需要先安装它，然后再继续。此外，您将需要已经安装了<a href=" https: www.eclipse.org ">Eclipse</a> 3.5或更高版本。在此示例中，我使用基于Eclipse 3.6.1的<a href="http://www.springsource.com/developer/sts">SpringSource Tool Suite</a> 2.5.2。</p>
<p>需要安装三个Eclipse插件：用于Eclipse的ADT插件，用于Eclipse的Maven集成和用于Android开发工具的Maven集成。您可以使用<a href="https://marketplace.eclipse.org/marketplace-client-intro">Eclipse Marketplace客户端</a>或手动安装每个插件来选择两种安装这些插件的方法。</p>
<h4>使用Eclipse Marketplace客户端安装插件</h4>
<p>根据您的Eclipse版本，您可能已经安装了Eclipse Marketplace客户端。Marketplace客户端将简化插件的安装，因为它将可传递地包括所有必需的插件。</p>
<ol>
<li>通过选择<strong>帮助-> Eclipse Marketplace ...</strong>打开Eclipse Marketplace客户端<strong>。</strong></li>
<li>在“ <strong>查找：”</strong>字段中输入<em>m2eclipse-android</em> ，然后单击“执行<strong>”</strong>按钮。</li>
<li>单击“ <em>Android开发工具的Maven集成”</em>旁边的“ <strong>安装”</strong>按钮。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-marketplace-search.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-marketplace-search.png" alt="蚀市场搜索" title="蚀市场搜索" width="564" height="396" class="alignnone size-full wp-image-7780"></a></li>
<li>单击<strong>下一步</strong>按钮以确认所选功能。请注意，Android开发工具和Eclipse的Maven集成是依赖项。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-marketplace-confirm.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-marketplace-confirm.png" alt="蚀市场确认" title="蚀市场确认" width="821" height="147" class="alignnone size-full wp-image-7781"></a></li>
<li>接受许可协议，然后单击“ <strong>完成”</strong>按钮以完成安装。</li>
<li>重新启动Eclipse之后，您需要按照下一部分的ADT插件安装中的设置设置Android SDK位置。</li>
</ol>
<h4>手动插件安装</h4>
<p>使用Marketplace客户端的替代方法是手动安装每个插件。如果您从Marketplace安装了插件，则可以跳至“示例Android应用程序”部分。对于每个插件，从Eclipse <strong>帮助</strong>菜单中，选择<strong>Install New Software ...</strong> ，然后单击<strong>Add ...</strong>按钮。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2011/01/01-Eclipse_Install_New_Software1.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/01/01-Eclipse_Install_New_Software1.png" alt="Eclipse安装新软件" title="Eclipse安装新软件" width="728" height="534" class="alignnone size-full wp-image-7256"></a></p>
<h5>Eclipse的ADT插件</h5>
<p>第一步是安装用于Eclipse的ADT（Android开发人员工具）插件。这是Google提供的用于开发Android应用程序的官方插件。如果您已经安装了ADT插件，请通过从Eclipse <strong>帮助</strong>菜单运行<strong>检查更新</strong>来验证您是否具有最新版本。</p>
<ol>
<li>输入<em>ADT插件</em>作为<strong>名称</strong> ，并输入以下URL作为<strong>位置</strong> 。单击<strong>确定</strong>继续。<br>源代码https://dl-ssl.google.com/android/eclipse```</li>
<li>在“可用软件”对话框中，选中“开发人员工具”旁边的复选框，然后单击“下一步”。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/02/adt-plugin-available-software.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/adt-plugin-available-software.png" alt="adt-plugin可用的软件" title="adt-plugin可用的软件" width="730" height="211" class="alignnone size-full wp-image-7533"></a></li>
<li>在下一个窗口中，您将看到要下载的工具的列表。单击<strong>下一步</strong> 。</li>
<li>阅读并接受许可协议，然后单击“ <strong>完成”</strong> 。</li>
<li>安装完成后，重新启动Eclipse。</li>
<li>Eclipse重新启动后，通过从Eclipse菜单中选择<strong>首选项</strong>并在左栏中选择<strong>Android</strong>来<strong>设置</strong> Android SDK位置。在我的机器上，SDK文件夹位于我的配置文件文件夹中。配置位置后，您应该会看到SDK目标列表。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/01/eclipse-android-sdk-location.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/01/eclipse-android-sdk-location.png" alt="eclipse-android-sdk-位置" title="eclipse-android-sdk-位置" width="708" height="442" class="alignnone size-full wp-image-7286"></a></li>
</ol>
<p>注意：如果您对ADT的安装有任何疑问， <a href="https://developer.android.com/sdk/eclipse-adt.html#installing">Android网站</a>可以提供其他信息。</p>
<h5>Eclipse的Maven集成</h5>
<p>下一步是安装m2eclipse插件。STS 2.5.2附带此插件。但是，如果您具有以前的版本，或者已经安装了插件，则需要验证您是否具有最新版本。适用于Android开发工具的Maven集成需要版本0.12.0或更高版本。</p>
<ol>
<li>输入<em>m2eclipse Core Update Site</em>作为<strong>名称</strong> ，并输入以下URL作为<strong>Location</strong> 。单击<strong>确定</strong>继续。<br>源代码http://m2eclipse.sonatype.org/sites/m2e</li>
<li>在“可用软件”对话框中，选中“ <em>Maven Integration for Eclipse”</em>旁边的复选框，然后单击“ <strong>下一步”</strong> 。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/01/m2eclipse-plugin-available-software1.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/01/m2eclipse-plugin-available-software.png" alt="m2eclipse-plugin可用的软件" title="m2eclipse-plugin可用的软件" width="683" height="194" class="alignnone size-full wp-image-7261"></a></li>
<li>在下一个窗口中，您将看到要下载的组件的列表。单击<strong>下一步</strong> 。</li>
<li>阅读并同意Eclipse Public License v1.0的条款，然后单击<strong>Finish</strong> 。</li>
<li>安装完成后，重新启动Eclipse。</li>
</ol>
<h5>适用于Android开发工具的Maven集成</h5>
<p>我们还有一个插件要安装，这是将所有这些功能整合在一起的插件。在设置了Android SDK并在Eclipse中配置了ADT插件之后，请安装<a href="https://code.google.com/a/eclipselabs.org/p/m2eclipse-android-integration/">Maven Integration for Android Development Tools</a>插件。</p>
<ol>
<li>从Eclipse <strong>帮助</strong>菜单中，选择<strong>Install New Software ...</strong> ，然后单击<strong>Add ...</strong>按钮。</li>
<li>输入<em>Maven Integration for Android开发工具更新站点</em>的<strong>名称</strong> ，并输入以下URL作为<strong>位置</strong> 。单击<strong>确定</strong>继续。<br>源代码https://svn.codespot.com/a/eclipselabs.org/m2eclipse-android-integration/updates/m2eclipse-android-integration/</li>
<li>在“可用软件”对话框中，选中“ <em>用于Android开发工具的Maven集成”</em>旁边的复选框，然后单击“ <strong>下一步”</strong> 。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/01/m2eclipse-android-plugin-available-software.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/01/m2eclipse-android-plugin-available-software.png" alt="m2eclipse-android-plugin-可用的软件" title="m2eclipse-android-plugin-可用的软件" width="683" height="195" class="alignnone size-full wp-image-7276"></a></li>
<li>在下一个窗口中，您将看到要下载的组件的列表。单击<strong>下一步</strong> 。</li>
<li>阅读并接受许可协议，然后单击“ <strong>完成”</strong> 。</li>
<li>安装完成后，重新启动Eclipse。</li>
</ol>
<h3>示例Android应用程序</h3>
<p>现在，我们已经安装并配置了所有必需的插件，现在可以使用示例Android应用程序尝试设置了。我们将使用为第1部分博客文章创建的相同示例应用程序，但是该示例应用程序已更新为可以在最新的Android平台SDK 2.3.1 API Level 9上运行。如果没有安装此SDK平台，则需要在构建示例代码之前进行安装。</p>
<h4>获取示例项目</h4>
<p>运行以下命令以克隆Spring Mobile样本存储库。</p>
<pre><code class="prettyprint sourcecode">$ git clone git://git.springsource.org/spring-mobile/samples.git spring-mobile-samples
</code></pre>
<p>如果无法访问git：// URL，则可能需要尝试示例存储库的备用URL。</p>
<pre><code class="prettyprint sourcecode">$ git clone http://http.git.springsource.org/spring-mobile/samples.git spring-mobile-samples
</code></pre>
<p>在Eclipse中打开源代码之前，请导航至<em>spring-android-showcase / client</em>项目目录并验证使用Android Maven插件构建的项目。</p>
<pre><code class="prettyprint sourcecode">$ mvn clean install
</code></pre>
<h4>在Eclipse中打开项目</h4>
<p>假设从命令行成功构建了项目，我们准备在Eclipse中打开项目。</p>
<ol>
<li>从Eclipse <strong>File</strong>菜单中，选择Select <strong>New</strong> and <strong>Project...。</strong></li>
<li>从<strong>Android</strong>文件夹中选择Android Project向导，然后单击<strong>Next</strong> 。如果Android向导不可用，则说明尚未安装ADT插件。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-new-android-project.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-new-android-project.png" alt="eclipse-new-android-project" title="eclipse-new-android-project" width="530" height="354" class="alignnone size-full wp-image-7540"></a></li>
<li>在“ <strong>新建Android项目”</strong>窗口中，为<strong>项目名称</strong>输入<em>spring-android-showcase-client</em> 。选择“ <strong>从现有源创建项目”</strong> ，然后浏览到示例客户端的“ <strong>位置</strong> ”。单击<strong>完成</strong>以将项目添加到Eclipse。<br><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-new-android-project-settings.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-new-android-project-settings.png" alt="eclipse-new-android-project-settings" title="eclipse-new-android-project-settings" width="720" height="694" class="alignnone size-full wp-image-7647"></a></li>
</ol>
<h4>启用Maven依赖性管理</h4>
<p>现在将样本项目加载到Eclipse中。您会注意到的第一件事是Package Explorer中项目上方的红色大“ X”，表明该项目当前未构建。由于我们尚未为此项目配置Maven，因此这是预期的行为。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-package-explorer-errors.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-package-explorer-errors.png" alt="eclipse-package-explorer-errors" title="eclipse-package-explorer-errors" width="225" height="174" class="alignnone size-full wp-image-7671"></a></p>
<p>要启用Maven依赖管理，请在<strong>Package Explorer中</strong>右键单击<em>spring-android-showcase-client</em> ，然后从上下文菜单中选择<strong>Maven-> Enable Dependency Management</strong> 。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-enable-dependency-management.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-enable-dependency-management.png" alt="蚀使依赖性管理" title="蚀使依赖性管理" width="668" height="756" class="alignnone size-full wp-image-7547"></a></p>
<p>该示例项目已经包含以下Maven POM文件。如果您的项目中没有现有的POM，则Eclipse会提示您创建一个。请注意在<strong>构建</strong>部分中使用了<em>maven-android-plugin</em>和<em>maven-compiler插件</em> 。</p>
<pre><code class="prettyprint xml"><br><project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	
	<groupId>org.springframework.android</groupId>
	<artifactId>spring-android-showcase-client</artifactId>
	<version>1.0.0.BUILD-SNAPSHOT</version>
	<packaging>apk</packaging>
	<name>spring-android-showcase-client</name>
	<url>http://www.springsource.org</url> 
	<organization>
		<name>SpringSource</name>
		<url>http://www.springsource.org</url>
	</organization>

	<properties> 
		<android-platform>9</android-platform>
		<android-emulator>9</android-emulator>
		<maven-android-plugin-version>2.8.4</maven-android-plugin-version>
		<maven-compiler-plugin-version>2.3.2</maven-compiler-plugin-version>
		<android-version>2.3.1</android-version>
		<spring-android-version>1.0.0.M2</spring-android-version>
		<jackson-version>1.7.2</jackson-version>
		<simple-version>2.4.1</simple-version>
		<android-rome-version>1.0.0-r2</android-rome-version>
	</properties>

	<build>
		<sourceDirectory>src</sourceDirectory>
		<finalName>${project.artifactId}</finalName>
		<plugins>
			<plugin>
				<groupId>com.jayway.maven.plugins.android.generation2</groupId>
				<artifactId>maven-android-plugin</artifactId>
				<version>${maven-android-plugin-version}</version>
				<configuration>
					<sdk>
						<platform>${android-platform}</platform>
					</sdk>
					<emulator>
						<avd>${android-emulator}</avd>
					</emulator>
					<deleteConflictingFiles>true</deleteConflictingFiles>
					<undeployBeforeDeploy>true</undeployBeforeDeploy>
				</configuration>
				<extensions>true</extensions>
			</plugin>
			<plugin>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>${maven-compiler-plugin-version}</version>
			</plugin>
		</plugins>
	</build>

	<dependencies>
		<dependency>
			<groupId>com.google.android</groupId>
			<artifactId>android</artifactId>
			<version>${android-version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.android</groupId>
			<artifactId>spring-android-rest-template</artifactId>
			<version>${spring-android-version}</version>
		</dependency>
		<dependency>
			<!-- Using Jackson for JSON marshaling -->
			<groupId>org.codehaus.jackson</groupId>
			<artifactId>jackson-mapper-asl</artifactId>
			<version>${jackson-version}</version>
		</dependency>
		<dependency>
			<!-- Using Simple for XML marshaling -->
			<groupId>org.simpleframework</groupId>
			<artifactId>simple-xml</artifactId>
			<version>${simple-version}</version>
			<exclusions>
				<exclusion>
					<artifactId>stax</artifactId>
					<groupId>stax</groupId>
				</exclusion>
				<exclusion>
					<artifactId>stax-api</artifactId>
					<groupId>stax</groupId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<!-- Using ROME for RSS and ATOM feeds -->
			<groupId>com.google.code.android-rome-feed-reader</groupId>
			<artifactId>android-rome-feed-reader</artifactId>
			<version>${android-rome-version}</version>
		</dependency>
	</dependencies>

	<repositories>
		<!-- For developing with Android ROME Feed Reader -->
		<repository>
			<id>android-rome-feed-reader-repository</id>
			<name>Android ROME Feed Reader Repository</name>
			<url>https://android-rome-feed-reader.googlecode.com/svn/maven2/releases</url>
		</repository>
		<!-- For testing against latest Spring snapshots -->
		<repository>
			<id>org.springframework.maven.snapshot</id>
			<name>Spring Maven Snapshot Repository</name>
			<url>http://maven.springframework.org/snapshot</url>
			<releases><enabled>false</enabled></releases>
			<snapshots><enabled>true</enabled></snapshots>
		</repository>
		<!-- For developing against latest Spring milestones -->
		<repository>
			<id>org.springframework.maven.milestone</id>
			<name>Spring Maven Milestone Repository</name>
			<url>http://maven.springframework.org/milestone</url>
			<snapshots><enabled>false</enabled></snapshots>
		</repository>
	</repositories>
	
</project>
</code></pre>
<p>Maven现在将更新所需的依赖关系，并且Eclipse应该成功构建项目。Eclipse完成项目的构建后，您现在应该在<strong>Package Explorer</strong>窗口中看到<em>Maven Dependencies</em>类路径容器。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-package-explorer-maven-enabled.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-package-explorer-maven-enabled.png" alt="eclipse-package-explorer-maven已启用" title="eclipse-package-explorer-maven已启用" width="229" height="223" class="alignnone size-full wp-image-7678"></a></p>
<p>有几件事要注意。首先，您可能会看到项目中有一个<em>bin</em>文件夹。您可以从下面的<strong>Java Build Path</strong>属性中看到，默认的输出文件夹是<em>Target</em>文件夹。因此，删除<em>bin</em>文件夹是安全的。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-java-build-path-sources.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-java-build-path-sources.png" alt="eclipse-java-build-path-sources" title="eclipse-java-build-path-sources" width="888" height="527" class="alignnone size-full wp-image-7588"></a></p>
<p>其次，您可能还注意到，有一个<em>JRE系统库</em>类路径容器已添加到项目中。由于我们正在构建一个利用Android JVM的Android应用，因此您无需引用JRE。如果您已使用ADT在Eclipse中创建了一个新的Android应用程序，那么您将知道它不会为JRE添加类路径容器。我已经与Android开发工具的Maven集成开发人员Ricardo Gladwell进行了讨论，他创建了<a href="https://code.google.com/a/eclipselabs.org/p/m2eclipse-android-integration/issues/detail?id=41">一张票证</a>来研究此问题。我从示例项目中删除了JRE，没有任何明显的负面影响。但是您可能需要密切注意该问题，以获取更多信息。</p>
<h4>启动Spring Android Showcase示例应用</h4>
<p>要运行示例应用程序，只需在<strong>Package Explorer中</strong>选择<em>spring-android-showcase-client</em> ，然后单击<strong>Run</strong>按钮。示例客户端中的Maven POM文件配置为查找名为“ 9”的Android虚拟设备（AVD）。如前所述，示例项目已更新为可在Android Platform SDK 2.3.1上运行。您需要为此平台配置一个AVD，示例才能运行。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-run.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/eclipse-run.png" alt="蚀运行" title="蚀运行" width="364" height="160" class="alignnone size-full wp-image-7622"></a></p>
<p>第一次运行该应用程序时，您应该在Eclipse控制台中看到类似以下内容的内容：</p>
<pre><code class="prettyprint sourcecode">[2011-02-08 14:00:49 - spring-android-showcase-client] ------------------------------
[2011-02-08 14:00:49 - spring-android-showcase-client] Android Launch!
[2011-02-08 14:00:49 - spring-android-showcase-client] adb is running normally.
[2011-02-08 14:00:49 - spring-android-showcase-client] Performing org.springframework.android.showcase.MainActivity activity launch
[2011-02-08 14:00:49 - spring-android-showcase-client] Automatic Target Mode: launching new emulator with compatible AVD '9'
[2011-02-08 14:00:49 - spring-android-showcase-client] Launching a new emulator with Virtual Device '9'
[2011-02-08 14:00:50 - Emulator] 2011-02-08 14:00:50.936 emulator[5951:903] Warning once: This application, or a library it uses, is using NSQuickDrawView, which has been deprecated. Apps should cease use of QuickDraw and move to Quartz.
[2011-02-08 14:00:50 - spring-android-showcase-client] New emulator found: emulator-5554
[2011-02-08 14:00:50 - spring-android-showcase-client] Waiting for HOME ('android.process.acore') to be launched...
[2011-02-08 14:01:21 - spring-android-showcase-client] HOME is up on device 'emulator-5554'
[2011-02-08 14:01:21 - spring-android-showcase-client] Uploading spring-android-showcase-client.apk onto device 'emulator-5554'
[2011-02-08 14:01:23 - spring-android-showcase-client] Installing spring-android-showcase-client.apk...
[2011-02-08 14:01:50 - spring-android-showcase-client] Success!
[2011-02-08 14:01:50 - spring-android-showcase-client] Starting activity org.springframework.android.showcase.MainActivity on device emulator-5554
[2011-02-08 14:01:52 - spring-android-showcase-client] ActivityManager: Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=org.springframework.android.showcase/.MainActivity }
</code></pre>
<p>AVD将启动并显示锁定的屏幕。从左向右滑动绿色锁，以“打开” Android设备。打开后，该应用现在应显示：</p><p><a href="http://blog.springsource.com/wp-content/uploads/2011/02/avd-showcase-home.png"><img src="http://blog.springsource.com/wp-content/uploads/2011/02/avd-showcase-home.png" alt="avd-showcase-home" title="avd-showcase-home" width="791" height="556" class="alignnone size-full wp-image-7624"></a></p>
<h3>结论</h3>
<p>在本文中，我们回顾了如何在Eclipse中利用Maven依赖性管理构建示例Android应用程序。为此，我们使用了Eclipse，用于Eclipse的Android开发工具（ADT）插件，Maven Android插件，用于Android开发工具的Maven集成插件和用于Eclipse的Maven集成（m2eclipse）插件。涉及很多部分，但是一旦配置了所有功能，就可以轻松构建和部署到Android仿真器。如果您在Android应用程序中使用第三方库，则应考虑使用这些工具来帮助管理那些依赖项。</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">var disqus_shortname = 'spring-io';
      var disqus_identifier = 383;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));</script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });</script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
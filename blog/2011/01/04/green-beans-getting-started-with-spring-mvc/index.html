<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Green Beans: Getting Started with Spring MVC</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Green Beans: Getting Started with Spring MVC" />
<meta name="twitter:description" content="&lt;p&gt;&lt;a href=&quot;http://static.springsource.org/spring/docs/3.0.x/reference/mvc.html&quot;&gt;Spring MVC&lt;/a&gt;, a part of the core Spring Framework, is a mature and capable action-response style web framework, with a wide range of capabilities and options aimed at handling a variety of UI-focused and non-UI-focused web tier use cases. All this can potentially be overwhelming to the Spring MVC neophyte. I think it’s useful for this audience to show just how little work there is to get a bare Spring MVC application up and running (i.e. consider my example something akin to &lt;em&gt;the world’s simplest Spring MVC application&lt;/em&gt;), and that’s what I’ll spend the rest of this article demonstrating.&lt;/p&gt;
" />

<meta property="og:title" content="Green Beans: Getting Started with Spring MVC" />
<meta property="og:description" content="&lt;p&gt;&lt;a href=&quot;http://static.springsource.org/spring/docs/3.0.x/reference/mvc.html&quot;&gt;Spring MVC&lt;/a&gt;, a part of the core Spring Framework, is a mature and capable action-response style web framework, with a wide range of capabilities and options aimed at handling a variety of UI-focused and non-UI-focused web tier use cases. All this can potentially be overwhelming to the Spring MVC neophyte. I think it’s useful for this audience to show just how little work there is to get a bare Spring MVC application up and running (i.e. consider my example something akin to &lt;em&gt;the world’s simplest Spring MVC application&lt;/em&gt;), and that’s what I’ll spend the rest of this article demonstrating.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2011-01-04 12:55:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Green Beans: Getting Started with Spring MVC</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="null?s=20&amp;d=mm" />
<span class="author">Colin Sampaleanu</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2011-01-04 12:55:00.0">January 04, 2011</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="374" href="/blog/2011/01/04/green-beans-getting-started-with-spring-mvc#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p><a href="http://static.springsource.org/spring/docs/3.0.x/reference/mvc.html">Spring MVC</a>, a part of the core Spring Framework, is a mature and capable action-response style web framework, with a wide range of capabilities and options aimed at handling a variety of UI-focused and non-UI-focused web tier use cases. All this can potentially be overwhelming to the Spring MVC neophyte. I think it&rsquo;s useful for this audience to show just how little work there is to get a bare Spring MVC application up and running (i.e. consider my example something akin to <em>the world&rsquo;s simplest Spring MVC application</em>), and that&rsquo;s what I&rsquo;ll spend the rest of this article demonstrating.</p><p>I&rsquo;m assuming you are familiar with Java, Spring (<a href="http://blog.springsource.com/2010/11/09/green-beans-putting-the-spring-in-your-step-and-application/">basic dependency injection concepts</a>), and the basic Servlet programming model, but do not know Spring MVC. After reading this blog entry, readers may continue learning about Spring MVC by looking at Keith Donald&rsquo;s <a href="http://blog.springsource.com/2010/07/22/spring-mvc-3-showcase/">Spring MVC 3 Showcase</a>, or the variety of other online and print resources available that cover Spring and Spring MVC.</p><p>A note on dependencies and build systems: this article does not assume that you are using a particular build system, e.g. Maven, Gradle or Ant. A fairly minimal sample Maven POM file is includes as an example at the end of the article.</p><p>Spring MVC includes most of the same basic concepts as other so-called web MVC frameworks. Incoming requests enter the framework via a <em>Front Controller</em>. In the case of Spring MVC, this is an actual Java Servlet called <code>DispatcherServlet</code>. Think of <code>DispatcherServlet</code> as the gatekeeper. It doesn&rsquo;t perform any real web or business logic, but rather delegates to POJOs called <em>Controllers</em> where the real work is done (either in whole or via the back-end). When the work has been done, it&rsquo;s the responsibility of <em>Views</em> to produce the output in the proper format (whether that&rsquo;s a JSP page, Velocity template, or JSON response). <em>Strategies</em> are used to decide which Controller (and which method(s) inside that Controller) handles the request, and which View renders the response. The Spring container is used to wire together all these pieces. It all looks something like this:</p><p><a href="http://blog.springsource.com/wp-content/uploads/2010/11/mvc.png"><img class="alignnone size-full wp-image-6144" title="mvc" src="http://blog.springsource.com/wp-content/uploads/2010/11/mvc.png" alt="" width="600" height="513" /></a><br /><h3>Bootstrapping the DispatcherServlet and Spring Container</h3><br />As mentioned, all incoming requests flow through a <code>DispatcherServlet</code>. Like any other Servlet in a Java EE application, we tell the Java EE container to load this Servlet at web app startup time via an in the web app&rsquo;s <code>WEB-INF/web.xml</code>. The <code>DispatcherServlet</code> is also responsible for loading a Spring <code>ApplicationContext</code> that is used to perform wiring and dependency injection of managed component. On this basis, we specify some init parameters to the Servlet which configure the Application Context. Let&rsquo;s look at the config in <code>web.xml</code>:</p><p><code>WEB-INF/web.xml</code><br />```xml</p><p>&lt;?xml version=&ldquo;1.0&rdquo; encoding=&ldquo;UTF-8&rdquo;?&gt;<br />&lt;web-app version=&ldquo;2.5&rdquo; xmlns=&ldquo;<a href="http://java.sun.com/xml/ns/javaee">http://java.sun.com/xml/ns/javaee</a>&rdquo;<br /> xmlns:xsi=&ldquo;<a href="https://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>&rdquo;<br /> xsi:schemaLocation=&quot;<a href="http://java.sun.com/xml/ns/javaee">http://java.sun.com/xml/ns/javaee</a> <a href="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" ">http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</a></p>
<pre><code class="prettyprint">&lt;!-- Processes application requests --&gt;
&lt;servlet&gt;
    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
       &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre><p></web-app><br />```</p><p>A number of things are being done here:<br /><ul><br /> <li>We register the DispatcherServlet as as a Servlet called <code>appServlet</code></li><br /> <li>We map this Servlet to handle incoming requests (relative to the app path) starting with &ldquo;/&rdquo;</li><br /> <li>We use the <code>ContextConfigLocation</code> init parameter to customize the location for the base configuration XML file for the Spring Application Context that is loaded by the DispatcherServlet, instead of relying on the default location of <em>&lt;servletname&gt;-context.xml</em>).</li><br /></ul><br /><em>Wait, What if Somebody Doesn&rsquo;t Want to Configure Spring via XML?</em></p><p>The default type of Application Context loaded by the DispatcheServlet expects to load at least on XML file with Spring bean definitions. As you&rsquo;ll see, we&rsquo;ll also enable Spring to load Java-based config, alongside the XML.</p><p>Everybody will have their own (sometimes very strong) opinion in this area, but while I generally prefer-Java based configuration, I do believe that smaller amounts of XML config for certain areas can sometimes still make more sense, for one of a number of reasons (e.g. ability to change config without recompilation, conciseness of XML namespaces, toolability, etc.). On this basis, this app will use the hybrid approach, supporting both Java and XML.</p><p>Rest assured that if you prefer a pure-Java approach, with no Spring XML at all, it&rsquo;s pretty trivial to achieve, by setting one init param in <code>web.xml</code> to override the default Application Context type and use a variant called <code>AnnotationConfigWebApplicationContext</code> instead.<br /><h3>The Controller</h3><br />Now let&rsquo;s create a minimal controller:</p>
<pre><code class="prettyprint java"><br />package xyz.sample.baremvc;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

/**
 * Handles requests for the application home page.
 */
@Controller
public class HomeController {

	@RequestMapping(value = &quot;/&quot;)
	public String home() {
		System.out.println(&quot;HomeController: Passing through...&quot;);
		return &quot;WEB-INF/views/home.jsp&quot;;
	}
}
</code></pre><p>Let&rsquo;s walk through the key aspects of this class:<br /><ul><br /> <li>The class has been annotated with the <code>@Controller</code> annotation, indicating that this is a Spring MVC Controller capable of handling web requests. Because <code>@Controller</code> is a specialization of Spring&rsquo;s <code>@Component</code> <em>Stereotype</em> annotation, the class will automatically be detected by the Spring container as part of the container&rsquo;s component scanning process, creating a bean definition and allowing instances to be dependency injected like any other Spring-managed component.</li><br /> <li>The <code>home</code> method has been annotated with a <code>@RequestMapping</code> annotation, specifying that this method should handle web requests to the path &ldquo;/&rdquo;, i.e. the <em>home</em> path for the application.</li><br /> <li>The <code>home</code> method simply logs a message to system out, and then returns <code>WEB-INF/views/home.jsp</code>, indicating the view which should handle the response, in this case a JSP page. (If hardcoding the entire view path including WEB-INF prefix, and the fact that it&rsquo;s a JSP, seems wrong to you, you are right. We&rsquo;ll deal with this later)</li><br /></ul><br />Now, we need to create the view. This JSP page will simply print a greeting.</p><p><code>WEB-INF/views/home.jsp</code><br />```html</p><p>&lt;%@ taglib uri=&ldquo;<a href="http://java.sun.com/jsp/jstl/core">http://java.sun.com/jsp/jstl/core</a>&rdquo; prefix=&ldquo;c&rdquo; %&gt;<br />&lt;%@ page session=&ldquo;false&rdquo; %&gt;<br /><html><br /> <head><br /> <title>Home</title><br /> </head><br /> <body><br /> <h1>Hello world!</h1><br /> </body><br /></html><br />```</p><p>Finally, as previously mentioned, we need to create a minimal Spring Application Context definition file.</p><p><code>WEB-INF/spring/appServlet/servlet-context.xml</code><br />```xml</p><p>&lt;?xml version=&ldquo;1.0&rdquo; encoding=&ldquo;UTF-8&rdquo;?&gt;<br />&lt;beans xmlns=&ldquo;<a href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a>&rdquo;<br /> xmlns:xsi=&ldquo;<a href="https://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>&rdquo;<br /> xmlns:mvc=&ldquo;<a href="http://www.springframework.org/schema/mvc">http://www.springframework.org/schema/mvc</a>&rdquo;<br /> xmlns:context=&ldquo;<a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a>&rdquo;<br /> xsi:schemaLocation=&quot;<br /> <a href="http://www.springframework.org/schema/mvc">http://www.springframework.org/schema/mvc</a> <a href="http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd</a><br /> <a href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a> <a href="http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</a><br /> <a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a> <a href="http://www.springframework.org/schema/context/spring-context-3.0.xsd" ">http://www.springframework.org/schema/context/spring-context-3.0.xsd"</a></p>
<pre><code class="prettyprint">&lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing infrastructure --&gt;

&lt;!-- Scans within the base package of the application for @Components to configure as beans --&gt;
&lt;!-- @Controller, @Service, @Configuration, etc. --&gt;
&lt;context:component-scan base-package=&quot;xyz.sample.baremvc&quot; /&gt;

&lt;!-- Enables the Spring MVC @Controller programming model --&gt;
&lt;mvc:annotation-driven /&gt;
</code></pre><p></beans><br />```</p><p>Let&rsquo;s examine the contents of this file:<br /><ul><br /> <li>You&rsquo;ll note that a few different Spring XML namespaces are being used: <em>context</em>, <em>mvc</em>, and the default <em>beans</em></li><br /> <li>The &lt;context:component-scan&gt; declaration ensures the Spring container does component scanning, so that any code annotated with <code>@Component</code> subtypes such as <code>@Controller</code> is automatically discovered. You&rsquo;ll note that for efficiency, we limit (to <code>xyz.sample.baremvc</code> in this case) what part of the package space Spring should scan in the classpath</li><br /> <li>The &lt;mvc:annotation-driven&gt; declaration sets up Spring MVC&rsquo;s support for routing requests to @Controllers, as well as how some things like conversion, formatting and validation are handled (with some sensible defaults based on what (libraries) is present in your classpath, and the ability to override if needed)</li><br /></ul><br />The web app is now ready to run. Assuming the Servlet container (tc Server in my case) is set to listen on localhost:8080, starting the application and then hitting the URL <code><a href="http://localhost:8080/baremvc">http://localhost:8080/baremvc</a></code> via our browser results in a display of the expected greeting:<br /><a href="http://blog.springsource.com/wp-content/uploads/2010/11/hello-world.png"><img class="alignnone size-full wp-image-6254" title="hello-world" src="http://blog.springsource.com/wp-content/uploads/2010/11/hello-world.png" alt="" width="605" height="378" /></a></p><p>As trivial as it is, running this application involves all the major pieces of a working Spring MVC application. Let&rsquo;s walk through the major sequences and component interactions:<br /><ul><br /> <li>When the web app starts up, the DispatcherServlet is loaded and initialized because of the entry in <code>web.xml</code>.</li><br /> <li>The DispatcherServlet loads an annotation-based Application Context, which has been configured to scan for annotated components via a regular expression specifying the base package(s).</li><br /> <li>Annotated components such as the HomeController are detected by the container.</li><br /> <li>The HTTP request to <code><a href="http://localhost:8080/baremvc">http://localhost:8080/baremvc</a></code> hits the servlet engine and is routed to our (<em>baremvc</em>) webapp.</li><br /> <li>The implicit &ldquo;/&rdquo; path at the end of the URL matches the regex that has been registered for the DispatcherServlet, and the request is routed to it</li><br /> <li>The DispatcherServlet needs to decide what to do with the request. It uses a <em>strategy</em> called a <code>HandlerAdapter</code> to decide where to route the request. The specific HandlerAdapter type (or types, since they can be chained) to be used can be customized, but by default, an annotation-based strategy is used, which routes requests appropriately to specific methods in classes annotated as <code>@Controller</code>, based on matching criteria in <code>@RequestMapping</code> annotations found in those classes. In this case, the regex on the <em>home</em> method is matched, and it&rsquo;s called to handle the request.</li><br /> <li>The <em>home</em> method does its work, in this case just printing something to system out. It then returns a string that&rsquo;s a hint (in this case, a very explicit one, <code>WEB-INF/views/home.jsp</code>) to help chose the View to render the response.</li><br /> <li>The DispatcherServlet again relies on a strategy, called a <code>ViewResolver</code> to decide which View is responsible for rendering the response. This can be configured as needed for the application (in a simple or chained fashion), but by default, an <code>InternalResourceViewResolver</code> is used. This is a very simple view resolver that produces a <code>JstlView</code> which simply delegates to the Servlet engine&rsquo;s internal <code>RequestDispatcher</code> to render, and is thus suitable for use with JSP pages or HTML pages.</li><br /> <li>The Servlet engine renders the response via the specified JSP</li><br /></ul><br /><h3>Taking It to the Next Level</h3><br />At this point, we&rsquo;ve got an app which certainly qualifies as <em>the world&rsquo;s simplest Spring MVC application</em>, but frankly, doesn&rsquo;t really meet the spirit of that description. Let&rsquo;s evolve things to another level.</p><p>As previously mentioned, it&rsquo;s not appropriate to hard-code a path to a view template into a controller, as our controller curretly does. A looser, more <em>logical</em> coupling between controllers and views, with controllers focused on executing some web or business logic, and generally agnostic to specific details like view paths or JSP vs. some other templating technology, is an example of <em>separation of concerns</em>. This allows much greater reuse of both controllers and views, and easier evolution of each in isolation from the other, with possibly different people working on each type of code.</p><p>Essentially, the controller code ideally needs to be something like this variant, where a purely logical view name (whether simple or composite) is returned:</p>
<pre><code class="prettyprint java"><br />//...
@Controller
public class HomeController {

	@RequestMapping(value = &quot;/&quot;)
	public String home() {
		System.out.println(&quot;HomeController: Passing through...&quot;);
		return &quot;home&quot;;
	}
}
</code></pre><p>Spring MVC&rsquo;s <code>ViewResolver</code> <em>Strategy</em> is actually the mechanism meant to be used to achieve this looser coupling between the controller and the view. As already mentioned, in the absence of the application configuring a specific <code>ViewResolver</code>, Spring MVC sets up a default minimally configured <code>InternalResourceViewResolver</code>, a very simple view resolver that produces a <code>JstlView</code>. There are potentially other view resolvers we could use, but to get a better level of decoupling, all we actually need to do is set up our own instance of <code>InternalResourceViewResolver</code> with slightly tweaked configuration. <code>InternalResourceViewResolver</code> employs a very simple strategy; it simply takes the view name returned by the controller, and prepends it with an optional prefix (empty by default), and appends it with an optional suffix (empty by default), then feeds that resultant path to a <code>JstlView</code> it creates. The <code>JstlView</code> then delegates to the Servlet engine&rsquo;s <code>RequestDispatcher</code> to do the real work, i.e. rendering the template. Therefore, to allow the controller to return logical view names like <code>home</code> instead of specific view template paths like <code>WEB-INF/views/home.jsp</code>, we simply need to configure this view resolver with the prefix <code>WEB-INF/views</code> and the suffix <code>.jsp</code>, so that it prepends and appends these, respectively, to the logical name returned by the controller.</p><p>One easy way to configure the view resolver instance is to introduce the use of Spring&rsquo;s Java-based container configuration, with the resolver as a bean definition:</p>
<pre><code class="prettyprint java"><br />package xyz.sample.baremvc;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.ViewResolver;
import org.springframework.web.servlet.view.InternalResourceViewResolver;

@Configuration
public class AppConfig {

	// Resolve logical view names to .jsp resources in the /WEB-INF/views directory
	@Bean
	ViewResolver viewResolver() {
		InternalResourceViewResolver resolver = new InternalResourceViewResolver();
		resolver.setPrefix(&quot;WEB-INF/views/&quot;);
		resolver.setSuffix(&quot;.jsp&quot;);
		return resolver;
	}
}
</code></pre><p>We are already doing component scanning, therefore since <code>@Cofiguration</code> is itself an <code>@Component</code>, this new configuration definition with the (resolver) bean inside it is automatically picked up by the Spring container. Then Spring MVC scans all beans and finds the resolver.</p><p>This is a fine approach, but some people may instead prefer to configure the resolver as a bean in the XML definition file, e.g.</p>
<pre><code class="prettyprint xml"><br />	&lt;!-- Resolve logical view names to .jsp resources in the /WEB-INF/views directory --&gt;
	&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
		&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;
		&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;
	&lt;/bean&gt;
</code></pre><p>It&rsquo;s hard to make a case for this object that one particular approach is much better than the other, so it&rsquo;s really a matter of personal preference in this case (and we can actually see one of the strengths of Spring, its flexible nature).<br /><h3>Handling User Input</h3><br />Almost any web app needs to take some input from a client, do something with it, and return or render the result. There are a myriad ways to get input into a Spring MVC application, and a myriad ways to render the result, but let&rsquo;s at least show one variant. In this simple example, we&rsquo;re going to modify our HomeController to add a new handler method which takes two string inputs, compares them, and return the result.</p>
<pre><code class="prettyprint java"><br />package xyz.sample.baremvc;

import java.util.Comparator;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;

/**
 * Handles requests for the application home page.
 */
@Controller
public class HomeController {

	@Autowired
	Comparator&lt;String&gt; comparator;

	@RequestMapping(value = &quot;/&quot;)
	public String home() {
		System.out.println(&quot;HomeController: Passing through...&quot;);
		return &quot;home&quot;;
	}

	@RequestMapping(value = &quot;/compare&quot;, method = RequestMethod.GET)
	public String compare(@RequestParam(&quot;input1&quot;) String input1,
			@RequestParam(&quot;input2&quot;) String input2, Model model) {

		int result = comparator.compare(input1, input2);
		String inEnglish = (result &lt; 0) ? &quot;less than&quot; : (result &gt; 0 ? &quot;greater than&quot; : &quot;equal to&quot;);

		String output = &quot;According to our Comparator, &#39;&quot; + input1 + &quot;&#39; is &quot; + inEnglish + &quot;&#39;&quot; + input2 + &quot;&#39;&quot;;

		model.addAttribute(&quot;output&quot;, output);
		return &quot;compareResult&quot;;
	}
}
</code></pre><p>Key elements in the new code:<br /><ul><br /> <li>We&rsquo;re using another <code>@RequestMapping</code> annotation to make requests ending in with the path <code>/compare</code> to the new <em>compare</em> method</li><br /> <li>We are expecting the caller to pass us the two String input parameters as part of the GET request, so we grab them via the <code>@RequestParam</code> annotation. Note that we are relying on the default handling for this annotation, which assumes that these params are required. The client will receive an HTTP 400 error if they are missing. Note also that this is just one way of passing in parameters to a Spring MVC application. For example, it&rsquo;s easy to grab parameters that are embedded as part of the request URL path itself, for a more REST-style approach</li><br /> <li>We use our Comparator instance to compare the two strings</li><br /> <li>We stuff the comparison result into the <em>Model</em> object under the key <code>result</code>, so that it can be accessed by the View. Think of a Model as a glorified hashmap, in simplest terms.</li><br /></ul><br />While we could have modified our exisitng view to also be used to display the comparison results, we are instead using a new view template:</p><p><code>WEB-INF/views/compareResult.jsp</code><br />```html</p><p>&lt;%@ taglib uri=&ldquo;<a href="http://java.sun.com/jsp/jstl/core">http://java.sun.com/jsp/jstl/core</a>&rdquo; prefix=&ldquo;c&rdquo; %&gt;<br />&lt;%@ page session=&ldquo;false&rdquo; %&gt;<br /><html><br /> <head><br /> <title>Result</title><br /> </head><br /> <body><br /> <h1>&lt;c:out value=&ldquo;${output}&rdquo;&gt;&lt;/c:out&gt;</h1><br /> </body><br /></html><br />```</p><p>Finally, we need to supply the controller with a <code>Comparator</code> instance to use. We have annotated the <code>comparator</code> field in the controller with Spring&rsquo;s <code>@Autowired</code> annotation (which will be detected automatically after the controler is detected) and instructs the Spring container to inject a <code>Comparator</code> into that field. Therefore, we need to ensure the container has one available. For this purpose, a minimal <code>Comparator</code> implementation has been created, which simply does a case insensitive comparison. For simplicity&rsquo;s sake, this class has itself been annotated with Spring&rsquo;s <code>@Service</code> <em>Stereotype</em> annotation, a type of <code>@Component</code> and thus will automatically be detected by the Spring container as part of the container&rsquo;s component scanning process, and injected into the controller.</p>
<pre><code class="prettyprint java"><br />package xyz.sample.baremvc;

import java.util.Comparator;
import org.springframework.stereotype.Service;

@Service
public class CaseInsensitiveComparator implements Comparator&lt;String&gt; {
	public int compare(String s1, String s2) {
		assert s1 != null &amp;&amp; s2 != null;
		return String.CASE_INSENSITIVE_ORDER.compare(s1, s2);
	}
}
</code></pre><p>Note that we could just as easily have declared an instance of this in the container via a Java based <code>@Bean</code> definition in an <code>@Configuration</code> class, or an XML based bean definition, and certainly those variants might be preferred in many cases for the greater level of control they offer.</p><p>We can now start the application and access it with a URL such as<br /><code><a href="http://localhost:8080/baremvc/compare?input1=Donkey&amp;input2=dog">http://localhost:8080/baremvc/compare?input1=Donkey&amp;input2=dog</a></code><br />to exercise the new code:</p><p><a href="http://blog.springsource.com/wp-content/uploads/2020/11/compareResult.png"><img class="alignnone size-full wp-image-7058" title="compareResult" src="http://blog.springsource.com/wp-content/uploads/2020/11/compareResult.png" alt="" width="600" height="204" /></a><br /><h3>Next Steps</h3><br />I&rsquo;ve really only scratched the surface of what Spring MVC can do, but hopefully this blog post has given you an idea as to how easy it is to get going with Spring MVC, and how some of the core concepts in the framework tie together. It may also be appropriate at this point to mention that in the interest of making it easier to understand the core concepts, there are a few (hopefully very obvious) areas in my sample that are not handled the way they would be in a larger or production application, as an example, the hard-coding of messages inside Java code, or some of the package organization.</p><p>Now I&rsquo;d like to encourage you to learn more about and experiment with Spring MVC&rsquo;s full featureset and comprehensive capabilities in areas such mapping of requests to controllers and methods, data binding and validation, locale and theme support, and general ability to be customized to handle pretty much all web tier use cases that fit the action response model.</p><p>One valuable resource for you in this learning process is Keith Donald&rsquo;s <a href="http://blog.springsource.com/2010/07/22/spring-mvc-3-showcase/">Spring MVC 3 Showcase</a>, which includes working code showing most of the capabilities of Spring MVC, that you can easily load into <a href="http://www.springsource.com/developer/sts">SpringSource Tool Suite</a> (STS) or another Eclipse environment and experiment with. As an aside, if you are not familiar with STS, I should mention that it&rsquo;s a great tool for experimenting with the Spring set of technologies, because of its great support for Spring and features like the out of the box project templates. In <a href="http://s3.springsource.org/MVC/mvc-in-sts-screencast.mp4">this short video recording</a>, I show how to get going with a new Spring MVC application via an STS template.<br /><h3>Appendix - Dependencies</h3><br />The code above should work regardless of which build system you use (these days, I generally prefer Gradle or Maven). Here is a relatively minimal sample Maven POM file to build the above project, which may be used as a base, or to gain an understanding of what dependencies are needed. It&rsquo;s actually not quite as minimal as it could be, since I&rsquo;ve explicitly switched out commons-logging for SLF4J, and added some optional repositories and Maven plugins. The only non-obvious item may be the need for CGLIB, which is an optional dependency needed by Spring when @Configuration is used.</p>
<pre><code class="prettyprint xml"><br />&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;xyz.sample&lt;/groupId&gt;
	&lt;artifactId&gt;baremvc&lt;/artifactId&gt;
	&lt;name&gt;Sprring MVC sample project&lt;/name&gt;
	&lt;packaging&gt;war&lt;/packaging&gt;
	&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;
	&lt;properties&gt;
		&lt;java-version&gt;1.6&lt;/java-version&gt;
		&lt;org.springframework-version&gt;3.0.6.RELEASE&lt;/org.springframework-version&gt;
		&lt;org.slf4j-version&gt;1.6.1&lt;/org.slf4j-version&gt;
	&lt;/properties&gt;
	&lt;dependencies&gt;
		&lt;!-- Spring --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-context&lt;/artifactId&gt;
			&lt;version&gt;${org.springframework-version}&lt;/version&gt;
			&lt;exclusions&gt;
				&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;
				&lt;exclusion&gt;
					&lt;groupId&gt;commons-logging&lt;/groupId&gt;
					&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
				 &lt;/exclusion&gt;
			&lt;/exclusions&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
			&lt;version&gt;${org.springframework-version}&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;!-- CGLIB, only required and used for @Configuration usage --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;cglib&lt;/groupId&gt;
			&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;
			&lt;version&gt;2.2&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;!-- Logging --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
			&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
			&lt;version&gt;${org.slf4j-version}&lt;/version&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
			&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;
			&lt;version&gt;${org.slf4j-version}&lt;/version&gt;
			&lt;scope&gt;runtime&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
			&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
			&lt;version&gt;${org.slf4j-version}&lt;/version&gt;
			&lt;scope&gt;runtime&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;log4j&lt;/groupId&gt;
			&lt;artifactId&gt;log4j&lt;/artifactId&gt;
			&lt;version&gt;1.2.16&lt;/version&gt;
			&lt;scope&gt;runtime&lt;/scope&gt;
		&lt;/dependency&gt;

		&lt;!-- @Inject --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;javax.inject&lt;/groupId&gt;
			&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;
			&lt;version&gt;1&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;!-- Servlet --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;javax.servlet&lt;/groupId&gt;
			&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
			&lt;version&gt;2.5&lt;/version&gt;
			&lt;scope&gt;provided&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;
			&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;
			&lt;version&gt;2.1&lt;/version&gt;
			&lt;scope&gt;provided&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;javax.servlet&lt;/groupId&gt;
			&lt;artifactId&gt;jstl&lt;/artifactId&gt;
			&lt;version&gt;1.2&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;!-- Test --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;junit&lt;/groupId&gt;
			&lt;artifactId&gt;junit&lt;/artifactId&gt;
			&lt;version&gt;4.7&lt;/version&gt;
			&lt;scope&gt;test&lt;/scope&gt;
		&lt;/dependency&gt;

	&lt;/dependencies&gt;
	&lt;repositories&gt;
		&lt;repository&gt;
			&lt;id&gt;org.springframework.maven.release&lt;/id&gt;
			&lt;name&gt;Spring Maven Release Repository&lt;/name&gt;
			&lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;
			&lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;
			&lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;
		&lt;/repository&gt;
		&lt;!-- For testing against latest Spring snapshots --&gt;
		&lt;repository&gt;
			&lt;id&gt;org.springframework.maven.snapshot&lt;/id&gt;
			&lt;name&gt;Spring Maven Snapshot Repository&lt;/name&gt;
			&lt;url&gt;http://maven.springframework.org/snapshot&lt;/url&gt;
			&lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;
			&lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;
		&lt;/repository&gt;
		&lt;!-- For developing against latest Spring milestones --&gt;
		&lt;repository&gt;
			&lt;id&gt;org.springframework.maven.milestone&lt;/id&gt;
			&lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;
			&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;
			&lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;
		&lt;/repository&gt;
	&lt;/repositories&gt;
	&lt;build&gt;
		&lt;plugins&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
				&lt;configuration&gt;
					&lt;source&gt;${java-version}&lt;/source&gt;
					&lt;target&gt;${java-version}&lt;/target&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
				&lt;configuration&gt;
					&lt;warName&gt;baremvc&lt;/warName&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
				&lt;artifactId&gt;tomcat-maven-plugin&lt;/artifactId&gt;
				&lt;version&gt;1.1&lt;/version&gt;
			&lt;/plugin&gt;
		&lt;/plugins&gt;
	&lt;/build&gt;
&lt;/project&gt;
</code></pre></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 374;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
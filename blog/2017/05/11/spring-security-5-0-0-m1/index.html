<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring Security 5.0.0 M1</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring Security 5.0.0 M1" />
<meta name="twitter:description" content="&lt;p&gt;On behalf of the community, I’m pleased to announce the release of Spring Security 5.0.0 M1. This release includes bug fixes, new features, and is based off of Spring Framework 5.0.0 RC1. The highlights of the release include:&lt;/p&gt;
&lt;ul&gt; 
 &lt;li&gt;&lt;a href=&quot;#initial-support-for-reactive-web-applications&quot;&gt;Initial Support for Reactive Web Applications&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href=&quot;#new-support-for-oauth-2-0-and-openid-connect-1-0&quot;&gt;New Support for OAuth 2.0 and OpenID Connect 1.0&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt;
&lt;h1&gt;&lt;a href=&quot;#initial-support-for-reactive-web-applications&quot; class=&quot;anchor&quot; name=&quot;initial-support-for-reactive-web-applications&quot;&gt;&lt;/a&gt;Initial Support for Reactive Web Applications&lt;/h1&gt;
&lt;p&gt;Following one of the primary themes of Spring Framework 5.0, Spring Security 5.0 will add support for Reactive applications by building on top of Spring’s reactive support. The first milestone focused on getting primary infrastructure in place.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@rob_winch" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/30ed046efb35c67d4c055dab109b8933?s=200" />

<meta property="og:title" content="Spring Security 5.0.0 M1" />
<meta property="og:image" content="https://gravatar.com/avatar/30ed046efb35c67d4c055dab109b8933?s=200" />
<meta property="og:description" content="&lt;p&gt;On behalf of the community, I’m pleased to announce the release of Spring Security 5.0.0 M1. This release includes bug fixes, new features, and is based off of Spring Framework 5.0.0 RC1. The highlights of the release include:&lt;/p&gt;
&lt;ul&gt; 
 &lt;li&gt;&lt;a href=&quot;#initial-support-for-reactive-web-applications&quot;&gt;Initial Support for Reactive Web Applications&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href=&quot;#new-support-for-oauth-2-0-and-openid-connect-1-0&quot;&gt;New Support for OAuth 2.0 and OpenID Connect 1.0&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt;
&lt;h1&gt;&lt;a href=&quot;#initial-support-for-reactive-web-applications&quot; class=&quot;anchor&quot; name=&quot;initial-support-for-reactive-web-applications&quot;&gt;&lt;/a&gt;Initial Support for Reactive Web Applications&lt;/h1&gt;
&lt;p&gt;Following one of the primary themes of Spring Framework 5.0, Spring Security 5.0 will add support for Reactive applications by building on top of Spring’s reactive support. The first milestone focused on getting primary infrastructure in place.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2017-05-11 15:48:30.118" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>Engineering</div>
</div>
<div class="blog-category active content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Security 5.0.0 M1</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">Releases</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/30ed046efb35c67d4c055dab109b8933?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/rwinch">Rob Winch</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2017-05-11 15:48:30.118">May 11, 2017</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="2921" href="/blog/2017/05/11/spring-security-5-0-0-m1#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>On behalf of the community, I&rsquo;m pleased to announce the release of Spring Security 5.0.0 M1. This release includes bug fixes, new features, and is based off of Spring Framework 5.0.0 RC1. The highlights of the release include:</p>
<ul>
<li><a href="#initial-support-for-reactive-web-applications">Initial Support for Reactive Web Applications</a></li>
<li><a href="#new-support-for-oauth-2-0-and-openid-connect-1-0">New Support for OAuth 2.0 and OpenID Connect 1.0</a></li>
</ul><h1><a href="#initial-support-for-reactive-web-applications" class="anchor" name="initial-support-for-reactive-web-applications"></a>Initial Support for Reactive Web Applications</h1>
<p>Following one of the primary themes of Spring Framework 5.0, Spring Security 5.0 will add support for Reactive applications by building on top of Spring&rsquo;s reactive support. The first milestone focused on getting primary infrastructure in place.</p>
<p>A complete example of using Spring Security to secure a Spring WebFlux application can be found in the Spring Security samples at <a href="https://github.com/spring-projects/spring-security/blob/5.0.0.M1/samples/javaconfig/hellowebflux">hellowebflux</a>.</p>
<p>A quick highlight of the code can be found below:</p>
<pre><code class="prettyprint java">@Bean
WebFilter springSecurityFilterChain(ReactiveAuthenticationManager manager) {
  HttpSecurity http = http();
  http.authenticationManager(manager);
  http.httpBasic();

  AuthorizeExchangeBuilder authorize = http.authorizeExchange();
  authorize.antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;);
  authorize.antMatchers(&quot;/users/{user}/**&quot;).access(this::currentUserMatchesPath);
  authorize.anyExchange().authenticated();
  return http.build();
}
</code></pre>
<p>The code should look familiar if you have used Spring Security&rsquo;s web based authorization support.</p>
<p>One important thing to notice is that in reactive applications <code>access</code> allows for an interface to be injected rather than a <code>String</code>. This allows for lambda&rsquo;s or method references to be used for custom authorization logic. For example, <code>currentUserMatchesPath</code> looks like this:</p>
<pre><code class="prettyprint java">Mono&lt;AuthorizationDecision&gt; currentUserMatchesPath(
    Mono&lt;Authentication&gt; authentication, AuthorizationContext context) {
  return authentication
    .map( a -&gt; context.getVariables().get(&quot;user&quot;).equals(a.getName()))
    .map( granted -&gt; new AuthorizationDecision(granted));
}
</code></pre>
<p>Obviously we could have just used a lambda rather than a method reference, but this is a little easier to read (especially when there might be more rules).</p><h1><a href="#new-support-for-oauth-2-0-and-openid-connect-1-0" class="anchor" name="new-support-for-oauth-2-0-and-openid-connect-1-0"></a>New Support for OAuth 2.0 and OpenID Connect 1.0</h1>
<p>We are very excited to introduce new support for <a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0 Authorization Framework</a> and <a href="https://openid.net/connect/">OpenID Connect 1.0</a> in Spring Security 5. The initial support in M1 is primarily focused on the <strong>OAuth Client</strong> role, providing the capability for authenticating the end-user against an OAuth 2.0 Provider (for example, Facebook) or an OpenID Connect 1.0 Provider (for example, Google).</p>
<p>The <strong>OAuth 2.0 Login</strong> feature essentially realizes the use case <em>&ldquo;Login with Google&rdquo;</em> or <em>&ldquo;Login with Facebook&rdquo;</em> and is implemented by leveraging the <a href="https://tools.ietf.org/html/rfc6749#section-4.1">Authorization Code Grant</a> flow, as specified in the <a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0 Authorization Framework</a>.</p>
<p>The best place to start learning on how to use <em>OAuth 2.0 Login</em> is to follow the <a href="https://github.com/spring-projects/spring-security/blob/5.0.0.M1/samples/boot/oauth2login/README.adoc">guide</a> and associated <a href="https://github.com/spring-projects/spring-security/tree/5.0.0.M1/samples/boot/oauth2login">sample</a>. The guide will walk you through setting up <em>OAuth 2.0 Login</em> with Google, GitHub, Facebook and Okta.</p><h2><a href="#the-future-of-oauth-in-spring-security" class="anchor" name="the-future-of-oauth-in-spring-security"></a>The Future of OAuth in Spring Security</h2>
<p>Support for OAuth is currently spread out in the following Spring projects:</p>
<ul>
<li><a href="https://projects.spring.io/spring-security-oauth/">Spring Security OAuth</a></li>
<li><a href="https://projects.spring.io/spring-social/">Spring Social</a></li>
<li><a href="https://cloud.spring.io/spring-cloud-security/">Spring Cloud Security</a></li>
<li><a href="https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/htmlsingle/#boot-features-security-oauth2-single-sign-on">Spring Boot&rsquo;s OAuth2 SSO Support</a></li>
</ul>
<p>With Spring Security 5, the main direction going forward is to build first-class support for<br /><a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0 Authorization Framework</a>, <a href="https://openid.net/connect/">OpenID Connect 1.0</a>, <a href="https://tools.ietf.org/search/rfc7519">JWT</a>, and JOSE (<a href="https://tools.ietf.org/html/rfc7515">JWS</a>/<a href="https://tools.ietf.org/html/rfc7516">JWE</a>/<a href="https://tools.ietf.org/html/rfc7517">JWK</a>) into Spring Security proper. The goal is to have Spring Security <em>&ldquo;house&rdquo;</em> the core logic for the lower-level protocol flows, for example, the <em>&ldquo;authorization code grant&rdquo;</em> flow, which would then be reused by the various Spring projects requiring it, such as, Spring Social. A lot of the protocol flow logic has already been implemented in Spring Security OAuth, however, the decision was made to do a re-write as we incorporate it into Spring Security proper. That being said, the Spring Security OAuth project is in maintenance mode as we are limiting new features and focusing on bug fixes and minor enhancements only. Our efforts going forward will be focused on building out the support within Spring Security.</p>
<p>The ultimate goal with the new support for OAuth 2.0 and OpenID Connect 1.0 is to provide an easy-to-use abstraction on top of the lower-level protocol flows that are inherently complex. In order to move quickly and stay current, we are leveraging <a href="https://connect2id.com/products/nimbus-oauth-openid-connect-sdk">Nimbus OAuth 2.0 and OIDC SDK</a> for our internal implementation. As a key preliminary step before we proceeded with the re-write, we researched and evaluated existing OAuth 2.0 and OpenID Connect 1.0 Java libraries available in the open source community and documented our findings <a href="https://github.com/spring-projects/spring-security/issues/3907#issuecomment-257600002">here</a>. As a result of this evaluation phase, we found Nimbus OAuth 2.0 and OIDC SDK to be the most mature and comprehensive Java library available today as it provides extensive support for all the relevant <a href="https://connect2id.com/products/nimbus-oauth-openid-connect-sdk#related-specifications">specifications</a>.</p>
<hr />
<p>In the upcoming 5.0.0 M2 release we plan to build further support for reactive based security and OAuth 2.0 and OpenID Connect 1.0. We would greatly appreciate any feedback on these new features and if you have anything that you would like prioritized, please create an <a href="https://github.com/spring-projects/spring-security/issues">issue</a>.</p>
<p><a href="https://projects.spring.io/spring-security/">Project Site</a> | <a href="https://docs.spring.io/spring-security/site/docs/5.0.0.M1/reference/htmlsingle/">Reference</a> | <a href="https://docs.spring.io/spring-security/site/docs/current/guides/html5/">Guides</a> | <a href="https://stackoverflow.com/questions/tagged/spring-security">Help</a></p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2921;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring Batch 4.0.0.M1 is now available</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring Batch 4.0.0.M1 is now available" />
<meta name="twitter:description" content="&lt;p&gt;We are pleased to announce that Spring Batch 4.0.0.M1 is now available via Github and the Pivotal download repository. This release represents the first milestone for the Spring Batch 4.0 release. Many thanks to all of those who contributed to this release.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#what-rsquo-s-new&quot; class=&quot;anchor&quot; name=&quot;what-rsquo-s-new&quot;&gt;&lt;/a&gt;What’s new?&lt;/h2&gt;
&lt;p&gt;We have taken this opportunity to look at Spring Batch from a new light in a few areas. Specifically:&lt;br&gt;* Java baseline&lt;br&gt;* Dependency baseline&lt;br&gt;* Java configuration&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;#java-baseline&quot; class=&quot;anchor&quot; name=&quot;java-baseline&quot;&gt;&lt;/a&gt;Java Baseline&lt;/h3&gt;
&lt;p&gt;Spring Batch has historically followed the baseline of Spring Framework with the intent of providing the best interoperability between Spring Batch and Spring Framework versions as possible. Spring Batch 4.0 is taking this opportunity to upgrade to Spring Framework 5 as the minimum required version. With this, Java 8 will be required for Spring Batch 4. If you’ve been using Spring Batch with Java 8 already, this should be a pretty transparent as Spring Batch has had a solid Java 8 story for years now. Doing things like the following has been supported as long as Java 8 has been around:&lt;/p&gt;
" />
<meta name="twitter:creator" content="@michaelminella" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/ab8031806cdd258238e67411157d215a?s=200" />

<meta property="og:title" content="Spring Batch 4.0.0.M1 is now available" />
<meta property="og:image" content="https://gravatar.com/avatar/ab8031806cdd258238e67411157d215a?s=200" />
<meta property="og:description" content="&lt;p&gt;We are pleased to announce that Spring Batch 4.0.0.M1 is now available via Github and the Pivotal download repository. This release represents the first milestone for the Spring Batch 4.0 release. Many thanks to all of those who contributed to this release.&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;#what-rsquo-s-new&quot; class=&quot;anchor&quot; name=&quot;what-rsquo-s-new&quot;&gt;&lt;/a&gt;What’s new?&lt;/h2&gt;
&lt;p&gt;We have taken this opportunity to look at Spring Batch from a new light in a few areas. Specifically:&lt;br&gt;* Java baseline&lt;br&gt;* Dependency baseline&lt;br&gt;* Java configuration&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;#java-baseline&quot; class=&quot;anchor&quot; name=&quot;java-baseline&quot;&gt;&lt;/a&gt;Java Baseline&lt;/h3&gt;
&lt;p&gt;Spring Batch has historically followed the baseline of Spring Framework with the intent of providing the best interoperability between Spring Batch and Spring Framework versions as possible. Spring Batch 4.0 is taking this opportunity to upgrade to Spring Framework 5 as the minimum required version. With this, Java 8 will be required for Spring Batch 4. If you’ve been using Spring Batch with Java 8 already, this should be a pretty transparent as Spring Batch has had a solid Java 8 story for years now. Doing things like the following has been supported as long as Java 8 has been around:&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2017-01-04 22:31:44.884" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>Engineering</div>
</div>
<div class="blog-category active content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Batch 4.0.0.M1 is now available</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">Releases</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/ab8031806cdd258238e67411157d215a?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/mminella">Michael Minella</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2017-01-04 22:31:44.884">January 04, 2017</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="2761" href="/blog/2017/01/04/spring-batch-4-0-0-m1-is-now-available#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>We are pleased to announce that Spring Batch 4.0.0.M1 is now available via Github and the Pivotal download repository. This release represents the first milestone for the Spring Batch 4.0 release. Many thanks to all of those who contributed to this release.</p><h2><a href="#what-rsquo-s-new" class="anchor" name="what-rsquo-s-new"></a>What&rsquo;s new?</h2>
<p>We have taken this opportunity to look at Spring Batch from a new light in a few areas. Specifically:<br />* Java baseline<br />* Dependency baseline<br />* Java configuration</p><h3><a href="#java-baseline" class="anchor" name="java-baseline"></a>Java Baseline</h3>
<p>Spring Batch has historically followed the baseline of Spring Framework with the intent of providing the best interoperability between Spring Batch and Spring Framework versions as possible. Spring Batch 4.0 is taking this opportunity to upgrade to Spring Framework 5 as the minimum required version. With this, Java 8 will be required for Spring Batch 4. If you&rsquo;ve been using Spring Batch with Java 8 already, this should be a pretty transparent as Spring Batch has had a solid Java 8 story for years now. Doing things like the following has been supported as long as Java 8 has been around:</p>
<pre><code class="prettyprint">@Bean
public JdbcCursorItemReader&lt;Foo&gt; reader() {
	JdbcCursorItemReader&lt;Foo&gt; reader = new JdbcCursorItemReader&lt;&gt;();

	reader.setDataSource(this.dataSource);
	reader.setName(&quot;fooReader&quot;);
	reader.setSql(&quot;SELECT * FROM FOO ORDER BY FIRST&quot;);
	reader.setRowMapper((rs, rowNum) -&gt; {
		Foo foo = new Foo();

		foo.setFirst(rs.getInt(&quot;FIRST&quot;));
		foo.setFirst(rs.getString(&quot;SECOND&quot;));
		foo.setFirst(rs.getString(&quot;THIRD&quot;));

		return foo;
	});

	return reader;
}
</code></pre>
<p>Just like Spring Framework 5&rsquo;s re-baselining on Java 8, this is has a larger impact internally to the framework. Now we, the developers and contributors of the framework, will be able to utilize the interesting features of Java 8 that you&rsquo;ve been using all along.</p><h3><a href="#dependencies-baseline" class="anchor" name="dependencies-baseline"></a>Dependencies Baseline</h3>
<p>Along with the re-baselining of Java in accordance with Spring Framework, Spring Batch 4 is also taking a full look at all dependencies and upgrading them to the latest versions. This is as much to keep up with the latest as it is for us to be able to provide support for the functionality we provide. We need to be dependent upon supported versions of those dependencies so we can have bugs addressed. Because of this, we need to keep up with their currently supported versions. An example of this is Hibernate. Spring Batch 3.x supported Hibernate back to 4.2.x. However, if an issue with Hibernate 4.2.x was found, it wouldn&rsquo;t be fixed there. It JBoss would only fix it in 5.2. Because of that, we need to stay up to date. Spring Framework 5 has taken a full review of all it&rsquo;s dependencies. Spring Batch 4 updates all it&rsquo;s dependencies to be in alignment with Spring Framework.</p><h3><a href="#java-configuration" class="anchor" name="java-configuration"></a>Java Configuration</h3>
<p>Java configuration to Spring Batch is not new. Spring Batch 2.2 had the <code>@EnableBatchProcessing</code> annotation as well as the related builders. However, there was still much to be desired from the java configuration story. For example, using what was available in Spring Batch 3.0.7, the configuration of a <code>FlatFileItemReader</code> may look something like the following:</p>
<pre><code class="prettyprint">@Bean
public FlatFileItemReader reader(Resource resource) throws Exception {
	FlatFileItemReader&lt;Foo&gt; reader = new FlatFileItemReader&lt;&gt;();

	reader.setName(&quot;fooReader&quot;);
	reader.setResource(resource);

	BeanWrapperFieldSetMapper&lt;Foo&gt; fieldSetMapper = 
		new BeanWrapperFieldSetMapper&lt;&gt;();
	fieldSetMapper.setTargetType(Foo.class);
	fieldSetMapper.afterPropertiesSet();

	DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer();
	tokenizer.setNames(String [] {&quot;first&quot;, &quot;second&quot;, &quot;third&quot;});
	tokenizer.afterProperitesSet();

	DefaultLineMapper lineMapper = new DefaultLineMapper();
	lineMapper.setLineTokenizer(tokenizer);
	lineMapper.setFieldSetMapper(fieldSetMapper);

	reader.setLineMapper(lineMapper);
}
</code></pre>
<p>However, in Spring Batch 4, we are introducing a collection of builders that will simplify the building of the provided readers and writers. The above example using Spring Batch 3.0.x translates into the following using the builders in Spring Batch 4:</p>
<pre><code class="prettyprint">@Bean
public FlatFileItemReader reader(Resource resource) {
	return new FlatFileItemReaderBuilder&lt;Foo&gt;()
		.name(&quot;fooReader&quot;)
		.resource(resource)
		.delimited()
		.names(new String[] {&quot;first&quot;, &quot;second&quot;, &quot;third&quot;})
		.targetType(Foo.class)
		.build();
}
</code></pre>
<p>As of this milestone, builders for the <code>FlatFileItemReader</code>, <code>FlatFileItemWriter</code>, <code>JdbcCursorItemReader</code>, and the <code>JdbcBatchItemWriter</code> are available. We will address the other item readers and item writers prior to Spring Batch 4 going generally available.</p><h2><a href="#what-rsquo-s-next" class="anchor" name="what-rsquo-s-next"></a>What&rsquo;s next?</h2>
<p>Looking ahead, we plan on implementing builders for the other Spring Batch readers and writers. We also plan on taking a full look at our documentation. The documentation currently takes what we&rsquo;d consider an &ldquo;XML first&rdquo; approach. For the GA release of Spring Batch, we intend on refactoring the documentation to be more &ldquo;java first&rdquo; in it&rsquo;s approach to provide better insight into how to configure batch applications using java configuration. Look out for further milestones and Spring Batch 4 to be generally available shortly after Spring Framework 5 goes GA.</p><h2><a href="#what-do-you-think" class="anchor" name="what-do-you-think"></a>What do you think?</h2>
<p>We look forward to your feedback on these new features in <a href="https://jira.spring.io/browse/BATCH/">Jira</a>, <a href="https://stackoverflow.com/tags/spring-batch">StackOverflow</a>, or to me directly via Twitter <a href="https://twitter.com/michaelminella">@michaelminella</a>!</p>
<p><a href="https://projects.spring.io/spring-batch/">Spring Batch Home</a> | <a href="https://github.com/spring-projects/spring-batch">Source on GitHub</a> | <a href="https://docs.spring.io/spring-batch/4.0.x/reference/html/index.html">Reference Documentation</a></p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2761;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
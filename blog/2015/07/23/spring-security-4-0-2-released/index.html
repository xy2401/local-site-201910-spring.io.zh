<html  data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>Spring Security 4.0.2发布</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Spring Security 4.0.2 Released">
<meta name="twitter:description" content="<p>I’m pleased to announce the release of Spring Security 4.0.2.RELEASE. This release is the second maintenance release of the 4.0 line and focusses on fixing any major issues that were found in the new release. For complete details on the release, refer to the <a href=" https:="" ="" jira.spring.io="" issues="" ?jql="project %3D SEC AND fixVersion %3D 4.0.2""></head><body >Change Log.
<p>Along with <strong>lots of bug fixes</strong>, the highlights of this release include:</p>
<h2><a href="#support-for-spring-framework-4-2" class="anchor" name="support-for-spring-framework-4-2"></a>Support for Spring Framework 4.2</h2>
<p>Spring Framework 4.2 GA is just around the corner. Spring Security 4.0.2 fixes some issues when running with Spring Framework 4.2. We are also rerunning our entire test suite using Spring Framework 4.2.</p>
">
<meta name="twitter:creator" content="@rob_winch">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/30ed046efb35c67d4c055dab109b8933?s=200">

<meta property="og:title" content="Spring Security 4.0.2 Released">
<meta property="og:image" content="https://gravatar.com/avatar/30ed046efb35c67d4c055dab109b8933?s=200">
<meta property="og:description" content="<p>I’m pleased to announce the release of Spring Security 4.0.2.RELEASE. This release is the second maintenance release of the 4.0 line and focusses on fixing any major issues that were found in the new release. For complete details on the release, refer to the <a href=" https:="" ="" jira.spring.io="" issues="" ?jql="project %3D SEC AND fixVersion %3D 4.0.2"">Change Log.
<p>Along with <strong>lots of bug fixes</strong>, the highlights of this release include:</p>
<h2><a href="#support-for-spring-framework-4-2" class="anchor" name="support-for-spring-framework-4-2"></a>Support for Spring Framework 4.2</h2>
<p>Spring Framework 4.2 GA is just around the corner. Spring Security 4.0.2 fixes some issues when running with Spring Framework 4.2. We are also rerunning our entire test suite using Spring Framework 4.2.</p>
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2015-07-23 15:15:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>工程</div>
</div>
<div class="blog-category active content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Security 4.0.2发布</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">发布</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/30ed046efb35c67d4c055dab109b8933?s=20&d=mm"> <a class="author" rel="author" href="/team/rwinch">罗伯·温奇</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2015-07-23 15:15:00.0">2015年7月23日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2015/07/23/spring-security-4-0-2-released#disqus_thread" data-disqus-identifier="2193">
</a></div>
</div>
</header>
<div class="blog--post"><p>我很高兴地宣布发布Spring Security 4.0.2。发布。此版本是4.0系列的第二个维护版本，重点在于修复新版本中发现的所有主要问题。有关发行版的完整详细信息，请参阅“ <a href="https://jira.spring.io/issues/?jql=project %3D SEC AND fixVersion %3D 4.0.2">更改日志”</a> 。</p><p>伴随<strong>许多错误修复</strong> ，此版本的重点包括：</p><h2><a href="#support-for-spring-framework-4-2" class="anchor" name="support-for-spring-framework-4-2"></a>对Spring Framework 4.2的支持</h2><p>Spring Framework 4.2 GA指日可待。当与Spring Framework 4.2一起运行时，Spring Security 4.0.2修复了一些问题。我们还将使用Spring Framework 4.2重新运行我们的整个测试套件。</p><h2><a href="#minor-improvements-to-spring-security-test" class="anchor" name="minor-improvements-to-spring-security-test"></a>春季安全性测试的微小改进</h2><p>以前，如果没有ApplicationContext，Spring Security的测试支持将失败。如果您只是想以特定用户身份运行测试，这将很不方便。此外，禁用Spring Test的其他功能（即加载ApplicationContext）是不方便的。 Spring Security 4.0.2中的更新允许使用以下特定用户身份运行测试：</p>
<pre><code class="prettyprint java">@SecurityTestExecutionListeners
@RunWith(SpringJUnit4ClassRunner.class)
public class MyTests {

    @WithMockUser
    @Test
    public void runsAsUserWithNoApplicationContext() {

    }
}
</code></pre><p>SecurityTestExecutionListeners是一个元注释，用于向Spring的测试框架发出信号，使其仅使用与Spring Security相关的TestExecutionListeners，而不尝试加载ApplicationContext。</p><h2><a href="#httpstatusreturninglogoutsuccesshandler" class="anchor" name="httpstatusreturninglogoutsuccesshandler"></a> HttpStatusReturningLogoutSuccessHandler</h2><p>Spring Security 4.0.2包含一个<a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-logout-success-handler">HttpStatusReturningLogoutSuccessHandler</a> ，当用户成功注销后，该<a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-logout-success-handler">HttpStatusReturningLogoutSuccessHandler</a>允许返回HTTP状态代码，从而轻松向REST客户端身份验证成功发出信号。</p><p>您将其与以下基于Java的配置一起使用：</p>
<pre><code class="prettyprint java"><br />http
    .logout()
        .logoutSuccessHandler(new HttpStatusReturningLogoutSuccessHandler())
</code></pre><p>如果使用XML命名空间配置，则可以使用<a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#nsa-logout-attributes"><span class="__cf_email__" data-cfemail="dcb0b3bbb3a9a89cafa9bfbfb9afaff1b4bdb2b8b0b9aef1aeb9ba">[电子邮件保护]</span></a> ：</p>
<pre><code class="prettyprint xml">&lt;b:bean id=&quot;successHandler&quot;
    class=&quot;org.springframework.security.web.authentication.logout.HttpStatusReturningLogoutSuccessHandler&quot;/&gt;
&lt;http ...&gt;
    &lt;logout success-handler-ref=&quot;successHandler&quot;/&gt;
&lt;/http&gt;
</code></pre><h2><a href="#changes-for-spring-cloud-security" class="anchor" name="changes-for-spring-cloud-security"></a> Spring Cloud Security的更改</h2><p>该版本包含针对Spring Cloud Security的更改（即AES / GCM支持）。</p><p><a href="https://projects.spring.io/spring-security/">项目现场</a> <a href="https://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/reference/htmlsingle/">参考</a> | <a href="https://docs.spring.io/spring-security/site/docs/4.0.2.RELEASE/guides/html5/">导游</a></p></div>
</div>
<section id="disqus_thread"></section>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2193;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
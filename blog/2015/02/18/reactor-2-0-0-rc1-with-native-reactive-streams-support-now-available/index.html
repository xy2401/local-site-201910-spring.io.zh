<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Reactor 2.0.0.RC1 with native Reactive Streams support now available!</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Reactor 2.0.0.RC1 with native Reactive Streams support now available!" />
<meta name="twitter:description" content="&lt;p&gt;The Reactor team is happy to announce the release of 2.0.0.RC1, which is now available in &lt;a href=&quot;http://repo.spring.io/libs-milestone/io/projectreactor/&quot;&gt;the spring.io Maven repository&lt;/a&gt; as well as &lt;a href=&quot;http://search.maven.org/#search%7Cga%7C1%7Cio.projectreactor&quot;&gt;Maven central&lt;/a&gt;. Version 2.0 is an &lt;code&gt;#uberupdate&lt;/code&gt; from Reactor version 1.1 and contains several new components as well as complete rewrites of important classes like &lt;code&gt;Stream&lt;/code&gt;, which now implements &lt;a href=&quot;http://github.com/reactive-streams/reactive-streams&quot;&gt;the Reactive Streams standard&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Please note that the Maven coordinates for Reactor 2.0 have changed from those for Reactor 1.x. The new coordinates all fall under the group ID &lt;code&gt;io.projectreactor&lt;/code&gt; rather than the previous &lt;code&gt;org.projectreactor&lt;/code&gt;. A sample dependencies block for a Gradle project might look like this:&lt;/p&gt;
" />
<meta name="twitter:creator" content="@j_brisbin" />
<meta name="twitter:image:src" content="http://gravatar.com/avatar/5500b5cf634f9a3921e4619778a1425f?s=200" />

<meta property="og:title" content="Reactor 2.0.0.RC1 with native Reactive Streams support now available!" />
<meta property="og:image" content="http://gravatar.com/avatar/5500b5cf634f9a3921e4619778a1425f?s=200" />
<meta property="og:description" content="&lt;p&gt;The Reactor team is happy to announce the release of 2.0.0.RC1, which is now available in &lt;a href=&quot;http://repo.spring.io/libs-milestone/io/projectreactor/&quot;&gt;the spring.io Maven repository&lt;/a&gt; as well as &lt;a href=&quot;http://search.maven.org/#search%7Cga%7C1%7Cio.projectreactor&quot;&gt;Maven central&lt;/a&gt;. Version 2.0 is an &lt;code&gt;#uberupdate&lt;/code&gt; from Reactor version 1.1 and contains several new components as well as complete rewrites of important classes like &lt;code&gt;Stream&lt;/code&gt;, which now implements &lt;a href=&quot;http://github.com/reactive-streams/reactive-streams&quot;&gt;the Reactive Streams standard&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Please note that the Maven coordinates for Reactor 2.0 have changed from those for Reactor 1.x. The new coordinates all fall under the group ID &lt;code&gt;io.projectreactor&lt;/code&gt; rather than the previous &lt;code&gt;org.projectreactor&lt;/code&gt;. A sample dependencies block for a Gradle project might look like this:&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2015-02-18 15:53:00.57" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>Engineering</div>
</div>
<div class="blog-category active content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Reactor 2.0.0.RC1 with native Reactive Streams support now available!</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">Releases</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/5500b5cf634f9a3921e4619778a1425f?s=20&amp;d=mm" />
<span class="author">Jon Brisbin</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2015-02-18 15:53:00.57">February 18, 2015</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="1977" href="/blog/2015/02/18/reactor-2-0-0-rc1-with-native-reactive-streams-support-now-available#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>The Reactor team is happy to announce the release of 2.0.0.RC1, which is now available in <a href="https://repo.spring.io/libs-milestone/io/projectreactor/">the spring.io Maven repository</a> as well as <a href="https://search.maven.org/#search%7Cga%7C1%7Cio.projectreactor">Maven central</a>. Version 2.0 is an <code>#uberupdate</code> from Reactor version 1.1 and contains several new components as well as complete rewrites of important classes like <code>Stream</code>, which now implements <a href="https://github.com/reactive-streams/reactive-streams">the Reactive Streams standard</a>.</p><p>Please note that the Maven coordinates for Reactor 2.0 have changed from those for Reactor 1.x. The new coordinates all fall under the group ID <code>io.projectreactor</code> rather than the previous <code>org.projectreactor</code>. A sample dependencies block for a Gradle project might look like this:</p>
<pre><code class="prettyprint groovy">ext {
  reactorVersion = &#39;2.0.0.RC1&#39;
}

repositories {
  maven { url &#39;http://repo.spring.io/libs-milestone&#39; }
  mavenCentral()
}

compile &quot;io.projectreactor:reactor-core:$reactorVersion&quot;,
    &quot;io.projectreactor:reactor-net:$reactorVersion&quot;,
    &quot;io.projectreactor.spring:reactor-spring-context:$reactorVersion&quot;
</code></pre><h3><a href="#what-is-reactor" class="anchor" name="what-is-reactor"></a>What is Reactor?</h3><p>If you&rsquo;re a complete newbie to Reactor, you might want to first jump over to the spiffy new website at <a href="http://projectreactor.io">http://projectreactor.io</a> and get acquainted with it before some of this will make sense.</p><h3><a href="#changelog-tl-dr" class="anchor" name="changelog-tl-dr"></a>Changelog TL;DR</h3><p>Along with <a href="https://spring.io/blog/2014/10/21/reactor-2-0-0-m1-released-with-reactive-streams-integration">the changes announced in the 2.0.0.M1 release</a>, here’s a brief list of important changes over version 1.1:</p>
<ul>
<li><code>Stream</code> has been rewritten to implement the Reactive Streams standard, is 5-10x faster, and has much less overhead than the previous version.</li>
<li>Upgrading from Reactor 1.x code is not hard, with just a few changes to existing code being required to accommodate the new signatures of <code>Stream</code> and the renaming of <code>Reactor</code> to <code>EventBus</code>. Documentation around this transition is ongoing.</li>
<li>Reactor’s <code>Stream</code> API derives from <a href="https://msdn.microsoft.com/en-gb/data/gg577609.aspx">Reactive Extensions</a> and mirrors many of its naming conventions. By leveraging a common vocabulary and behavior, it’s possible to easily translate Rx.NET and RxJava examples to Reactor.</li>
<li>Reactor’s API has been harmonized around static helper methods and factories to make embedding as easy as possible.</li>
<li>TCP support is totally jacked: Reactive Streams backpressure, HTTP server and client, <code>Stream</code> integration, DSL helper methods.</li>
<li><a href="http://projectreactor.io/">A new website</a> with the beginnings of a proper reference manual, more samples, and more javadoc.</li>
<li>Community contributions from more than just core project committers.</li>
</ul><h3><a href="#reactive-streams-is-totally-boss" class="anchor" name="reactive-streams-is-totally-boss"></a>Reactive Streams is totally Boss</h3><p>If we had to limit ourselves to talking about just one change, then the native and foundational support for Reactive Streams would be it. It’s hard to overstate just how fundamental Reactive Streams has become to Reactor. Stream processing is the <a href="https://typesafe.com/company/news">new</a> <a href="https://twitter.com/search?q=stream%20processing">black</a> and Reactor has embraced that from the beginning of the project. The addition of Reactive Streams and its propagation of backpressure support, however, makes processing large volumes of data in real or near-real time much more accessible to your cloud applications. Now patterns such as <code>stop-read</code> under load, <code>batch flush</code> or <code>adaptive batch</code> are available out of the box.</p><p>Each step in a Reactor <code>Stream</code> is a Reactive Streams component that correctly propagates demand and backpressure based on the rate of processing under the current resource constraints. Using Reactive Streams, Reactor 2.0 makes it possible to create a stream of processing that adjusts its resource usage automatically. You can influence the rate at which new items are pulled into the system because of the way Reactive Streams backpressure is communicated upstream. That means a slow downstream component can push back all the way to the source to slow down the ingest rate if current processing is using all available resources.</p>
<pre><code class="prettyprint java">Pool&lt;Connection&gt; pool;
Stream&lt;Message&gt; input;

input.capacity(1)
     .batchConsume(msg -&gt; {
       pool.getConnection().merge(msg);
     }, requestMore -&gt; Math.max(pool.getSize() - pool.getActive(), 1));
</code></pre><p>In the snippet above we’re adapting the number of items to process based on the number of available connections in the pool. The <code>Consumer</code> passed as the first parameter to the <code>batchConsume</code> method will be invoked governed by the <code>requestMore</code> value returned from the <code>Function</code> passed as the second parameter. In this case we’re going to pre-fetch a number of messages equal to the number of free connections in the pool, or just a single message if all connections are active (in that case we’ll rely on backpressure from the connection pool).</p><p>If we wanted to make sure our stream was not a resource hog, we could also change the capacity algorithm to return a number less than the number of available connections, which would leave some connections available to other components in our application.</p><h3><a href="#reactor-is-now-android-friendly" class="anchor" name="reactor-is-now-android-friendly"></a>Reactor is now Android-friendly</h3><p>Starting with Reactor 2.0.0.RC1, it’s possible to include Reactor in your Android application by simply excluding the <code>gs-collections</code> library which would otherwise force you to jump through some hoops due to it’s size. We’ve implemented a <code>SimpleCachingRegistry</code> for the <code>EventBus</code> that doesn’t use <code>gs-collections</code>. Future improvements could include a dedicated UI event loop <code>Dispatcher</code> to make sure your event handlers are run on the correct thread. </p><p>We’re very interested to see how Reactor can facilitate reactive applications on Android devices and how that ties to Reactor’s extremely high volume, low latency capabilities on the server side. Please let us know if you’re using Reactor on Android and if there are things we can do to make that experience better.</p><h3><a href="#http-and-better-tcp-and-zeromq-support" class="anchor" name="http-and-better-tcp-and-zeromq-support"></a>HTTP and Better TCP and ZeroMQ support</h3><p>RC1 introduces new support for HTTP based on Reactor’s use of Netty 4. It’s not comprehensive yet, but it provides a few helper methods and some useful abstractions for building (and accessing) non-blocking REST-based micro and nanoservices. I wouldn&rsquo;t be trying to build production services with it yet, as there&rsquo;s still some refining that needs to happen before GA. You can embed a microservice using Reactor without resorting to the Netty API directly. </p><p>The following creates a Netty-based embedded HTTP server with path parameters that dispatches tasks onto the shared <code>RingBufferDispatcher</code>.</p>
<pre><code class="prettyprint java">HttpServer&lt;String, String&gt; server = NetStreams.httpServer(
  spec -&gt; spec.listen(3000)
              .codec(StandardCodecs.STRING_CODEC)
              .dispatcher(Environment.sharedDispatcher())
);

server.get(&quot;/echo/{greeting}&quot;, ch -&gt; {
  String greeting = ch.param(&quot;greeting&quot;) + &quot; World!&quot;;

  ch.transfer(Transfer.NON_CHUNKED)
    .responseHeader(&quot;Content-Length&quot;, &quot;&quot; + greeting.length())
    .log(&quot;server&quot;);

  return Streams.just(greeting);
});

server.start();
</code></pre><p>We’ve also updated the TCP and ZeroMQ support to make better use of the important changes we made to <code>Stream</code>. Most importantly, TCP servers and clients make use of Reactive Streams backpressure support to implement patterns like &lsquo;stop-read&rsquo; to keep the server from overflowing downstream processing by reading too much data from the client, before there are resources available to process it.</p><h3><a href="#the-road-to-ga" class="anchor" name="the-road-to-ga"></a>The Road to GA</h3><p>We’ll do at least one more RC before releasing Reactor 2.0 GA. There’s still a few tweaks we need to make around complicated fork/join dispatching before we’re happy with its predictability. There are likely some additions to the HTTP support that we’ll want to make since this first cut is a fairly simple set of features. We might come across a few more bugs in edge cases as well. </p><p>We feel pretty good about this release candidate and we encourage you to try it out. If you’re doing new development, then we definitely encourage you to build on the Reactive Streams foundation of Reactor 2.0 versus the less capable, pre-Reactive Streams version in 1.1. If you’re upgrading existing Reactor code, the path is actually quite easy. In almost all cases your code will be greatly simplified. </p><h3><a href="#getting-support" class="anchor" name="getting-support"></a>Getting Support</h3><p>If you run into problems upgrading your code, or just have general questions about how to use Reactor to solve your fast data problems, don’t hesitate to ask on the <a href="https://groups.google.com/forum/#!forum/reactor-framework">Reactor Framework Google Group</a>.</p><p>We also welcome community contributions via <a href="https://github.com/reactor/reactor/pulls">pull requests on GitHub</a>.</p><p>You might also be interested to know that the Reactive Streams project is being considered for inclusion in JDK 9 in the form of a new <code>java.util.concurrent.Flow</code> class and appropraite inner classes. The discussion on this topic is being held in the <a href="http://g.oswego.edu/dl/concurrency-interest/">JSR-166 concurrency-interest</a> mailling list managed by professor <a href="http://gee.cs.oswego.edu/dl/">Doug Lea</a> of the State University of New York at Oswego.</p><h3><a href="#getting-the-code" class="anchor" name="getting-the-code"></a>Getting the Code</h3><p>Reactor is Apache 2.0 licensed and the project is managed through GitHub:</p>
<ul>
<li><strong>Reactor (core, groovy, net)</strong>: <a href="https://github.com/reactor/reactor">https://github.com/reactor/reactor</a></li>
<li><strong>Reactor Spring</strong>: <a href="https://github.com/reactor/reactor-spring">https://github.com/reactor/reactor-spring</a></li>
</ul></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 1977;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
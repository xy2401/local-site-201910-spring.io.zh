<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Testing an Angular Application: Angular JS and Spring Security Part VIII</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Testing an Angular Application: Angular JS and Spring Security Part VIII" />
<meta name="twitter:description" content="&lt;p&gt;In this article we continue &lt;a href=&quot;https://spring.io/blog/2015/05/13/modularizing-the-client-angular-js-and-spring-security-part-vii&quot; title=&quot;Seventh Article in the Series&quot;&gt;our discussion&lt;/a&gt; of how to use &lt;a href=&quot;http://projects.spring.io/spring-security&quot;&gt;Spring Security&lt;/a&gt; with &lt;a href=&quot;http://angularjs.org&quot;&gt;Angular JS&lt;/a&gt; in a “single page application”. Here we show how to write and run unit tests for the client-side code using the Javascript test framework &lt;a href=&quot;http://jasmine.github.io/2.0/introduction.html&quot;&gt;Jasmine&lt;/a&gt;. This is the eighth in a series of articles, and you can catch up on the basic building blocks of the application or build it from scratch by reading the &lt;a href=&quot;https://spring.io/blog/2015/01/12/spring-and-angular-js-a-secure-single-page-application&quot; title=&quot;First Article in the Series&quot;&gt;first article&lt;/a&gt;, or you can just go straight to the &lt;a href=&quot;https://github.com/dsyer/spring-security-angular/tree/master/basic&quot;&gt;source code in Github&lt;/a&gt; (the same source code as Part I, but with tests now added). This article actually has very little code using Spring or Spring Security, but it covers the client-side testing in a way that might not be so easy to find in the usual Javascript community resources, and one which we feel will be comfortable for the majority of Spring users.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@david_syer" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/ae671230e3a1c2a0eefa7604990084f1?s=200" />

<meta property="og:title" content="Testing an Angular Application: Angular JS and Spring Security Part VIII" />
<meta property="og:image" content="https://gravatar.com/avatar/ae671230e3a1c2a0eefa7604990084f1?s=200" />
<meta property="og:description" content="&lt;p&gt;In this article we continue &lt;a href=&quot;https://spring.io/blog/2015/05/13/modularizing-the-client-angular-js-and-spring-security-part-vii&quot; title=&quot;Seventh Article in the Series&quot;&gt;our discussion&lt;/a&gt; of how to use &lt;a href=&quot;http://projects.spring.io/spring-security&quot;&gt;Spring Security&lt;/a&gt; with &lt;a href=&quot;http://angularjs.org&quot;&gt;Angular JS&lt;/a&gt; in a “single page application”. Here we show how to write and run unit tests for the client-side code using the Javascript test framework &lt;a href=&quot;http://jasmine.github.io/2.0/introduction.html&quot;&gt;Jasmine&lt;/a&gt;. This is the eighth in a series of articles, and you can catch up on the basic building blocks of the application or build it from scratch by reading the &lt;a href=&quot;https://spring.io/blog/2015/01/12/spring-and-angular-js-a-secure-single-page-application&quot; title=&quot;First Article in the Series&quot;&gt;first article&lt;/a&gt;, or you can just go straight to the &lt;a href=&quot;https://github.com/dsyer/spring-security-angular/tree/master/basic&quot;&gt;source code in Github&lt;/a&gt; (the same source code as Part I, but with tests now added). This article actually has very little code using Spring or Spring Security, but it covers the client-side testing in a way that might not be so easy to find in the usual Javascript community resources, and one which we feel will be comfortable for the majority of Spring users.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2015-05-19 15:25:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Testing an Angular Application: Angular JS and Spring Security Part VIII</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/ae671230e3a1c2a0eefa7604990084f1?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/dsyer">Dave Syer</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2015-05-19 15:25:00.0">May 19, 2015</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="2097" href="/blog/2015/05/19/testing-an-angular-application-angular-js-and-spring-security-part-viii#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>In this article we continue <a href="https://spring.io/blog/2015/05/13/modularizing-the-client-angular-js-and-spring-security-part-vii" title="Seventh Article in the Series">our discussion</a> of how to use <a href="https://projects.spring.io/spring-security">Spring Security</a> with <a href="http://angularjs.org">Angular JS</a> in a &ldquo;single page application&rdquo;. Here we show how to write and run unit tests for the client-side code using the Javascript test framework <a href="https://jasmine.github.io/2.0/introduction.html">Jasmine</a>. This is the eighth in a series of articles, and you can catch up on the basic building blocks of the application or build it from scratch by reading the <a href="https://spring.io/blog/2015/01/12/spring-and-angular-js-a-secure-single-page-application" title="First Article in the Series">first article</a>, or you can just go straight to the <a href="https://github.com/dsyer/spring-security-angular/tree/master/basic">source code in Github</a> (the same source code as Part I, but with tests now added). This article actually has very little code using Spring or Spring Security, but it covers the client-side testing in a way that might not be so easy to find in the usual Javascript community resources, and one which we feel will be comfortable for the majority of Spring users.</p><p>As with the rest of this series, the build tools are typical for Spring users, and not so much for experienced front-end developers. Thus we look for solutions that can be used from a Java IDE, and on the command line with familiar Java build tools. If you already know about Jasmine and Javascript testing, and you are happy using a Node.js based toolchain (e.g. <code>npm</code>, <code>grunt</code> etc.), then you probably can skip this article completely. If you are more comfortable in Eclipse or IntelliJ, and would prefer to use the same tools for your front end as for the back end, then this article will be of interest. When we need a command line (e.g. for continuous integration), we use Maven in the examples here, but Gradle users will probably find the same code easy to integrate.</p>
<blockquote><p>Reminder: if you are working through this section with the sample application, be sure to clear your browser cache of cookies and HTTP Basic credentials. In Chrome the best way to do that for a single server is to open a new incognito window.</p>
</blockquote><h2><a href="#writing-a-specification-in-jasmine" class="anchor" name="writing-a-specification-in-jasmine"></a>Writing a Specification in Jasmine</h2><p>Our &ldquo;home&rdquo; controller in the &ldquo;basic&rdquo; application is very simple, so it won&rsquo;t take a lot to test it thoroughly. Here&rsquo;s a reminder of the code (<code>hello.js</code>):</p>
<pre><code class="prettyprint javascript">angular.module(&#39;hello&#39;, []).controller(&#39;home&#39;, function($scope, $http) {
  $http.get(&#39;resource/&#39;).success(function(data) {
    $scope.greeting = data;
  })
});
</code></pre><p>The main challenge we face is to provide the <code>$scope</code> and <code>$http</code> objects in the test, so we can make assertions about how they are used in the controller. Actually, even before we face that challenge we need to be able to create a controller instance, so we can test what happens when it loads. Here&rsquo;s how you can do that.</p><p>Create a new file <code>spec.js</code> and put it in &ldquo;src/test/resources/static/js&rdquo;:</p>
<pre><code class="prettyprint javascript">describe(&quot;App&quot;, function() {

	beforeEach(module(&#39;hello&#39;));

    var $controller;
	beforeEach(inject(function($injector) {
		$controller = $injector.get(&#39;$controller&#39;);
	}));

	it(&quot;loads a controller&quot;, function() {
		var controller = $controller(&#39;home&#39;)
	});

}
</code></pre><p>In this very basic test suite we have 3 important elements:</p>
<ol>
<li><p>We <code>describe()</code> the thing that is being tested (the &ldquo;App&rdquo; in this case) with a function.</p></li>
<li><p>Inside that function we provide a couple of <code>beforeEach()</code> callbacks, one of which loads the Angular module &ldquo;hello&rdquo;, and the other of which creates a factory for controllers, which we call <code>$controller</code>.</p></li>
<li><p>Behaviour is expressed through a call to <code>it()</code>, where we state in words what the expectation is, and then provide a function that makes assertions.</p></li>
</ol><p>The test function here is so trivial it actually doesn&rsquo;t even make assertions, but it does create an instance of the &ldquo;home&rdquo; controller, so if that fails then the test will fail.</p>
<blockquote><p>NOTE: &ldquo;src/test/resources/static/js&rdquo; is a logical place for test code in a Java application, although a case could be made for &ldquo;src/test/javascript&rdquo;. We will see later why it makes sense to put it in the test classpath, though (indeed if you are used to Spring Boot conventions you may already see why).</p>
</blockquote><p>Now we need a driver for this Javascript code, in the form of an HTML page that we coudl load in a browser. Create a file called &ldquo;test.html&rdquo; and put it in &ldquo;src/test/resources/static&rdquo;:</p>
<pre><code class="prettyprint html">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;

&lt;title&gt;Jasmine Spec Runner&lt;/title&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;
  href=&quot;/webjars/jasmine/2.0.0/jasmine.css&quot;&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jasmine/2.0.0/jasmine.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;
  src=&quot;/webjars/jasmine/2.0.0/jasmine-html.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jasmine/2.0.0/boot.js&quot;&gt;&lt;/script&gt;

&lt;!-- include source files here... --&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/angular-bootstrap.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/hello.js&quot;&gt;&lt;/script&gt;

&lt;!-- include spec files here... --&gt;
&lt;script type=&quot;text/javascript&quot;
  src=&quot;/webjars/angularjs/1.3.8/angular-mocks.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/js/spec.js&quot;&gt;&lt;/script&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>The HTML is content free, but it loads some Javascript, and it will have a UI once the scripts all run.</p><p>First we load the required Jasmine components from <code>/webjars/**</code>. The 4 files that we load are just boilerplate - you can do the same thing for any application. To make those available at runtime in a test we will need to add the Jasmine dependency to our &ldquo;pom.xml&rdquo;:</p>
<pre><code class="prettyprint xml">&lt;dependency&gt;
  &lt;groupId&gt;org.webjars&lt;/groupId&gt;
  &lt;artifactId&gt;jasmine&lt;/artifactId&gt;
  &lt;version&gt;2.0.0&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
 ```

Then we come to the application-specific code. The main source code for our front end is &quot;hello.js&quot; so we have to load that, and also its dependencies in the form of &quot;angular-bootstrap.js&quot; (the latter is created by the wro4j maven plugin, so you need to run `mvn package` once successfully before it is loadable).

Finally we need the &quot;spec.js&quot; that we jsut wrote, and its dependencies (any that are not already included the the other scripts), which for an Angular application will nearly always include the &quot;angular-mocks.js&quot;. We load it from webjars, so you will also need to add that dependency to &quot;pom.xml&quot;:

</code></pre><p><dependency><br /> <groupId>org.webjars</groupId><br /> <artifactId>angularjs</artifactId><br /> <version>1.3.8</version><br /> <scope>test</scope><br /></dependency><br /> ```</p>
<blockquote><p>NOTE: The angularjs webjar was already included as a dependency of the wro4j plugin, so that it could build the &ldquo;angular-bootstrap.js&rdquo;. This is going to be used in a different build step, so we need it again.</p>
</blockquote><h2><a href="#running-the-specs" class="anchor" name="running-the-specs"></a>Running the Specs</h2><p>To run our &ldquo;test.html&rdquo; code we need a tiny application (e.g. in &ldquo;src/test/java/test&rdquo;):</p>
<pre><code class="prettyprint java">@SpringBootApplication
@Controller
public class TestApplication {

	@RequestMapping(&quot;/&quot;)
	public String home() {
		return &quot;forward:/test.html&quot;;
	}

	public static void main(String[] args) {
		new SpringApplicationBuilder(TestApplication.class).properties(
				&quot;server.port=9999&quot;, &quot;security.basic.enabled=false&quot;).run(args);
	}

}
</code></pre><p>The <code>TestApplication</code> is pure boilerplate: all applications could run tests the same way. You can run it in your IDE and visit <a href="http://localhost:9999">http://localhost:9999</a> to see the Javascript running. The one <code>@RequestMapping</code> we provided just makes the home page display out test HTML. All (one) tests should be green.</p><p>Your developer workflow from here would be to make a change to Javascript code and reload the test application in your browser to run the tests. So simple!</p><h2><a href="#improving-the-unit-test-mocking-http-backend" class="anchor" name="improving-the-unit-test-mocking-http-backend"></a>Improving the Unit Test: Mocking HTTP Backend</h2><p>To improve the spec to production grade we need to actually assert something about what happens when the controller loads. Since it makes a call to <code>$http.get()</code> we need to mock that call to avoid having to run the whole application just for a unit test. To do that we use the Angular <code>$httpBackend</code> (in &ldquo;spec.js&rdquo;):</p>
<pre><code class="prettyprint javascript">describe(&quot;App&quot;, function() {

  beforeEach(module(&#39;hello&#39;));

  var $httpBackend, $controller;
  beforeEach(inject(function($injector) {
    $httpBackend = $injector.get(&#39;$httpBackend&#39;);
    $controller = $injector.get(&#39;$controller&#39;);
  }));

  afterEach(function() {
    $httpBackend.verifyNoOutstandingExpectation();
    $httpBackend.verifyNoOutstandingRequest();
  });

  it(&quot;says Hello Test when controller loads&quot;, function() {
    var $scope = {};
    $httpBackend.expectGET(&#39;resource/&#39;).respond(200, {
      id : 4321,
      content : &#39;Hello Test&#39;
    });
    var controller = $controller(&#39;home&#39;, {
      $scope : $scope
    });
    $httpBackend.flush();
    expect($scope.greeting.content).toEqual(&#39;Hello Test&#39;);
  });

})
</code></pre><p>The new pieces here are:</p>
<ul>
<li><p>The creation of the <code>$httpBackend</code> in a <code>beforeEach()</code>.</p></li>
<li><p>Adding a new <code>afterEach()</code> that verifies the state of the backend.</p></li>
<li><p>In the test function we set expectations for the backend before we create the controller, telling it to expect a call to &lsquo;resource/&rsquo;,and what the response should be.</p></li>
<li><p>We also add a call to jasmine <code>expect()</code> to assert the outcome.</p></li>
</ul><p>Without having to start and stop the test application, this test should now be green in the browser.</p><h2><a href="#running-specs-on-the-command-line" class="anchor" name="running-specs-on-the-command-line"></a>Running Specs on the Command Line</h2><p>It&rsquo;s great to be able to run specs in a browser, because there are excellent developer tools built into modern browsers (e.g. F12 in Chrome). You can set breakpoints and inspect variables, and well as being able to refresh the view to re-run your tests in a live server. But this won&rsquo;t help you with continuous integration: for that you need a way to run the tests from a command line. There is tooling available for whatever build tools you prefer to use, but since we are using Maven here, we will add a plugin to the &ldquo;pom.xml&rdquo;:</p>
<pre><code class="prettyprint xml">&lt;plugin&gt;
  &lt;groupId&gt;com.github.searls&lt;/groupId&gt;
  &lt;artifactId&gt;jasmine-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;2.0-alpha-01&lt;/version&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;goals&gt;
        &lt;goal&gt;test&lt;/goal&gt;
      &lt;/goals&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre><p>The default settings for this plugin won&rsquo;t work with the static resource layout that we already made, so we need a bit of configuration for that:</p>
<pre><code class="prettyprint">&lt;plugin&gt;
  ...
  &lt;configuration&gt;
    &lt;additionalContexts&gt;
      &lt;context&gt;
        &lt;contextRoot&gt;/lib&lt;/contextRoot&gt;
        &lt;directory&gt;${project.build.directory}/generated-resources/static/js&lt;/directory&gt;
      &lt;/context&gt;
    &lt;/additionalContexts&gt;
    &lt;preloadSources&gt;
      &lt;source&gt;/lib/angular-bootstrap.js&lt;/source&gt;
      &lt;source&gt;/webjars/angularjs/1.3.8/angular-mocks.js&lt;/source&gt;
    &lt;/preloadSources&gt;
    &lt;jsSrcDir&gt;${project.basedir}/src/main/resources/static/js&lt;/jsSrcDir&gt;
    &lt;jsTestSrcDir&gt;${project.basedir}/src/test/resources/static/js&lt;/jsTestSrcDir&gt;
    &lt;webDriverClassName&gt;org.openqa.selenium.phantomjs.PhantomJSDriver&lt;/webDriverClassName&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre><p>Notice that the <code>webDriverClassName</code> is specified as <code>PhantomJSDriver</code>, which means you need <code>phantomjs</code> to be on your <code>PATH</code> at runtime. This works out of the box in <a href="https://travis-ci.org">Travis CI</a>, and requires a simple installation in Linux, MacOS and Windows - you can <a href="http://phantomjs.org/download.html">download binaries</a> or use a package manager, like <code>apt-get</code> on Ubuntu for instance. In principle, any Selenium web driver can be used here (and the default is <code>HtmlUnitDriver</code>), but PhantomJS is probably the best one to use for an Angular application.</p><p>We also need to make the Angular library available to the plugin so it can load that &ldquo;angular-mocks.js&rdquo; dependency:</p>
<pre><code class="prettyprint">&lt;plugin&gt;
  ...
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.webjars&lt;/groupId&gt;
      &lt;artifactId&gt;angularjs&lt;/artifactId&gt;
      &lt;version&gt;1.3.8&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/plugin&gt;
</code></pre><p>That&rsquo;s it. All boilerplate again (so it can go in a parent pom if you want to share the code between multiple projects). Just run it on the command line:</p>
<pre><code class="prettyprint">$ mvn jasmine:test
</code></pre><p>The tests also run as part of the Maven &ldquo;test&rdquo; lifecycle, so you can just run <code>mvn test</code> to run all the Java tests as well as the Javascript ones, slotting very smoothly into your existing build and deployment cycle. Here&rsquo;s the log:</p>
<pre><code class="prettyprint">$ mvn test
...
[INFO] 
-------------------------------------------------------
 J A S M I N E   S P E C S
-------------------------------------------------------
[INFO] 
App
  says Hello Test when controller loads

Results: 1 specs, 0 failures

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 21.064s
[INFO] Finished at: Sun Apr 26 14:46:14 BST 2015
[INFO] Final Memory: 47M/385M
[INFO] ------------------------------------------------------------------------
</code></pre><p>The Jasmine Maven plugin also comes with a goal <code>mvn jasmine:bdd</code> that runs a server that you can load in your browser to run the tests (as an alternative to the <code>TestApplication</code> above).</p><h2><a href="#conclusion" class="anchor" name="conclusion"></a>Conclusion</h2><p>Being able to run unit tests for Javascript is important in a modern web application and it&rsquo;s a topic that we&rsquo;ve ignored (or dodged) up to now in this series. With this installment we have presented the basic ingredients of how to write the tests, how to run them at development time and also, importantly, in a continuous integration setting. The approach we have taken is not going to suit everyone, so please don&rsquo;t feel bad about doing it in a different way, but make sure you have all those ingredients. The way we did it here will probably feel comfortable to traditional Java enterprise developers, and integrates well with their existing tools and processes, so if you are in that category I hope you will find it useful as a starting point. More examples of testing with Angular and Jasmine can be found in plenty of places on the internet, but the first point of call might be the <a href="https://github.com/dsyer/spring-security-angular/tree/master/single">&ldquo;single&rdquo; sample</a> from this series, which now has some up to date test code which is a bit less trivial than the code we needed to write for the &ldquo;basic&rdquo; sample in this article.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 2097;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
 <li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
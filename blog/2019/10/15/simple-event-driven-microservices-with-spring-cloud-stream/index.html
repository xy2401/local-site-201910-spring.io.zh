<html  data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>带有Spring Cloud Stream的简单事件驱动微服务</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Simple Event Driven Microservices with Spring Cloud Stream">
<meta name="twitter:description" >
<meta name="twitter:creator" content="@benbravo73">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/15aba3f666761f09945e8efc6384006b?s=200">

<meta property="og:title" content="Simple Event Driven Microservices with Spring Cloud Stream">
<meta property="og:image" content="https://gravatar.com/avatar/15aba3f666761f09945e8efc6384006b?s=200">
<meta property="og:description" >
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2019-10-15 15:40:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">带有Spring Cloud Stream的简单事件驱动微服务</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/15aba3f666761f09945e8efc6384006b?s=20&d=mm"> <a class="author" rel="author" href="/team/benwilcock">本威尔科克</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2019-10-15 15:40:00.0">十月15，2019</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2019/10/15/simple-event-driven-microservices-with-spring-cloud-stream#disqus_thread" data-disqus-identifier="3836">
</a></div>
</div>
</header>
<div class="blog--post"><p>事件驱动的体系结构很棒。但是如果没有框架，编写与流行的事件消息传递平台一起使用所需的脚手架可能会很麻烦。在本文中，我们将介绍如何使用<a href="https://spring.io/projects/spring-cloud-stream">Spring Cloud Stream</a>简化代码。</p><h2><a href="#the-problem" class="anchor" name="the-problem"></a>问题</h2>
<p>您只想为事件驱动的应用程序编写逻辑，但是样例消息代码可能会妨碍您的工作。将您的应用程序连接到消息传递服务非常棘手，如果您是企业开发人员，则可能需要使用多种消息传递技术（本地或云中）。</p><h2><a href="#the-solution" class="anchor" name="the-solution"></a>解决方案</h2>
<p>让灵活的消息抽象处理复杂的消息平台集成，以便您可以专注于编写简单的干净业务逻辑。<a href="https://docs.spring.io/spring-cloud-stream/docs/current/reference/htmlsingle/">Spring Cloud Stream</a>是一个不错的选择。它通过一个易于使用的API统一了许多流行的消息平台，其中包括RabbitMQ，Apache Kafka，Amazon Kinesis，Google PubSub，Solace PubSub +，Azure Event Hub和Apache RocketMQ。它甚至消除了这些平台之间的方法和功能上的细微差异（例如分区或交换），使您可以自由创建创新的事件驱动解决方案。</p>
<p>在接下来的演示中，您将确切看到Spring Cloud Stream的巧妙抽象如何帮助使事件流代码更整洁，更容易使用。您还将看到使用Spring Cloud Stream的，在两个不同的消息传递平台（ <a href="https://www.rabbitmq.com/">RabbitMQ</a>或<a href="https://kafka.apache.org/">Kafka</a> ）之间切换是多么简单。 <code>binding</code>库。</p><h2><a href="#before-you-start" class="anchor" name="before-you-start"></a>在你开始前</h2>
<p>这些事件驱动的微服务需要在PC上安装以下最新的应用程序[^ 1]：</p>
<ol>
<li><a href="https://adoptopenjdk.net/">Java 8</a></li>
<li><a href="https://docs.docker.com/docker-for-mac/install/">Docker</a> （我们将在本地运行RabbitMQ和Kafka）</li>
<li><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Git</a> （可选）</li>
<li>重击（假定，尽管替代方法可能起作用）</li>
</ol><h2><a href="#running-the-demo" class="anchor" name="running-the-demo"></a>运行演示</h2>
<p>首先，从GitHub克隆代码存储库。为此（如果已安装Git），请打开一个新的终端窗口，然后发出以下命令。如果您尚未安装Git，请下载并解压缩<a href="https://github.com/benwilcock/spring-cloud-stream-demo/archive/master.zip">该zip文件</a> 。</p>
<pre><code class="prettyprint bash">git clone https://github.com/benwilcock/spring-cloud-stream-demo.git
</code></pre>
<p>检查代码后，您会注意到该存储库包含两个微服务。</p>
<ol>
<li>
<p>的<code>Loansource</code>微服务（在<code>/loansource</code>夹）。此微服务充当事件消息的源。这些事件是<code>Loan</code>类似于您在银行和金融界看到的应用程序。每笔贷款都有一个“名称”，“金额”和“状态”（设置为<code>PENDING</code>首先）。</p></li>
<li>
<p>的<code>Loancheck</code>微服务（在<code>/loancheck</code>夹）。此微服务充当<code>Loan</code>处理器。它检查哪些贷款是好的贷款，并将其分类<code>APPROVED</code>要么<code>DECLINED</code>状态。</p></li>
</ol>
<p>要运行演示，请按照以下说明进行操作。</p><h3><a href="#step-1-start-the-messaging-servers" class="anchor" name="step-1-start-the-messaging-servers"></a>步骤1：启动Messaging Server</h3>
<p>在新的终端窗口中，转到项目的根文件夹，然后发出以下命令。</p>
<blockquote>
<p>您需要在系统上安装并运行<a href="https://docs.docker.com/docker-for-mac/install/">“ Docker”</a> ，此脚本才能按要求正常运行<code>docker-compose</code> 。</p>
</blockquote>
<pre><code class="prettyprint bash">./start-servers.sh
</code></pre>
<p>该脚本将启动<a href="https://kafka.apache.org/">Kafka</a>和<a href="https://www.rabbitmq.com/">RabbitMQ</a>并将日志输出从这两者输出到终端窗口（除非您以<code>Ctrl-C</code> ）。按下时服务器不会停止<code>Ctrl-C</code> -他们将继续在后台运行。一旦启动，这些服务器将全部对计算机上运行的应用程序可用。</p><h3><a href="#step-2-choose-between-kafka-or-rabbitmq-mode" class="anchor" name="step-2-choose-between-kafka-or-rabbitmq-mode"></a>第2步：在Kafka或RabbitMQ模式之间选择</h3>
<p>在接下来的步骤3和4中，我们必须用<strong><code>-P<profile-choice></code></strong>以及我们要使用的消息传递平台的名称。</p>
<ul>
<li>对于<strong>Kafka</strong> ，使用：<strong><code>-Pkafka</code></strong></li>
<li>对于<strong>RabbitMQ</strong> ，使用：<strong><code>-Prabbit</code></strong></li>
</ul>
<p>如果您省略<code>-P<profile-choice></code>完全设置，然后使用Kafka。</p>
<blockquote>
<p>注意：此演示<strong>不是</strong>为了在Kafka和RabbitMQ之间“桥接”消息<strong>而</strong>设计的，因此在编译和运行它们时，请确保在两个应用程序的每个中选择相同的配置文件名称。如果桥接邮件系统是您的目标， <a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-stream/2.2.1.RELEASE/spring-cloud-stream.html#multiple-systems">请参阅此处的文档</a> 。</p>
</blockquote><h3><a href="#step-3-generate-some-loan-events" class="anchor" name="step-3-generate-some-loan-events"></a>步骤3：产生一些贷款事件</h3>
<p>在新的终端窗口中， <code>/loansource</code>目录使用当前目录<code>cd</code> ，然后发出以下命令替换<code><profile-choice></code>使用您要运行的模式（ <code>kafka</code>要么<code>rabbit</code>模式，如上述步骤2所述）。</p>
<pre><code class="prettyprint bash">./mvnw clean package spring-boot:run -DskipTests=true -P&lt;profile-choice&gt;
</code></pre>
<p>一旦<code>loansource</code>应用程序已启动，在终端窗口中，您应该每秒都看到一条消息，告诉您新的Loan事件已经发布到了<code>PENDING</code>州。保持该微服务运行，然后继续下一步。</p><h3><a href="#step-4-process-the-loan-events" class="anchor" name="step-4-process-the-loan-events"></a>步骤4：处理贷款事件</h3>
<p>在另一个新的终端窗口中， <code>/loancheck</code>目录当前目录，然后发出以下命令，再次替换为<code><profile-choice></code>使用您要运行的模式。</p>
<pre><code class="prettyprint bash">./mvnw clean package spring-boot:run -DskipTests=true -P&lt;profile-choice&gt;
</code></pre>
<p>一旦<code>loancheck</code>应用程序已启动，在终端窗口中，您应该每秒都看到一条消息，告诉您新<code>PENDING</code>已从消息传递平台读取了贷款申请，或者<code>APPROVED</code>要么<code>DECLINED</code> 。如果您想了解这些应用程序是如何构建的，请跳至“工作原理”。</p><h3><a href="#step-5-stop-the-demo" class="anchor" name="step-5-stop-the-demo"></a>步骤5：停止演示</h3>
<p>完成微服务后，在每个终端窗口中<code>/loansource</code>和<code>/loancheck</code>微服务出版社<code>Ctrl-C</code> 。该应用程序将停止，事件处理将停止。</p>
<p>如果要在Kafka和Rabbit之间切换模式，只需返回<strong>步骤2</strong>并重复该过程即可。</p>
<blockquote>
<p>如果您已经完全完成了演示，并且还想停止Kafka和RabbitMQ服务器，请在项目根文件夹的终端窗口中运行<code>./stop-servers.sh</code>脚本。如果您只是在模式之间进行切换，则没有必要。</p>
</blockquote><h2><a href="#how-it-works" class="anchor" name="how-it-works"></a>怎么运行的</h2>
<p>Maven配置文件（在每个项目的<code>pom.xml</code> ）控制在构建时将哪些Spring Cloud Stream绑定添加为依赖项。当你选择<code>-Pkafka</code>然后<code>[spring-cloud-stream-binder-kafka][kafka]</code>依赖项已添加到项目中。当你选择<code>-Prabbit</code>然后<code>[spring-cloud-stream-binder-rabbit][rabbit]</code>依赖已添加。</p>
<pre><code class="prettyprint xml">&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;kafka&lt;/id&gt;
        &lt;properties&gt;
            &lt;spring.profile.activated&gt;kafka&lt;/spring.profile.activated&gt;
        &lt;/properties&gt;
        &lt;activation&gt;
            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
        &lt;/activation&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
                &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;
                &lt;version&gt;${spring-cloud-stream.version}&lt;/version&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/profile&gt;
    ...
&lt;profiles&gt;
</code></pre>
<p>您对Maven个人资料的选择也会影响<code>spring.profiles.active</code>物业<code>src/main/resources/application.properties</code>该文件会切换您看到启动时间的标题。</p><h4><a href="#the-loansource-microservice" class="anchor" name="the-loansource-microservice"></a>贷款微服务</h4>
<p>对于Loansource misroservice，我们正在使用Spring Cloud Stream v2.1中的一项新功能-Spring <a href="https://cloud.spring.io/spring-cloud-stream/reference/html/spring-cloud-stream.html#spring_cloud_function">Cloud Function支持</a> 。有了这项新功能，获得<code>LoansourceApplication</code>微服务充当<code>Loan</code>消息是要声明一个<code>@Bean</code>生成并返回一个<code>Supplier<></code> 。在这种情况下<code>Supplier</code>类型的<code>Loan</code> 。函数方法代码看起来像这样……</p>
<pre><code class="prettyprint java">@Bean
public Supplier&lt;Loan&gt; supplyLoan() {
  return () -&gt; {
    Loan loan = new Loan(UUID.randomUUID().toString(), &quot;Ben&quot;, 10000L);
    LOG.info(&quot;{} {} for ${} for {}&quot;, loan.getStatus(), loan.getUuid(), loan.getAmount(), loan.getName());
    return loan;
  };
}
</code></pre>
<p><code>Supplier<></code>是Java函数数据类型。因为只有一个<code>@Bean</code>返回此类型的方法，Spring Cloud Stream确切知道下一步该做什么。默认情况下，它将每秒触发一次此功能并将结果发送到默认值<code>MessageChannel</code>命名为“输出”。这种功能方法的好处是它仅包含业务逻辑，因此您可以使用常规单元测试对其进行测试。</p>
<blockquote>
<p>我们可以使用<code>spring.cloud.function.definition</code>物业<code>application.properties</code>文件以明确声明我们要绑定到绑定目标的功能Bean-但对于只有一个的情况<code>@Bean</code>定义，这是没有必要的。</p>
<p>如果我们要使用其他轮询间隔，则可以使用<code>spring.integration.poller.fixed-delay</code>物业<code>application.properties</code>文件。</p>
</blockquote><h4><a href="#the-loancheck-microservice" class="anchor" name="the-loancheck-microservice"></a> Loancheck微服务</h4>
<p>的<code>loancheck</code>微服务需要更多的代码，但不需要太多。它的工作是对<code>Loan</code>事件进入单独的渠道。为了做到这一点，它订阅了来自来源<code>output</code>主题，然后将其发送到<code>approved</code>要么<code>declined</code>基于贷款价值的主题，类似于欺诈检查工具。</p>
<p>因为我们使用了3个消息传递通道（一个入站和两个出站），所以<code>LoanProcessor</code>接口用于阐明输入和输出。当前，它看起来像这样：</p>
<pre><code class="prettyprint java">@Component
public interface LoanProcessor {

  String APPLICATIONS_IN = &quot;output&quot;; // Topic where the new loans appear
  String APPROVED_OUT = &quot;approved&quot;; // Topic where the approved loans are sent
  String DECLINED_OUT = &quot;declined&quot;; // Topic where the declined loans are sent

  @Input(APPLICATIONS_IN)
  SubscribableChannel sourceOfLoanApplications();

  @Output(APPROVED_OUT)
  MessageChannel approved();

  @Output(DECLINED_OUT)
  MessageChannel declined();
}
</code></pre>
<p>这个<code>LoanProcessor</code>接口首先在<code>@SpringBootApplication</code>类（ <code>LoanCheckApplication.java</code> ）作为参数<code>@EnableBinding()</code>注释，如下所示。</p>
<pre><code class="prettyprint java">@SpringBootApplication
@EnableBinding(LoanProcessor.class)
public class LoanCheckApplication {

  public static void main(String[] args) {
    SpringApplication.run(LoanCheckApplication.class, args);
  }
}
</code></pre>
<p>另外， Spring <code>@Component</code>叫做<code>LoanChecker.java</code>用这个构造<code>LoanProcessor</code>在运行时。此外，该组件的<code>checkAndSortLoans(Loan)</code>每当有新的<code>Loan</code>事件到来是因为它被注释为<code>@StreamListener()</code>为了<code>LoanProcessor.APPLICATIONS_IN</code>渠道。您可以看到以下代码示例中正在使用此注释。</p>
<pre><code class="prettyprint java">  @StreamListener(LoanProcessor.APPLICATIONS_IN)
  public void checkAndSortLoans(Loan loan) {

    if (loan.getAmount() &gt; MAX_AMOUNT) {
      loan.setStatus(Statuses.DECLINED.name());
      processor.declined().send(message(loan));
    } else {
      loan.setStatus(Statuses.APPROVED.name());
      processor.approved().send(message(loan));
    }
  }
</code></pre>
<p>然后，此方法对<code>Loan</code>使用简单业务逻辑的对象。根据排序结果，它会将它们继续发送给<code>processor.approved()</code>频道或<code>processor.declined()</code>渠道（相应地设置其贷款状态后）。</p><h2><a href="#wrapping-up" class="anchor" name="wrapping-up"></a>包起来</h2>
<p>如您所见，使用<a href="https://spring.io/projects/spring-cloud-stream">Spring Cloud Streams</a>时分离的关注点确实非常健康。在两种微服务中，特定于Kafka或RabbitMQ的代码绝对为零。这使我们能够专注于业务逻辑，而与消息传递平台无关，而您只需更改项目的“绑定”依赖关系，即可轻松交换消息传递平台。 <code>pom.xml</code> 。</p><h2><a href="#there-rsquo-s-more-hellip" class="anchor" name="there-rsquo-s-more-hellip"></a>还有更多…</h2>
<p>您可以看到事件通过消息传递平台流动，如下所示：</p>
<ul>
<li>
<p>对于<strong>Kafka</strong> ，可以使用<a href="https://hub.docker.com/r/obsidiandynamics/kafdrop">KafDrop</a>工具<a href="http://localhost:9000"><code>localhost:9000</code></a>可用于观察主题和事件消息。无需登录。</p></li>
<li>
<p>对于<strong>RabbitMQ</strong> ，可以在以下位置找到Rabbit Management Console： <a href="http://localhost:15672"><code>localhost:15672</code></a>可用于观察交流和事件消息。要登录的用户名是<code>guest</code>密码也是<code>guest</code> 。要观察实际的消息内容，您可能需要手动创建一个队列，然后使用以下命令将其绑定到所需的主题<code>#</code>身为你的<code>routing key</code> 。</p></li>
</ul>
<p>要了解有关Spring Cloud Stream的最新信息，请访问Spring网站上的项目专用<a href="https://spring.io/projects/spring-cloud-stream">项目页面</a> 。</p>
<p>要从头开始创建自己的Spring项目，请使用位于<a href="https://start.spring.io">start.spring.io</a>的项目配置<a href="https://start.spring.io">器</a> 。</p>
<p>如果您想深入了解Spring和纯Kafka，请查看以下出色的博客文章：</p>
<ol>
<li>
<p><a href="https://www.confluent.io/blog/spring-for-apache-kafka-deep-dive-part-1-error-handling-message-conversion-transaction-support">加里·罗素（Gary Russell）：Apache Kafka深入研究的春季：错误处理，消息转换和事务支持</a></p></li>
<li>
<p><a href="https://www.confluent.io/blog/spring-for-apache-kafka-deep-dive-part-2-apache-kafka-spring-cloud-stream">Soby Chacko：适用于Apache Kafka的Spring深入探讨：Apache Kafka和Spring Cloud Stream</a></p></li>
</ol>
<p>-</p><h3><a href="#footnotes" class="anchor" name="footnotes"></a>脚注</h3>
<p>[^ 1]：使用<a href="https://maven.apache.org/">Maven</a> ， <a href="https://spring.io/projects/spring-boot">Spring Boot</a>和<a href="https://spring.io/projects/spring-cloud-stream">Spring Cloud Stream</a>编写和打包此存储库中的微服务代码。在运行时，代码依赖于<a href="https://kafka.apache.org/">Kafka</a> ， <a href="https://zookeeper.apache.org/">Zookeeper</a> ， <a href="https://www.rabbitmq.com/">RabbitMQ</a>和<a href="https://hub.docker.com/r/obsidiandynamics/kafdrop">KafDrop</a> （由Obsidian Dynamics提供的Docker映像）。此列表中的所有内容均已为您提供-无需安装它们。</p>
</div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 3836;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
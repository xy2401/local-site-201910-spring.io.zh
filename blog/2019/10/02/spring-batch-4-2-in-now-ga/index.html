<html  data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>即将推出GA的Spring Batch 4.2！</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Spring Batch 4.2 in now GA!">
<meta name="twitter:description" class="anchor" content="<p>On behalf of the Spring Batch team, I am pleased to announce the general availability of Spring Batch 4.2, which includes a number of new features and performance improvements!</p>
<h2><a href=" #new-feature="="></head><body >New Features
<p>Spring Batch 4.2 includes the following new features:</p>
<ul> 
 <li><a href="#batch-metrics-with-micrometer">Batch Metrics with Micrometer</a></li> 
 <li><a href="#support-for-apache-kafka">Support for Apache Kafka</a></li> 
 <li><a href="#support-for-apache-avro">Support for Apache Avro</a></li> 
</ul>
<h4><a href="#batch-metrics-with-micrometer" class="anchor" name="batch-metrics-with-micrometer"></a>Batch Metrics with Micrometer</h4>
<p>Spring Batch has always provided users with various metrics through the job repository. However, the ability to consume these metrics and react to them in real time has been muted by the use of a database as the metrics store. This release introduces a new feature that lets you monitor your batch jobs by using a true metrics store through <a href="https://micrometer.io/">Micrometer</a>. By default, Spring Batch collects metrics (such as job duration, step duration, item read and write throughput, and others) and registers them in Micrometer’s global metrics registry under the <code>spring.batch</code> prefix. These metrics can be sent to any monitoring system supported by Micrometer.</p>
">
<meta name="twitter:creator" content="@_benas_">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=200">

<meta property="og:title" content="Spring Batch 4.2 in now GA!">
<meta property="og:image" content="https://gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=200">
<meta class="anchor" name="new-features" property="og:description" content="<p>On behalf of the Spring Batch team, I am pleased to announce the general availability of Spring Batch 4.2, which includes a number of new features and performance improvements!</p>
<h2><a href=" #new-feature="=">New Features
<p>Spring Batch 4.2 includes the following new features:</p>
<ul> 
 <li><a href="#batch-metrics-with-micrometer">Batch Metrics with Micrometer</a></li> 
 <li><a href="#support-for-apache-kafka">Support for Apache Kafka</a></li> 
 <li><a href="#support-for-apache-avro">Support for Apache Avro</a></li> 
</ul>
<h4><a href="#batch-metrics-with-micrometer" class="anchor" name="batch-metrics-with-micrometer"></a>Batch Metrics with Micrometer</h4>
<p>Spring Batch has always provided users with various metrics through the job repository. However, the ability to consume these metrics and react to them in real time has been muted by the use of a database as the metrics store. This release introduces a new feature that lets you monitor your batch jobs by using a true metrics store through <a href="https://micrometer.io/">Micrometer</a>. By default, Spring Batch collects metrics (such as job duration, step duration, item read and write throughput, and others) and registers them in Micrometer’s global metrics registry under the <code>spring.batch</code> prefix. These metrics can be sent to any monitoring system supported by Micrometer.</p>
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2019-10-02 10:03:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
 </li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>工程</div>
</div>
<div class="blog-category active content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">即将推出GA的Spring Batch 4.2！</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">发布</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=20&d=mm"> <a class="author" rel="author" href="/team/benas">Mahmoud Ben Hassine</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2019-10-02 10:03:00.0">十月02，2019</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2019/10/02/spring-batch-4-2-in-now-ga#disqus_thread" data-disqus-identifier="3823">
</a></div>
</div>
</header>
<div class="blog--post"><p>我代表Spring Batch团队高兴地宣布Spring Batch 4.2全面上市，其中包括许多新功能和性能改进！</p><h2><a href="#new-features" class="anchor" name="new-features"></a>新的功能</h2>
<p>Spring Batch 4.2包含以下新功能：</p>
<ul>
<li><a href="#batch-metrics-with-micrometer">千分尺批处理指标</a></li>
<li><a href="#support-for-apache-kafka">支持Apache Kafka</a></li>
<li><a href="#support-for-apache-avro">支持Apache Avro</a></li>
</ul><h4><a href="#batch-metrics-with-micrometer" class="anchor" name="batch-metrics-with-micrometer"></a>千分尺批处理指标</h4>
<p>Spring Batch始终通过作业存储库为用户提供各种指标。但是，使用数据库作为度量标准存储已使使用这些度量标准并对实时做出反应的能力静音。此版本引入了一项新功能，使您可以通过<a href="https://micrometer.io/">Micrometer</a>使用真实的指标存储来监视批处理作业。默认情况下，Spring Batch收集指标（例如作业持续时间，步骤持续时间，项目读写吞吐量等），并将其注册到Micrometer的全局指标注册表中。 <code>spring.batch</code>字首。这些度量可以发送到Micrometer支持的任何监视系统。</p><h4><a href="#support-for-apache-kafka" class="anchor" name="support-for-apache-kafka"></a>支持Apache Kafka</h4>
<p>Apache Kafka已迅速成为现代企业中的关键数据存储。此版本增加了新的<code>ItemReader</code>和<code>ItemWriter</code> Apache Kafka的实现：</p>
<ul>
<li><code>KafkaItemReader</code>可以从同一主题的单个分区或多个分区中读取消息。这个<code>ItemReader</code>是有状态的，并支持从最后一个已知的良好偏移量开始重新启动。</li>
<li><code>KafkaItemWriter</code>使用一个<code>KafkaTemplate</code>从Spring for Apache Kafka项目发送消息到给定主题。</li>
</ul>
<p>您可以找到有关此内容的全面的<a href="https://www.youtube.com/watch?v=UJesCn731G4">Spring Tips</a>文章（作者：Josh Long）。</p><h4><a href="#support-for-apache-avro" class="anchor" name="support-for-apache-avro"></a>支持Apache Avro</h4>
<p>Apache Avro是一种流行的数据序列化系统，已广泛用于当今的流和批处理应用程序中。此版本增加了对读写Avro数据文件的支持。</p><h2><a href="#performance-improvements" class="anchor" name="performance-improvements"></a>性能改进</h2>
<p>该版本具有一些主要的性能改进，我们在上一篇<a href="https://spring.io/blog/2019/09/17/spring-batch-4-2-0-rc1-is-released">文章中</a>已对此进行了详细介绍。以下是主要更改的摘录：</p>
<ul>
<li>增强的步骤分区</li>
<li>改善工作停止</li>
<li>用更快的速度写<code>JpaItemWriter</code></li>
<li>使用优化的Bean映射<code>BeanWrapperFieldSetMapper</code></li>
</ul><h2><a href="#other-important-changes" class="anchor" name="other-important-changes"></a>其他重要变化</h2>
<p>我们还进行了以下重大更改：</p>
<ul>
<li><a href="#dependencies-update">依赖关系更新</a></li>
<li><a href="#updated-documentation">更新的文档</a></li>
<li><a href="#master-slave-terminology-replacement">主/从术语替换</a></li>
</ul><h4><a href="#dependencies-update" class="anchor" name="dependencies-update"></a>依赖关系更新</h4>
<p>Spring Batch 4.2基于Spring Framework 5.2，并且已更新为使用Spring Integration 5.2和Spring Data 2.2。</p><h4><a href="#updated-documentation" class="anchor" name="updated-documentation"></a>更新的文档</h4>
<p><a href="https://docs.spring.io/spring-batch/4.2.x/reference/html/index.html">参考文档</a>已更新为与其他Spring项目相同的样式。</p><h4><a href="#master-slave-terminology-replacement" class="anchor" name="master-slave-terminology-replacement"></a>主/从术语替换</h4>
<p>话语很重要。在我们的软件中使用“主”和“从”这两个词可能会对我们社区的成员造成伤害。鉴于我们的目标是尽可能做到包容，我们希望尽最大努力做到这一点。在此版本中，我们的API中使用的“主” /“从”术语（即<code>RemoteChunkingMasterStepBuilder</code> ）和批处理XML名称空间（即<code>remote-chunking-slave</code>元素）已被弃用，并替换为使用“ manager”和“ worker”的等效项。在下一个主要版本中，我们将删除永久使用“主”和“从”命名法的派生词。</p><h2><a href="#what-rsquo-s-next" class="anchor" name="what-rsquo-s-next"></a>下一步是什么？</h2>
<p>我们将致力于v4系列所有分支（v4.0，v4.1和v4.2）的错误修复版本。请注意，v4.0.4将是4.0版本的最后一个错误修复版本，因此我们强烈建议用户迁移到最新，最出色的版本：v4.2！</p>
<p>使用Spring Boot 2.2.0可以使用Spring Batch 4.2。RC1。请尝试一下并分享您的反馈！<a href="https://www.twitter.com/b_e_n_a_s">随时</a>在Twitter上ping <a href="https://www.twitter.com/michaelminella">@michaelminella</a>或<a href="https://www.twitter.com/b_e_n_a_s">@b_e_n_a_s</a>或在<a href="https://stackoverflow.com/questions/tagged/spring-batch">StackOverflow</a>或<a href="https://gitter.im/spring-batch/Lobby">Gitter</a>上提问。如果发现任何问题，请在<a href="https://jira.spring.io/projects/BATCH/">Jira</a>上打开一张票。</p><h2><a href="#spring-batch-at-springone-platform" class="anchor" name="spring-batch-at-springone-platform"></a> SpringOne平台上的Spring Batch</h2>
<p><a href="https://springoneplatform.io">SpringOne平台即将来临，</a>下周将在奥斯汀举行！我和Michael Minella和我将很高兴<a href="https://springoneplatform.io/2019/sessions/batch-processing-in-2019">在2019年</a>联合演讲<a href="https://springoneplatform.io/2019/sessions/batch-processing-in-2019">Batch Processing中</a>与您分享Spring Batch v4.2的一些不错的新功能。我们希望看到你在那里！</p>
<p><a href="https://spring.io/projects/spring-batch">春季批处理</a> <a href="https://github.com/spring-projects/spring-batch">源于GitHub</a> | <a href="https://docs.spring.io/spring-batch/4.2.x/reference/html/index.html">参考文件</a></p>
</div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 3823;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
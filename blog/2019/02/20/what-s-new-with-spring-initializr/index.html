<html  data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>Spring Initializr的新功能</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="What's new with Spring Initializr ">
<meta name="twitter:description" content="<p>The quickest way to generate Spring Boot projects is through <a href=" https:="" ="" start.spring.i="="></head><body >start.spring.io. The site provides a curated list of dependencies that you can add to your application based on the selected Spring Boot version. You can also choose the language, build system and JVM version for the project. Over the years, the popularity of start.spring.io as the tool for generating Spring projects has grown exponentially and millions of projects are generated every year using the site.
<p>For the past few months, we’ve been working on a complete overhaul of the project generation API. To better understand the motivation behind this, take a look at the project structure below:<br><img src="https://raw.githubusercontent.com/mbhave/initializr/cd9582d6a0b092e311d0b255d6f767723d47fa44/initializr-structure-old.png" alt="旧结构"></p>
">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/92d04eb42059022f81e7dc7e667487c8?s=200">

<meta property="og:title" content="What's new with Spring Initializr ">
<meta property="og:image" content="https://gravatar.com/avatar/92d04eb42059022f81e7dc7e667487c8?s=200">
<meta property="og:description" content="<p>The quickest way to generate Spring Boot projects is through <a href=" https:="" ="" start.spring.i="=">start.spring.io. The site provides a curated list of dependencies that you can add to your application based on the selected Spring Boot version. You can also choose the language, build system and JVM version for the project. Over the years, the popularity of start.spring.io as the tool for generating Spring projects has grown exponentially and millions of projects are generated every year using the site.
<p>For the past few months, we’ve been working on a complete overhaul of the project generation API. To better understand the motivation behind this, take a look at the project structure below:<br><img src="https://raw.githubusercontent.com/mbhave/initializr/cd9582d6a0b092e311d0b255d6f767723d47fa44/initializr-structure-old.png" alt="旧结构"></p>
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2019-02-20 10:57:26.976">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Initializr的新功能</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/92d04eb42059022f81e7dc7e667487c8?s=20&d=mm"> <a class="author" rel="author" href="/team/mbhave">Madhura Bhave</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2019-02-20 10:57:26.976">2019年2月20日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2019/02/20/what-s-new-with-spring-initializr#disqus_thread" data-disqus-identifier="3567">
</a></div>
</div>
</header>
<div class="blog--post"><p>生成Spring Boot项目的最快方法是通过<a href="https://start.spring.io">start.spring.io</a> 。该站点提供了精选的依赖项列表，您可以根据所选的Spring Boot版本将依赖项添加到应用程序中。您还可以为项目选择语言，构建系统和JVM版本。多年来，start.spring.io作为用于生成Spring项目的工具而迅速普及，并且使用该网站每年生成数百万个项目。</p>
<p>在过去的几个月中，我们一直在对项目生成API进行全面检查。为了更好地了解其背后的动机，请看下面的项目结构：<br><img src="https://raw.githubusercontent.com/mbhave/initializr/cd9582d6a0b092e311d0b255d6f767723d47fa44/initializr-structure-old.png" alt="旧结构"></p>
<ul>
<li><code>initializr-generator</code>是包含项目生成API核心的库。</li>
<li><code>initializr-web</code>包含REST端点和与Web UI相关的所有内容。</li>
<li><code>initializr-site</code>包含start.spring.io上可用的所有自定义项。</li>
</ul>
<p>现有API的问题在于，对于任何想要自定义项目生成的人，唯一明智的方法是派生库并扩展或修改<code>ProjectGenerator</code>类。这带来了相当笨拙的开发人员体验。</p><h2><a href="#new-project-generation-api" class="anchor" name="new-project-generation-api"></a>新的项目生成API</h2>
<p>新API的主要目标是允许在不派生库的情况下自定义生成的项目。为了为项目的各个方面提供贡献模型，每个方面都有一个抽象。这些包括：</p>
<ul>
<li>使用Maven和Gradle实现的构建抽象，可自定义构建文件</li>
<li>Java，Groovy和Kotlin实现的语言抽象</li>
<li>文本资源的更高级模型， <code>.gitignore</code>和基本配置文件</li>
</ul>
<p>这些抽象可通过几个挂钩点提供，您可以使用这些挂钩点来自定义项目资产：</p>
<ul>
<li><code>BuildCustomizer</code>添加依赖项，插件或其他配置项</li>
<li>源文件定制器，用于向项目添加注释，方法或其他类</li>
<li><code>ProjectContributor</code> ，是将资产添加到目录结构的高级挂钩点</li>
</ul>
<p>该库提供了几种条件，以便可以根据请求的项目来应用定制程序。以下示例说明了如何调整Gradle构建以应用<code>war</code>当一个插件<code>war</code>包装要求：</p>
<pre><code class="prettyprint java">@Bean
@ConditionalOnPackaging(WarPackaging.ID)
public BuildCustomizer&lt;GradleBuild&gt; warPluginContributor() {
    return (build) -&gt; build.addPlugin(&quot;war&quot;);
}
</code></pre>
<p>这个想法是，可以在外部模块中定义定制程序（有点类似于Spring Boot中的自动配置），而无需更改库。</p>
<p>作为重构的一部分，我们还完善了项目结构。<br></ s> </ s> </ s> <img src="https://raw.githubusercontent.com/mbhave/initializr/10f4f0470135197c18300db6b5e93bce680b9249/initializr-image-new.png" alt="新结构"></p>
<p>顶级概念，例如<code>ProjectContributor</code> ， <code>BuildCustomizer</code>在<code>initializr-generator</code> 。该模块还包含实际生成项目所需的最少基础结构。 <code>initializr-generator-spring</code>提供我们要为Spring项目生成的项目结构的贡献者。此外，该代码现在在GitHub上分为两个存储库，一个存储库，另一个存储<a href="https://github.com/spring-io/initializr">库</a> 。 <a href="https://github.com/spring-io/start.spring.io"><code>start-site</code></a>代表我们在<a href="https://start.spring.io">start.spring.io</a>上的生产实例。</p><h2><a href="#new-features-on-start-spring-io" class="anchor" name="new-features-on-start-spring-io"></a> start.spring.io的新功能</h2>
<p>新的项目生成API使我们能够轻松地向start.spring.io添加很多功能。我们今天将它们合并，因此您可以立即使用它们。</p><h3><a href="#help-document" class="anchor" name="help-document"></a>帮助文件</h3>
<p>现在，生成的项目包含一个<code>HELP.md</code>文件位于项目的根目录。该文件是根据应用程序中存在的依赖关系定制的。当前，它包含指向与所选依赖项有关的指南和参考文档的链接。将来，我们计划进一步自定义HELP.md文件，以提供有助于您扩展应用程序的后续步骤。</p><h3><a href="#spring-rest-docs-build-configuration" class="anchor" name="spring-rest-docs-build-configuration"></a> Spring Rest Docs构建配置</h3>
<p>如果使用<code>restdocs</code>依赖关系，使用Asciidoctor插件使用<code>BuildCustomizer</code> 。</p><h3><a href="#auto-generation-of-directory-structure-for-flyway" class="anchor" name="auto-generation-of-directory-structure-for-flyway"></a>自动生成Flyway的目录结构</h3>
<p>对于使用<code>Flyway</code> ， 一种<code>src/main/resources/db/migration</code>现在自动创建。为了说明使用API做到这一点有多么容易，这是该功能的贡献者：</p>
<pre><code class="prettyprint java">@Bean
@ConditionalOnRequestedDependency(&quot;flyway&quot;)
public ProjectContributor flywayProjectContributor() {
  return (directory) -&gt; {
     Path migrationDirectory = directory
           .resolve(&quot;src/main/resources/db/migration&quot;);
     Files.createDirectories(migrationDirectory);
  };
}
</code></pre><h2><a href="#what-s-coming" class="anchor" name="what-s-coming"></a>即将发生什么</h2>
<p>我们几乎没有摸索出新API可以实现的功能，我们希望带来新功能，同时仍在改善的开发人员体验和非侵入性更改之间保持平衡。</p>
<p>通常，我们希望为HELP.md带来更多内容，在HELP.md中，可以基于所选的依赖项提供专用的提示，更重要的是，您可以选择依赖项来提高对尚不了解的知识的认识。</p>
<p>我们还在为start.spring.io开发新的Web UI，以及帮助您扩展应用程序的方法，敬请期待！</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 3567;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring Session for Apache Geode/Pivotal GemFire 2.0.6.RELEASE and 2.1.0.RELEASE Available!</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring Session for Apache Geode/Pivotal GemFire 2.0.6.RELEASE and 2.1.0.RELEASE Available!" />
<meta name="twitter:description" content="&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;Good things come in pairs, so I am happy to announce the availability of &lt;strong&gt;&lt;em&gt;Spring Session for Apache Geode &amp;amp; Pivotal GemFire&lt;/em&gt;&lt;/strong&gt; (SSDG) &lt;code&gt;2.0.6.RELEASE&lt;/code&gt; and &lt;code&gt;2.1.0.RELEASE&lt;/code&gt;.&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;SSDG &lt;code&gt;2.0.6.RELEASE&lt;/code&gt;, based on Spring Framework &lt;code&gt;5.0.10.RELEASE&lt;/code&gt;, Spring Data &lt;code&gt;Kay-SR11&lt;/code&gt; and Spring Session core &lt;code&gt;2.0.7.RELEASE&lt;/code&gt; mainly contains dependency updates.&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;SSDG &lt;code&gt;2.1.0.RELEASE&lt;/code&gt;, on the other hand, has been upgraded to Spring Framework &lt;code&gt;5.1.1.RELEASE&lt;/code&gt;, Spring Data &lt;code&gt;Lovelace-SR1&lt;/code&gt; and Spring Session core &lt;code&gt;2.1.0.RELEASE&lt;/code&gt;, and additionally includes support for custom Session expiration policies and rules.&lt;/p&gt; 
&lt;/div&gt;
" />
<meta name="twitter:creator" content="@john_blum" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/8b744eb1317603fabdc12e64d10d5f12?s=200" />

<meta property="og:title" content="Spring Session for Apache Geode/Pivotal GemFire 2.0.6.RELEASE and 2.1.0.RELEASE Available!" />
<meta property="og:image" content="https://gravatar.com/avatar/8b744eb1317603fabdc12e64d10d5f12?s=200" />
<meta property="og:description" content="&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;Good things come in pairs, so I am happy to announce the availability of &lt;strong&gt;&lt;em&gt;Spring Session for Apache Geode &amp;amp; Pivotal GemFire&lt;/em&gt;&lt;/strong&gt; (SSDG) &lt;code&gt;2.0.6.RELEASE&lt;/code&gt; and &lt;code&gt;2.1.0.RELEASE&lt;/code&gt;.&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;SSDG &lt;code&gt;2.0.6.RELEASE&lt;/code&gt;, based on Spring Framework &lt;code&gt;5.0.10.RELEASE&lt;/code&gt;, Spring Data &lt;code&gt;Kay-SR11&lt;/code&gt; and Spring Session core &lt;code&gt;2.0.7.RELEASE&lt;/code&gt; mainly contains dependency updates.&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;SSDG &lt;code&gt;2.1.0.RELEASE&lt;/code&gt;, on the other hand, has been upgraded to Spring Framework &lt;code&gt;5.1.1.RELEASE&lt;/code&gt;, Spring Data &lt;code&gt;Lovelace-SR1&lt;/code&gt; and Spring Session core &lt;code&gt;2.1.0.RELEASE&lt;/code&gt;, and additionally includes support for custom Session expiration policies and rules.&lt;/p&gt; 
&lt;/div&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2018-10-26 02:52:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Session for Apache Geode/Pivotal GemFire 2.0.6.RELEASE and 2.1.0.RELEASE Available!</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/8b744eb1317603fabdc12e64d10d5f12?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/jxblum">John Blum</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2018-10-26 02:52:00.0">October 26, 2018</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="3449" href="/blog/2018/10/26/spring-session-for-apache-geode-pivotal-gemfire-2-0-6-release-and-2-1-0-release-available#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><div class="paragraph">
<p>Good things come in pairs, so I am happy to announce the availability of <strong><em>Spring Session for Apache Geode &amp; Pivotal GemFire</em></strong> (SSDG) <code>2.0.6.RELEASE</code> and <code>2.1.0.RELEASE</code>.</p>
</div>
<div class="paragraph">
<p>SSDG <code>2.0.6.RELEASE</code>, based on Spring Framework <code>5.0.10.RELEASE</code>, Spring Data <code>Kay-SR11</code> and Spring Session core <code>2.0.7.RELEASE</code> mainly contains dependency updates.</p>
</div>
<div class="paragraph">
<p>SSDG <code>2.1.0.RELEASE</code>, on the other hand, has been upgraded to Spring Framework <code>5.1.1.RELEASE</code>, Spring Data <code>Lovelace-SR1</code> and Spring Session core <code>2.1.0.RELEASE</code>, and additionally includes support for custom Session expiration policies and rules.</p>
</div>
<div class="sect1">
<h2 id="custom-session-expiration-configuration"><a class="anchor" href="#custom-session-expiration-configuration"></a>Custom Session Expiration Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Session for Apache Geode &amp; Pivotal GemFire now provides a new <em>Strategy</em> interface, <a href="https://docs.spring.io/autorepo/docs/spring-session-data-geode-build/2.1.0.RELEASE/api/org/springframework/session/data/gemfire/expiration/SessionExpirationPolicy.html"><code>SessionExpirationPolicy</code></a> that allows users to customize the rules around exactly how and when the Session should expire.</p>
</div>
<div class="paragraph">
<p>The interface is roughly defined as:</p>
</div>
<div class="listingblock">
<div class="title">SessionExpirationPolicy interface</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">import java.time.Duration;

@FunctionalInterface
interface SessionExpirationPolicy {

  Optional&lt;Duration&gt; determineExpirationTimeout(Session session);

  default ExpirationAction getExpirationAction() {
    return ExpirationAction.INVALIDATE;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A user only need implement the <code>determineExpirationTimeout</code> method, which returns an <code>Optional</code> <code>java.time.Duration</code> indicating the length of time until the Session will expire.</p>
</div>
<div class="paragraph">
<p><code>Duration</code> is optional so that, in certain cases, if the expiration timeout cannot be determined for a particular Session by your custom policy, then returning <code>Optional.empty()</code> will indicate to either Apache Geode or Pivotal GemFire that the default, entry idle timeout expiration policy configured for the Region managing your application Session state should apply. The default idle timeout is 30 minutes, which you can change by setting the <a href="https://docs.spring.io/autorepo/docs/spring-session-data-geode-build/2.1.0.RELEASE/api/org/springframework/session/data/gemfire/config/annotation/web/http/EnableGemFireHttpSession.html#maxInactiveIntervalInSeconds--">maxInactiveIntervalInSeconds</a> attribute of the <a href="https://docs.spring.io/autorepo/docs/spring-session-data-geode-build/2.1.0.RELEASE/api/org/springframework/session/data/gemfire/config/annotation/web/http/EnableGemFireHttpSession.html">@EnableGemFireHttpSession</a> annotation.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Alternatively, you can set the <code>spring.session.data.gemfire.session.expiration.max-inactive-interval-seconds</code> property in Spring Boot&#8217;s <code>application.properties</code>, or declare bean of type <a href="https://docs.spring.io/autorepo/docs/spring-session-data-geode-build/2.1.0.RELEASE/api/org/springframework/session/data/gemfire/config/annotation/web/http/support/SpringSessionGemFireConfigurer.html">SpringSessionGemFireConfigurer</a> in the Spring container and override the <a href="https://docs.spring.io/autorepo/docs/spring-session-data-geode-build/2.1.0.RELEASE/api/org/springframework/session/data/gemfire/config/annotation/web/http/support/SpringSessionGemFireConfigurer.html#getMaxInactiveIntervalInSeconds--">getMaxInactiveIntervalInSeconds()</a> method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then, you simply declare your custom <code>SessionExpirationPolicy</code> instance as a bean in the Spring container and then make sure Spring Session for Apache Geode or Pivotal GemFire knows about it by setting the <code>sessionExpirationPolicyBeanName</code> attribute of the <code>@EnableGemFireHttpSession</code> annotation, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">@SpringBootApplication
@EnableGemFireHttpSession(
  sessionExpirationPolicyBeanName = "customExpirationPolicy"
)
class MySpringSessionApplication {

  @Bean
  SessionExpirationPolicy customExpirationPolicy(..) {
    return new CustomExpirationPolicy(..);
  }

  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because the <code>SessionExpirationPolicy</code> instance is a bean just like any other managed bean in the Spring container, you can configure it, however you like, injecting references to other beans and so on.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Again, the bean name of the custom <code>SessionExpirationPolicy</code> can be set in Spring Boot <code>application.properties</code> using <code>spring.session.data.gemfire.session.expiration.bean-name</code> or by declaring an instance of <code>SprinSessionGemFireConfigurer</code> in the Spring container and overriding the <code>getSessionExpirationPolicyBeanName()</code> method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More details can be found in the <a href="https://docs.spring.io/autorepo/docs/spring-session-data-geode-build/2.1.0.RELEASE/reference/html5/#httpsession-gemfire-expiration">docs</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fixed-duration-expiration"><a class="anchor" href="#fixed-duration-expiration"></a>Fixed Duration Expiration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to allowing custom Session expiration policies and rules, out-of-the-box, Spring Session for Apache Geode &amp; Pivotal GemFire provides an implementation of this interface to support fixed duration expiration timeouts.</p>
</div>
<div class="paragraph">
<p>This is useful in situations where the Session should timeout, no matter what, after a fixed duration of time, perhaps 1 hour, only if the Session has not already idled out.</p>
</div>
<div class="paragraph">
<p>This request actually came up in core Spring Session <a href="https://github.com/spring-projects/spring-session/issues/922">Issue #922</a> - "<em>Absolute session timeouts</em>" awhile back.</p>
</div>
<div class="paragraph">
<p>While this capability is not possible in all store providers for Spring Session, it is possible with Apache Geode or Pivotal GemFire.</p>
</div>
<div class="paragraph">
<p>Simple enable the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">import org.springframework.session.data.gemfire.expiration.support.FixedTimeoutSessionExpirationPolicy;

@SpringBootApplication
@EnableGemFireHttpSession(
  sessionExpirationPolicyBeanName = "fixedTimeoutExpirationPolicy"
)
class MySpringSessionApplication {

  @Bean
  SessionExpirationPolicy fixedDurationExpirationPolicy() {
    return new FixedTimeoutSessionExpirationPolicyt(Duration.ofMinutes(60L));
  }

  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, Spring Session for Apache Geode &amp; Pivotal GemFire is careful to respect the idle timeout of the Session was well. As such, the Session will expire whenever the idle timeout or the fixed timeout has elapsed, which ever happens first.</p>
</div>
<div class="paragraph">
<p>Again, more details can be found in the <a href="https://docs.spring.io/autorepo/docs/spring-session-data-geode-build/2.1.0.RELEASE/reference/html5/#httpsession-gemfire-expiration-fixed-timeout-configuration">docs</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion"><a class="anchor" href="#conclusion"></a>Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As always, feedback is very much appreciated. Until next time, happy coding!</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/spring-projects/spring-session-data-geode">Project Page</a> | <a href="https://github.com/spring-projects/spring-session-data-geode/issues">Issues</a> | <a href="https://github.com/spring-projects/spring-session-data-geode/pulls">PR</a> | <a href="https://stackoverflow.com/questions/tagged/spring-session">StackOverflow</a></p>
</div>
</div>
</div></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 3449;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
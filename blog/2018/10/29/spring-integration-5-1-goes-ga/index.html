<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring Integration 5.1 goes GA!</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring Integration 5.1 goes GA!" />
<meta name="twitter:description" content="&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;On behalf of Spring Integration team I am pleased to announce that the &lt;code&gt;5.1.0.RELEASE&lt;/code&gt; for the Spring Integration is available.&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;It can be downloaded from Maven Central, JCenter, and our &lt;a href=&quot;https://repo.spring.io/release&quot;&gt;release repository&lt;/a&gt;:&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt; 
 &lt;div class=&quot;content&quot;&gt; 
  &lt;pre class=&quot;prettyprint highlight&quot;&gt;&lt;code class=&quot;language-groovy&quot; data-lang=&quot;groovy&quot;&gt;compile &quot;org.springframework.integration:spring-integration-core:5.1.0.RELEASE&quot;&lt;/code&gt;&lt;/pre&gt; 
 &lt;/div&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;First of all I would like to thank all community members for their ongoing active contributions to the framework!&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;Besides the regular dependencies upgrades, bug fixes and internal performance improvements here are some notable new features introduced in this version:&lt;/p&gt; 
&lt;/div&gt;
" />
<meta name="twitter:creator" content="@artem_bilan" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=200" />

<meta property="og:title" content="Spring Integration 5.1 goes GA!" />
<meta property="og:image" content="https://gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=200" />
<meta property="og:description" content="&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;On behalf of Spring Integration team I am pleased to announce that the &lt;code&gt;5.1.0.RELEASE&lt;/code&gt; for the Spring Integration is available.&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;It can be downloaded from Maven Central, JCenter, and our &lt;a href=&quot;https://repo.spring.io/release&quot;&gt;release repository&lt;/a&gt;:&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;listingblock&quot;&gt; 
 &lt;div class=&quot;content&quot;&gt; 
  &lt;pre class=&quot;prettyprint highlight&quot;&gt;&lt;code class=&quot;language-groovy&quot; data-lang=&quot;groovy&quot;&gt;compile &quot;org.springframework.integration:spring-integration-core:5.1.0.RELEASE&quot;&lt;/code&gt;&lt;/pre&gt; 
 &lt;/div&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;First of all I would like to thank all community members for their ongoing active contributions to the framework!&lt;/p&gt; 
&lt;/div&gt;
&lt;div class=&quot;paragraph&quot;&gt; 
 &lt;p&gt;Besides the regular dependencies upgrades, bug fixes and internal performance improvements here are some notable new features introduced in this version:&lt;/p&gt; 
&lt;/div&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2018-10-29 19:56:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category content--title">
<div>Engineering</div>
</div>
<div class="blog-category active content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Integration 5.1 goes GA!</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon releases"></div>
<a class="category">Releases</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/artembilan">Artem Bilan</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2018-10-29 19:56:00.0">October 29, 2018</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="3454" href="/blog/2018/10/29/spring-integration-5-1-goes-ga#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><div class="paragraph">
<p>On behalf of Spring Integration team I am pleased to announce that the <code>5.1.0.RELEASE</code> for the Spring Integration is available.</p>
</div>
<div class="paragraph">
<p>It can be downloaded from Maven Central, JCenter, and our <a href="https://repo.spring.io/release">release repository</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">compile "org.springframework.integration:spring-integration-core:5.1.0.RELEASE"</code></pre>
</div>
</div>
<div class="paragraph">
<p>First of all I would like to thank all community members for their ongoing active contributions to the framework!</p>
</div>
<div class="paragraph">
<p>Besides the regular dependencies upgrades, bug fixes and internal performance improvements here are some notable new features introduced in this version:</p>
</div>
<div class="sect2">
<h3 id="boundrabbitchanneladvice"><a class="anchor" href="#boundrabbitchanneladvice"></a>BoundRabbitChannelAdvice</h3>
<div class="paragraph">
<p>For strict ordering of messages publishing a <code>BoundRabbitChannelAdvice</code> can be used as a <code>MessageHandler</code> advice to allow to perform all the downstream AMQP operations in the same thread-bound <code>Channel</code>.
Typically used with a splitter or some other mechanism that would cause multiple messages to be sent:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">@Bean
public IntegrationFlow flow(RabbitTemplate template) {
    return IntegrationFlows.from(Gateway.class)
            .split(s -&gt; s.delimiters(",")
                    .advice(new BoundRabbitChannelAdvice(template))
            .&lt;String, String&gt;transform(String::toUpperCase)
            .handle(Amqp.outboundAdapter(template).routingKey("rk"))
            .get();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reactive-polling"><a class="anchor" href="#reactive-polling"></a>Reactive Polling</h3>
<div class="paragraph">
<p>If <code>SourcePollingChannelAdapter</code> or <code>PollingConsumer</code> is configured with the <code>outputChannel</code> as a <code>FluxMessageChannel</code>, the polling task is not performed by the scheduler, but as a <code>Flux.generate()</code> with a subsequent <code>Mono.delay()</code> based on the <code>trigger.nextExecutionTime()</code>.
This way the real source polling is performed on demand honoring a downstream back-pressure propagated by the <code>FluxMessageChannel</code>.
The <code>PollerMetadata</code> options remain the same and transparent for end configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="java-dsl-code-fluxtransform-code"><a class="anchor" href="#java-dsl-code-fluxtransform-code"></a>Java DSL <code>fluxTransform()</code></h3>
<div class="paragraph">
<p>The <code>IntegrationFlowDefinition</code> is now supplied with new <code>fluxTransform()</code> operator which accepts a <code>Function</code> for transforming a <code>Flux</code> of incoming message via reactive manner.
Underneath the <code>fluxTransform()</code> is fully based on the Reactor&#8217;s <code>Flux.transform()</code> operator and copies request headers to the reply message if function doesn&#8217;t produce one already.
The call is wrapped with input and output <code>FluxMessageChannel</code> instances internally:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">IntegrationFlow integrationFlow = f -&gt; f
        .split()
        .&lt;String, String&gt;fluxTransform(flux -&gt; flux
                .map(Message::getPayload)
                .map(String::toUpperCase))
        .aggregate(a -&gt; a
                .outputProcessor(group -&gt; group
                        .getMessages()
                        .stream()
                        .map(Message::getPayload)
                        .map(String.class::cast)
                        .collect(Collectors.joining(","))))
        .channel(resultChannel);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also Java DSL provides more operators for convenience: <code>nullChannel()</code>, <code>convert(Class&lt;?&gt;)</code> and <code>logAndReply()</code>.
See their Javadocs for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="java-functions-improvements"><a class="anchor" href="#java-functions-improvements"></a>Java Functions Improvements</h3>
<div class="paragraph">
<p>The <code>java.util.function</code> interfaces now serve as a first class citizens for messaging endpoints.
The <code>Function&lt;?, ?&gt;</code> and <code>Consumer&lt;?&gt;</code> can directly be used from the <code>@ServiceActivator</code> or <code>@Transformer</code> definition, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">@Bean
@Transformer(inputChannel = "functionServiceChannel")
public Function&lt;String, String&gt; functionAsService() {
    return String::toUpperCase;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Supplier&lt;?&gt;</code> interface can simply be used together with the <code>@InboundChannelAdapter</code> annotation, or as a <code>ref</code> in an <code>&lt;int:inbound-channel-adapter&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">@Bean
@InboundChannelAdapter(value = "inputChannel", poller = @Poller(fixedDelay = "1000"))
public Supplier&lt;String&gt; pojoSupplier() {
    return () -&gt; "foo";
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Kotlin lambdas can now also be used directly in the messaging endpoint definitions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">@Bean
@Transformer(inputChannel = "functionServiceChannel")
fun kotlinFunction(): (String) -&gt; String {
    return { it.toUpperCase() }
}

@Bean
@ServiceActivator(inputChannel = "messageConsumerServiceChannel")
fun kotlinConsumer(): (Message&lt;Any&gt;) -&gt; Unit {
    return { print(it) }
}

@Bean
@InboundChannelAdapter(value = "counterChannel",
        poller = [Poller(fixedRate = "10", maxMessagesPerPoll = "1")])
fun kotlinSupplier(): () -&gt; String {
    return { "baz" }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="micrometer"><a class="anchor" href="#micrometer"></a>Micrometer</h3>
<div class="paragraph">
<p>Together with an upgrade to Micrometer <code>1.1</code> the Framework now automatically removes registered meters from the <code>MeterRegistry</code>.
This becomes very handy when we develop dynamic <code>IntegrationFlow</code> s and register and remove them at runtime.</p>
</div>
</div>
<div class="sect2">
<h3 id="jmx-mbeans-removal"><a class="anchor" href="#jmx-mbeans-removal"></a>JMX MBeans removal</h3>
<div class="paragraph">
<p>Now MBeans registered at runtime (e.g. via dynamic <code>IntegrationFlow</code> s) removed from the JMX server registration automatically when beans for them are destroyed at runtime.</p>
</div>
</div>
<div class="sect2">
<h3 id="http-dynamic-mapping"><a class="anchor" href="#http-dynamic-mapping"></a>HTTP Dynamic Mapping</h3>
<div class="paragraph">
<p>The HTTP (and WebFlux) inbound endpoints, declared at runtime (e.g. via dynamic <code>IntegrationFlow</code> s), now register their request mapping in the <code>HandlerMapping</code> and also remove it automatically, when their bean is destroyed.</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-social-twitter-support"><a class="anchor" href="#spring-social-twitter-support"></a>Spring Social Twitter Support</h3>
<div class="paragraph">
<p>Since Spring Social project is heading to its <a href="https://spring.io/blog/2018/07/03/spring-social-end-of-life-announcement">End of Life</a>, we have moved <code>spring-integration-twitter</code> module to separate project under <a href="https://github.com/spring-projects/spring-integration-extensions">Spring Integration Extensions</a> umbrella and have just released a <code>org.springframework.integration:spring-integration-social-twitter:1.0.0.RELEASE</code> as well, which is fully based on Spring Integration <code>5.1</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="summary"><a class="anchor" href="#summary"></a>Summary</h3>
<div class="paragraph">
<p>For more changes, please, take a look into the <a href="https://docs.spring.io/spring-integration/docs/5.1.0.RELEASE/reference/html/whats-new.html">What&#8217;s New</a> chapter of the reference manual.
Also see a <a href="https://github.com/spring-projects/spring-integration/wiki/Spring-Integration-5.0-to-5.1-Migration-Guide">Migration Guide</a> for breaking changes in this version and how to cope with them.</p>
</div>
<div class="paragraph">
<p>This version is a foundation for Spring Boot <code>2.1 GA</code>.</p>
</div>
<div class="paragraph">
<p>From here we are looking forward to switch the <code>master</code> to the <code>5.2</code> version to start working on new features and valuable improvements!</p>
</div>
<div class="paragraph">
<p>Any feedback, feature ideas, critics, bug reports and questions are welcome via appropriate communication channels:</p>
</div>
<div class="paragraph">
<p><a href="https://projects.spring.io/spring-integration/">Project Page</a> | <a href="https://jira.spring.io/browse/INT">JIRA</a> | <a href="https://github.com/spring-projects/spring-integration/blob/master/CONTRIBUTING.adoc">Contributing</a> | <a href="https://stackoverflow.com/questions/tagged/spring-integration">Help</a> | <a href="https://gitter.im/spring-projects/spring-integration">Chat</a></p>
</div>
</div></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 3454;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
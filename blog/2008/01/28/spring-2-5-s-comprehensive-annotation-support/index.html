<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring 2.5&#39;s Comprehensive Annotation Support</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring 2.5&#39;s Comprehensive Annotation Support" />
<meta name="twitter:description" content="&lt;p&gt;One of the central themes behind Spring 2.5 is comprehensive annotation-based configuration. We’ve been talking and blogging a lot about &lt;strong&gt;@Autowired&lt;/strong&gt;, about Spring MVC’s &lt;strong&gt;@RequestMapping&lt;/strong&gt; and also about the new support for annotated tests written with JUnit4 or TestNG. &lt;strong&gt;@Autowired&lt;/strong&gt; is certainly the central one of Spring 2.5’s annotations, being available for use in service components, web components, unit tests - even domain objects when using Spring’s &lt;strong&gt;@Configurable&lt;/strong&gt; with AspectJ weaving. Spring MVC’s &lt;strong&gt;@RequestMapping&lt;/strong&gt; is equally flexible, supporting many variants of handler method signatures.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@springjuergen" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/ba9686d8c567aabedc1b7f8b6a7fb3d6?s=200" />

<meta property="og:title" content="Spring 2.5&#39;s Comprehensive Annotation Support" />
<meta property="og:image" content="https://gravatar.com/avatar/ba9686d8c567aabedc1b7f8b6a7fb3d6?s=200" />
<meta property="og:description" content="&lt;p&gt;One of the central themes behind Spring 2.5 is comprehensive annotation-based configuration. We’ve been talking and blogging a lot about &lt;strong&gt;@Autowired&lt;/strong&gt;, about Spring MVC’s &lt;strong&gt;@RequestMapping&lt;/strong&gt; and also about the new support for annotated tests written with JUnit4 or TestNG. &lt;strong&gt;@Autowired&lt;/strong&gt; is certainly the central one of Spring 2.5’s annotations, being available for use in service components, web components, unit tests - even domain objects when using Spring’s &lt;strong&gt;@Configurable&lt;/strong&gt; with AspectJ weaving. Spring MVC’s &lt;strong&gt;@RequestMapping&lt;/strong&gt; is equally flexible, supporting many variants of handler method signatures.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2008-01-28 12:01:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring 2.5&#39;s Comprehensive Annotation Support</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/ba9686d8c567aabedc1b7f8b6a7fb3d6?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/jhoeller">Juergen Hoeller</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2008-01-28 12:01:00.0">January 28, 2008</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="134" href="/blog/2008/01/28/spring-2-5-s-comprehensive-annotation-support#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>One of the central themes behind Spring 2.5 is comprehensive annotation-based configuration. We&rsquo;ve been talking and blogging a lot about <strong>@Autowired</strong>, about Spring MVC&rsquo;s <strong>@RequestMapping</strong> and also about the new support for annotated tests written with JUnit4 or TestNG. <strong>@Autowired</strong> is certainly the central one of Spring 2.5&rsquo;s annotations, being available for use in service components, web components, unit tests - even domain objects when using Spring&rsquo;s <strong>@Configurable</strong> with AspectJ weaving. Spring MVC&rsquo;s <strong>@RequestMapping</strong> is equally flexible, supporting many variants of handler method signatures.</p><p>Today I&rsquo;d like to take a different focus, namely on the wide-ranging set of dependency injection annotations supported by Spring. The following list includes the key annotations that can be used within Spring 2.5 beans:</p>
<ul>
<li><strong>org.springframework.beans.factory.annotation.Required</strong>:
Identifies bean property setters that must be called (as opposed to optional setters). Supported since Spring 2.0.</li>
<li><strong>org.springframework.beans.factory.annotation.Autowired</strong>:
Spring 2.5's central injection annotation, applying to constructors, config methods and fields. Performs injection of components by type, with supporting for "qualifier" annotations that narrow the potential set of candidates in case of multiple matches.</li>
<li><strong>javax.annotation.PostConstruct</strong>:
JSR-250's common annotation for what Spring calls "init methods".</li>
<li><strong>javax.annotation.PreDestroy</strong>:
JSR-250's common annotation for what Spring calls "destroy methods".</li>
<li><strong>javax.annotation.Resource</strong>:
JSR-250's common annotation for injecting an external component by name. A "resource" in JSR-250 terminology really refers to a middleware component such as a DataSource.</li>
<li><strong>javax.xml.ws.WebServiceRef</strong>:
@Resource-like, for JAX-WS service lookups, injecting a JAX-WS port proxy.</li>
<li><strong>javax.ejb.EJB</strong>:
@Resource-like, for EJB Session Bean lookups, injecting an EJB component reference.</li>
<li><strong>javax.persistence.PersistenceUnit</strong>:
injecting a JPA EntityManagerFactory by persistence unit name. Supported since Spring 2.0.</li>
<li><strong>javax.persistence.PersistenceContext</strong>:
injecting a JPA EntityManager by persistence unit name. Supported since Spring 2.0.</li>
</ul><p><br />This set of annotations encompasses all of Java EE 5&rsquo;s common annotations, which means that you may use the same common annotations in e.g. Servlet 2.5 servlets, JSF 1.2 managed beans and Spring managed beans. In other words, if you have some standard JSF 1.2 managed beans with annotation usage, you can take them as-is and move their definitions from faces-config to a Spring application context, without any change in the bean classes! This was an important design goal: Spring 2.5 may serve as straightforward replacement of the standard JSF 1.2 managed bean facility, simply through choosing <strong>SpringBeanFacesELResolver</strong> as your custom JSF ELResolver.</p><p>Configuration-wise, all you need to enable the complete set of annotations above is the following simple configuration element in your Spring application context:</p><p><code><br />&lt;context:annotation-config/&gt;<br /></code></p><p>Note that this setting is related to dependency injection only and does not require any parameterization. (For customization, consider defining Spring&rsquo;s individual AnnotationBeanPostProcessors instead, e.g. <strong>CommonAnnotationBeanPostProcessor</strong>). However, the annotation-config element does <em>not</em> activate any kind of proxying or special exporting. For such purposes, Spring provides more specific configuration elements:</p><p><code><br />&lt;tx:annotation-driven/&gt;<br /></code></p><p>This setting activates processing of transaction annotations, with the following two variants supported out of the box in Spring 2.5:</p>
<ul>
<li><strong>org.springframework.transaction.annotation.Transactional</strong>:
Spring's own transaction annotation, as introduced in Spring 1.2. Allows for specifying propagation behavior (REQUIRED, REQUIRES_NEW, etc), read-only flag, custom isolation level (REPEATABLE_READ, SERIALIZABLE, etc) and custom rollback rules on a per-transaction level.</li>
<li><strong>javax.ejb.TransactionAttribute</strong>
EJB 3.0's transaction annotation. No customization options other than propagation behavior (REQUIRED, REQUIRES_NEW, etc).</li>
</ul><p><br />Side note: As with all of Spring&rsquo;s support options, the EJB 3.0 TransactionAttribute annotation will only be available if the EJB 3.0 API is actually present in the classpath. Spring automatically adapts to the presence of that API, analogous to the JSR-250 API or the JPA API (as referenced above).</p><p>The <strong>&lt;tx:annotation-driven&gt;</strong> element allows for transaction-specific configuration, e.g. the Spring PlatformTransactionManager to talk to (through the &ldquo;transaction-manager&rdquo; attribute) and the <em>mode</em> to operate in:</p><p><code><br />&lt;tx:annotation-driven transaction-manager=&ldquo;myTm&rdquo; mode=&ldquo;aspectj&rdquo;/&gt;<br /></code></p><p>The explicit AspectJ mode of transaction annotation processing is new in Spring 2.5, allowing to use Spring&rsquo;s <strong>AnnotationTransactionAspect</strong> instead of traditional AOP proxies. This requires AspectJ compile-time weaving or load-time weaving, modifying the byte code of classes that happen to use the <strong>@Transactional</strong> annotation. Such weaving allows for supporting the annotation on any kind of method: be it public, protected or private - be it an external call or a call from within the object - the transaction will always kick in as specified by the annotation. This is in sharp contrast to traditional AOP proxies, where annotation-driven transactions are limited to public method calls coming in through the proxy.</p><p>If your environment is capable of load-time weaving, then the following configuration is sufficient for enabling AspectJ-style transaction annotation processing. Note that this requires either a runtime environment with built-in weaving support (e.g. WebLogic 10, OC4J 10.1.3.1, Tomcat configured with Spring&rsquo;s TomcatInstrumentableClassLoader) or Spring&rsquo;s VM agent to be specified on JVM startup (&ldquo;-javaagent:spring-agent.jar&rdquo;).</p><p><code><br />&lt;context:load-time-weaver/&gt;</p><p>&lt;tx:annotation-driven mode=&ldquo;aspectj&rdquo;/&gt;</p><p>&lt;bean id=&ldquo;transactionManager&rdquo; class=&ldquo;&hellip;&rdquo;/&gt;<br /></code></p><p>Finally, Spring 2.5 also provides a convenient configuration element for activating JMX exporting. The default MBeanServer will be autodetected on all common platforms, including the standard Java 5 platform MBeanServer as well as the special MBeanServers exposed by WebLogic 9/10 and WebSphere 6.</p><p><code><br />&lt;context:mbean-export/&gt;<br /></code></p><p>Spring-managed beans may then implement standard MBean/MXBean conventions, qualifying as MBean classes according to the JMX specification, or use the following annotations to declare their management signature (as known since Spring 1.2):</p>
<ul>
<li><strong>org.springframework.jmx.export.annotation.ManagedResource</strong>:
used at the type level to indicate a JMX-exposed component.</li>
<li><strong>org.springframework.jmx.export.annotation.ManagedAttribute</strong>:
used at the bean property setter/getter level to indicate an MBean attribute.</li>
<li><strong>org.springframework.jmx.export.annotation.ManagedOperation</strong>:
used at the public method level to indicate an exporter MBean operation.</li>
</ul><p><br />This indicates the real power of Spring&rsquo;s annotation configuration model: Different configuration concerns seamlessly merge into a unified whole, with consistent configuration style and unified component lifecycle - it&rsquo;s all still a standard Spring bean underneath, managed by a Spring ApplicationContext!</p><p>So much for this brief tour through Spring&rsquo;s core configuration annotations. If you are interested in hearing more about what&rsquo;s new in Spring 2.5 and how it all ties together, let me invite you to this Wednesday&rsquo;s <a href="http://www.springsource.com/web/guest/webinars">Spring 2.5 webinar</a> where I will be covering all key feature areas in Spring 2.5, ranging from Java 6 support to annotation-based configuration!</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 134;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>SpringSource Application Platform Deployment Options</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="SpringSource Application Platform Deployment Options" />
<meta name="twitter:description" content="&lt;p&gt;Since we released the SpringSource Application Platform last Wednesday, numerous developers have downloaded the 1.0.0 beta and started taking the Platform for a test drive. As a result, people have begun asking, “How can I deploy my apps on the Platform, and what kind of deployment and packaging options do I have?” Moreover, developers are eagerly requesting to see working samples. In response, the S2AP team will be releasing several sample applications over the coming weeks demonstrating these features and more, but before you get your hands on these samples, I’d like to give you a high-level overview of the deployment and packaging options available in the Platform. After reading this post you’ll be ready to hit the ground running with the samples as well as with your own applications.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@sam_brannen" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/64310de9c07f30458f9baae33d91ccdc?s=200" />

<meta property="og:title" content="SpringSource Application Platform Deployment Options" />
<meta property="og:image" content="https://gravatar.com/avatar/64310de9c07f30458f9baae33d91ccdc?s=200" />
<meta property="og:description" content="&lt;p&gt;Since we released the SpringSource Application Platform last Wednesday, numerous developers have downloaded the 1.0.0 beta and started taking the Platform for a test drive. As a result, people have begun asking, “How can I deploy my apps on the Platform, and what kind of deployment and packaging options do I have?” Moreover, developers are eagerly requesting to see working samples. In response, the S2AP team will be releasing several sample applications over the coming weeks demonstrating these features and more, but before you get your hands on these samples, I’d like to give you a high-level overview of the deployment and packaging options available in the Platform. After reading this post you’ll be ready to hit the ground running with the samples as well as with your own applications.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2008-05-06 23:40:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">SpringSource Application Platform Deployment Options</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/64310de9c07f30458f9baae33d91ccdc?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/sbrannen">Sam Brannen</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2008-05-06 23:40:00.0">May 06, 2008</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="157" href="/blog/2008/05/06/springsource-application-platform-deployment-options#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>Since we released the SpringSource Application Platform last Wednesday, numerous developers have downloaded the 1.0.0 beta and started taking the Platform for a test drive. As a result, people have begun asking, &ldquo;How can I deploy my apps on the Platform, and what kind of deployment and packaging options do I have?&rdquo; Moreover, developers are eagerly requesting to see working samples. In response, the S2AP team will be releasing several sample applications over the coming weeks demonstrating these features and more, but before you get your hands on these samples, I&rsquo;d like to give you a high-level overview of the deployment and packaging options available in the Platform. After reading this post you&rsquo;ll be ready to hit the ground running with the samples as well as with your own applications.</p>
<h2>Overview</h2><p>As Rob mentioned in his post last week, <a href="http://blog.springsource.com/main/2008/04/30/introducing-the-springsource-application-platform/">Introducing the SpringSource Application Platform</a>, the Platform supports applications packaged in the following forms:</p>
<ol>
<li>Raw OSGi Bundles</li>
<li>Java EE WAR</li>
<li>Web Modules</li>
<li>Platform Archive (PAR)</li>
</ol><p>When you deploy an application to the Platform, each deployment artifact (e.g., a single bundle, WAR, or PAR) passes through a deployment pipeline. This deployment pipeline supports the notion of personality-specific deployers which are responsible for processing an application with a certain <em>personality</em> (i.e., application type). The 1.0.0 release of the Platform natively supports personality-specific deployers analogous to each of the aforementioned packaging options. Furthermore, the deployment pipeline can be extended with additional personality deployers, and future releases of the Platform will provide support for personalities such as Batch, Web Services, etc.</p><p>Let&rsquo;s take a closer look now at each of the supported deployment and packaging options to explore which one is best suited for your applications.</p>
<h2>Raw OSGi Bundles</h2><p>At its core, the SpringSource Application Platform is an OSGi container. Thus any OSGi-compliant bundle can be deployed directly on the Platform unmodified. You&rsquo;ll typically deploy an application as a single bundle or a set of stand-alone bundles if you&rsquo;d like to publish or consume services globally within the container via the OSGi Service Registry. Please note, however, that due to the scoping nature of the PAR format, stand-alone bundles will not be able to consume services across application boundaries. In other words, a stand-alone bundle can not reference the services of modules deployed within a PAR.</p>
<h2>WAR Deployment Options</h2><p>For Web Application Archives (WAR), the SpringSource Application Platform provides support for the following three formats.</p>
<ol>
<li>Standard Java EE WAR</li>
<li>Shared Libraries WAR</li>
<li>Shared Services WAR</li>
</ol><p>Each of these formats plays a distinct role in the incremental migration path from a standard Java EE WAR to an OSGi-ified web application.</p>
<h3>Standard WAR</h3><p>As Rob has already pointed out, <em>&ldquo;Standard WAR files are supported directly in the Platform. At deployment time, the WAR file is transformed into an OSGi bundle and installed into Tomcat. All the standard WAR contracts are honoured, and your existing WAR files should just drop in and deploy without change.&rdquo;</em> Support for standard, unmodified WAR files allows you to try out the SpringSource Application Platform on your existing web applications and then gradually migrate toward the <em>Shared Libraries WAR</em>, <em>Shared Services WAR</em>, and <em>Web Module</em> formats.</p>
<h3>Shared Libraries WAR</h3><p>If you have experience with developing and packaging web applications using the standard WAR format, you&rsquo;re certainly familiar with the pains of <em>library bloat</em>. So, unless you&rsquo;re installing shared libraries in a common library folder for your Servlet container, you have to pack all JARs required by your web application in <span style="font-family:courier">/WEB-INF/lib</span>. Prior to the release of the Platform, such library bloat has essentially been the <em>norm</em> for web applications, but now there is a better solution! The <em>Shared Libraries WAR</em> format reduces your application&rsquo;s deployment footprint and eradicates library bloat by allowing you to declare dependencies on libraries via standard OSGi manifest headers such as <span style="font-family:courier">Import-Package</span> and <span style="font-family:courier">Require-Bundle</span>. The Platform provides additional support for simplifying dependency management via the <span style="font-family:courier">Import-Library</span> and <span style="font-family:courier">Import-Bundle</span> manifest headers which are essentially macros that get expanded into OSGi-compliant <span style="font-family:courier">Import-Package</span> statements.</p><p>For detailed information on what kind of libraries you already have at your disposal, check out the <a href="http://www.springsource.com/repository/app/">SpringSource Enterprise Bundle Repository</a>. In addition, Andy Wilkinson will be posting a blog later this week explaining how to make the most of the Bundle Repository within your applications and the SpringSource Application Platform. So stay tuned.</p>
<h3>Shared Services WAR</h3><p>Once you&rsquo;ve begun taking advantage of declarative dependency management with a Shared Libraries WAR, you&rsquo;ll likely find yourself wanting to take the next step toward reaping further benefits of an OSGi container: sharing services between your OSGi-compliant bundles and your web applications. By building on the power and simplicity of <a href="http://www.springframework.org/osgi">Spring-DM</a>, the <em>Shared Services WAR</em> format puts the OSGi Service Registry at your fingertips. As a best practice you&rsquo;ll typically publish services from your domain, service, and infrastructure bundles via <span style="font-family:courier">&lt;osgi:service &hellip; /&gt;</span> and then consume them in your web application&rsquo;s <span style="font-family:courier">ApplicationContext</span> via <span style="font-family:courier">&lt;osgi:reference &hellip; /&gt;</span>. Doing so promotes programming to interfaces and allows you to completely decouple your web-specific deployment artifacts from your domain model, service layer, etc., and that&rsquo;s certainly a step in the right direction. Of the three supported WAR deployment formats, the Shared Services WAR is by far the most attractive in terms of modularity and reduced overall footprint of your web applications.</p>
<h2>Web Modules</h2><p>Above and beyond WAR-based deployment formats, the SpringSource Application Platform introduces a deployment and packaging option for OSGi-compliant web applications, the <em>Web Module</em> format. Web modules have a structure similar to a Shared Services WAR and can therefore take full advantage of all three WAR deployment formats. In addition, web modules benefit from reduced configuration for Spring MVC based applications via new OSGi manifest headers such as <span style="font-family:courier">Web-DispatcherServletUrlPatterns</span> and <span style="font-family:courier">Web-FilterMappings</span>. For further details on these and other <span style="font-family:courier">Web-*</span> manifest headers, please consult the Platform&rsquo;s <a href="http://static.springsource.com/projects/applicationplatform/1.0.x/programmer-guide/html/">Programmer Guide</a>. Upcoming releases of the Platform will also support <span style="font-family:courier">web.xml</span> <em>fragments</em> as well as the aforementioned manifest headers.</p><p>If you&rsquo;re building a Spring MVC based web application as a web module, you won&rsquo;t need to worry about configuring a <em>root</em> <span style="font-family:courier">WebApplicationContext</span> or an <span style="font-family:courier">ApplicationContext</span> for your <span style="font-family:courier">DispatcherServlet</span>. Based on metadata in your web module&rsquo;s <span style="font-family:courier">/META-INF/MANIFEST.MF</span>, the Platform will auto-generate an appropriately configured <span style="font-family:courier">web.xml</span> for you on-the-fly, and your application will use the ApplicationContext created for your web module by Spring-DM. Future releases will add additional support to simplify configuration of <a href="http://www.springframework.org/webflow">Spring Web Flow</a> based web applications as well.</p>
<h2>Migration path from WAR to Web Module</h2><p>The following diagram graphically depicts the migration path from a Standard WAR to a Web Module. As you can see, the libs move from within the deployment artifact to the Bundle Repository. Similarly, the services move from within the WAR to external bundles and are accessed via the OSGi Service Registry. In addition, the overall footprint of the deployment artifact decreases as you move towards a Web Module.</p><p><img id="image330" src="http://blog.springsource.com/main/wp-content/uploads/2008/05/migration-path-war-to-web-module.png" alt="Migration path from WAR to Web Module" /></p>
<h2>Platform Archives</h2><p>The final piece of the puzzle is the PAR (Platform Archive) deployment format. A PAR is a standard JAR which contains all of the modules of your application (e.g., service, domain, and infrastructure bundles as well as a WAR or web module for web applications) in a single deployment unit. This allows you to deploy, refresh, and undeploy your entire application as a single entity. For those of you familiar with Java EE, a PAR can be considered a replacement for an EAR (Enterprise Archive) within the context of an OSGi container. As an added bonus, modules within a PAR can be refreshed independently and on-the-fly, for example via the <a href="http://www.springsource.com/beta/applicationplatform/">SpringSource Application Platform Tool Suite</a> (register for the beta program and check out the Eclipse tooling support).</p><p>Furthermore, PARs <em>scope</em> the modules of your application within the Platform. Scoping provides both a physical and logical application boundary, shielding the internals of your application from any other applications deployed within the Platform. This means your application doesn&rsquo;t have to worry about clashing with other running applications (e.g., in the OSGi Service Registry). You get support for load-time weaving, classpath scanning, context class loading, etc., and the Platform does the heavy lifting for you to make all this work seamlessly in an OSGi environment. If you want to take full advantage of all that the SpringSource Application Platform and OSGi have to offer, packaging and deploying your applications as a PAR is definitely the recommend choice.</p>
<h2>Where to go from here</h2><p>If you haven&rsquo;t already done so, I encourage you to join the <a href="http://www.springsource.com/beta/s2ap">beta program</a> and take the SpringSource Application Platform for a test drive yourself.</p><p>You&rsquo;ll find up-to-date documentation in the <a href="http://static.springsource.com/projects/s2ap/1.0.x/user-guide/html/">user guide</a> and <a href="http://static.springsource.com/projects/s2ap/1.0.x/programmer-guide/html/">programmer guide</a>, and if you happen to run into any issues deploying your applications or have recommendations on how we can improve the Platform, please don&rsquo;t hesitate to <a href="http://issuetracker.springsource.com/browse/PLATFORM">create a JIRA issue</a>.</p><p>And last but not least, be sure to check out upcoming posts on the <a href="http://blog.springsource.com">SpringSource Team Blog</a> to keep abreast of news regarding the Platform and to see working examples including an OSGi-ified Spring PetClinic sample application which has been modularized and packaged as a PAR.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 157;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
 <a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
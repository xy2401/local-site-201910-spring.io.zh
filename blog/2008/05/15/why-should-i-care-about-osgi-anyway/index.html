<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Why should I care about OSGi anyway?</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Why should I care about OSGi anyway?" />
<meta name="twitter:description" content="&lt;p&gt;InfoQ has a &lt;a href=&quot;http://www.infoq.com/news/2008/05/sap-reactions&quot;&gt;discussion thread&lt;/a&gt; summarizing the reactions to the announcement of the SpringSource Application Plaform. Michael Burke asked a &lt;a href=&quot;http://www.infoq.com/news/2008/05/sap-reactions#view_22752&quot;&gt;great question&lt;/a&gt; on that thread which can be paraphrased as “forgetting the hype surrounding OSGi, what benefits can I expect to see if I port an application currently packaged as an EAR to OSGi bundles?”.&lt;/p&gt;
&lt;p&gt;I started answering this question on the InfoQ thread, but my answer was growing too long for a comment so instead I’ll address it here.&lt;/p&gt;
&lt;p&gt;The question is a good one. The main difference you will see in an OSGi-based application versus a traditional JEE EAR-based application is improved modularity. So the question becomes, does this improved modularity bring me any benefits, and if so what are they? The book “&lt;a href=&quot;http://www.amazon.com/Design-Rules-Vol-Power-Modularity/dp/0262024667&quot;&gt;Design Rules, The Power of Modularity&lt;/a&gt;” gives a very thorough treatment of the question. It’s great background but I get that feeling that Michael may be looking for something a little less theoretical than what you’ll find in that book! Let’s break the modularity benefits down into two categories: benefits you should expect to experience during development time, and benefits you should expect to experience during runtime:&lt;br&gt;&lt;/p&gt;
" />
<meta name="twitter:creator" content="@adriancolyer" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/689563c501d5a959fccf03b707cb7b13?s=200" />

<meta property="og:title" content="Why should I care about OSGi anyway?" />
<meta property="og:image" content="https://gravatar.com/avatar/689563c501d5a959fccf03b707cb7b13?s=200" />
<meta property="og:description" content="&lt;p&gt;InfoQ has a &lt;a href=&quot;http://www.infoq.com/news/2008/05/sap-reactions&quot;&gt;discussion thread&lt;/a&gt; summarizing the reactions to the announcement of the SpringSource Application Plaform. Michael Burke asked a &lt;a href=&quot;http://www.infoq.com/news/2008/05/sap-reactions#view_22752&quot;&gt;great question&lt;/a&gt; on that thread which can be paraphrased as “forgetting the hype surrounding OSGi, what benefits can I expect to see if I port an application currently packaged as an EAR to OSGi bundles?”.&lt;/p&gt;
&lt;p&gt;I started answering this question on the InfoQ thread, but my answer was growing too long for a comment so instead I’ll address it here.&lt;/p&gt;
&lt;p&gt;The question is a good one. The main difference you will see in an OSGi-based application versus a traditional JEE EAR-based application is improved modularity. So the question becomes, does this improved modularity bring me any benefits, and if so what are they? The book “&lt;a href=&quot;http://www.amazon.com/Design-Rules-Vol-Power-Modularity/dp/0262024667&quot;&gt;Design Rules, The Power of Modularity&lt;/a&gt;” gives a very thorough treatment of the question. It’s great background but I get that feeling that Michael may be looking for something a little less theoretical than what you’ll find in that book! Let’s break the modularity benefits down into two categories: benefits you should expect to experience during development time, and benefits you should expect to experience during runtime:&lt;br&gt;&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2008-05-15 20:46:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Why should I care about OSGi anyway?</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/689563c501d5a959fccf03b707cb7b13?s=20&amp;d=mm" />
<span class="author">Adrian Colyer</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2008-05-15 20:46:00.0">May 15, 2008</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="161" href="/blog/2008/05/15/why-should-i-care-about-osgi-anyway#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>InfoQ has a <a href="http://www.infoq.com/news/2008/05/sap-reactions">discussion thread</a> summarizing the reactions to the announcement of the SpringSource Application Plaform. Michael Burke asked a <a href="http://www.infoq.com/news/2008/05/sap-reactions#view_22752">great question</a> on that thread which can be paraphrased as &ldquo;forgetting the hype surrounding OSGi, what benefits can I expect to see if I port an application currently packaged as an EAR to OSGi bundles?&rdquo;.</p><p>I started answering this question on the InfoQ thread, but my answer was growing too long for a comment so instead I&rsquo;ll address it here.</p><p>The question is a good one. The main difference you will see in an OSGi-based application versus a traditional JEE EAR-based application is improved modularity. So the question becomes, does this improved modularity bring me any benefits, and if so what are they? The book &ldquo;<a href="https://www.amazon.com/Design-Rules-Vol-Power-Modularity/dp/0262024667">Design Rules, The Power of Modularity</a>&rdquo; gives a very thorough treatment of the question. It&rsquo;s great background but I get that feeling that Michael may be looking for something a little less theoretical than what you&rsquo;ll find in that book! Let&rsquo;s break the modularity benefits down into two categories: benefits you should expect to experience during development time, and benefits you should expect to experience during runtime:<br /><h2>Development time benefits.</h2><br /><ul><br /> <li>Strict development time (and runtime) enforcement of module boundaries</li><br />OSGi has mechanisms to ensure that module boundaries are respected by the development teams. Using OSGi the types exported by a module are explicitly declared (if it&rsquo;s not exported, it&rsquo;s not visible), and the dependencies of a module are also explicitly declared (this can include version-range compatibility information). This means that when using the development tools the team can&rsquo;t code-complete themselves into a violation of module boundaries, and at runtime the OSGi service platform will prevent one module from seeing the private internals of another module. So your application architecture stays clean and protected during the development cycle rather than slowly breaking down through (often inadvertent) unwanted coupling.<br /> <li>A service-oriented architecture <em>that works</em> for managing service dependencies between modules.</li><br />The dependencies between modules aren&rsquo;t restricted to just types of course - modules also need to make available services (think Spring beans) for other modules to use, and may depend on services (think Spring beans again) provided by other modules. Instead of your application essentially being one large application context, think of it as a set of peer contexts interacting via a local service registry. Spring beans (components) are private to the module unless explicitly exported. Bean references across modules are managed by the runtime. Once again this means that developers working on a module are free to make whatever internal changes they like, so long as the external contract (beans published, types exported) stays constant. When using Spring Dynamic Modules both the imported and exported types and the imported and exported services of a module are specified declaratively (the former in the OSGi manifest, the latter in a Spring configuration file).<br /> <li>Better ability to structure development teams the way you want to</li><br />&ldquo;Organization follows architecture&rdquo;. It&rsquo;s easy to assign a team to work on a given module or modules. It&rsquo;s much harder to ask a team to implement a function that crosscuts many modules. So what naturally tends to happen is that your technical architecture (how you divide a system into modules) dictates your organizational structure - i.e. how effectively you are able to partition the work among teams and individuals. Greater flexibility in modularizing your application means greater flexibility in structuring your team. Sometimes you see the reverse: &ldquo;architecture follows organization&rdquo;. This tends to happen when there are sets of co-located individuals forming a distributed team. In order to make sensible work assignments you want to align modules with locations if you can. So if you can&rsquo;t move the people, then to a reasonable extent your architecture is dictacted by your organization. The more flexibility you have in module decomposition, the greater the chance you can find something that works well for you.<br /> <li>Faster team-based development</li><br />When modules have clear boundaries - well defined external interfaces, well-specified dependencies, and protected internals, it&rsquo;s much easier for teams working on those modules to develop in parallel without accidentally treading on each others toes. Well-specified interactions are easier to stub and mock, and easier to integrate. This should lead to more productive teams and faster development cycles.<br /> <li>Faster testing cycles</li><br />When you&rsquo;re testing in-container the SpringSource Application Platform development tools for Eclipse take advantage of the OSGi Service Platform&rsquo;s ability to dynamically update a given module in a running system. An incremental builder associated with your project automatically udates the module in a running platform instance whenever you make a change. This can be any change - code or otherwise. So if for example you are working in the web tier, continuously interacting with your web application and testing as you go, the web module will be refreshed on each change - and you won&rsquo;t need to wait for your persistence layer to be reinitialised each time. The smart management of service references between bundles (modules) that Spring Dynamic Modules provides ensures that all inter-module links are repaired after refresh. This development experience is quite addictive: you have been warned!<br /> <li>Support for versioning as part of dependency management</li><br />When a module specifies its dependencies, it can give a version range (which can be restricted to just a single version) for the versions of the dependency that it is compatible with. OSGi allows for multiple versions of a Java package to be present at runtime simultaneously. This allows scenarios whereby the team working on module A need version x of some library, and the team working on module B need version y of some library (and x and y are incompatible). So long as modules A and B never need to exchange types from that library between them this will work without any difficulties. If modules A and B <em>do</em> need to exchange types between them then the OSGi Service Platform will detect this potential conflict at deployment time rather than at runtime (assuming the manifests for the two modules have been correctly generated).<br /> <li>Less road-blocks</li><br />Unlike my other points (which relate to OSGi in general) this point is particular to the SpringSource Application Platform. We&rsquo;re confident that if you start developing Spring and OSGi-based enterprise applications on the SpringSource Application Platform you&rsquo;ll encounter a lot less road-blocks along the way with enterprise libraries not working the way you would expect them to under OSGi than you would if you tried to develop directly to an OSGi Service Platform (even though the programming and deployment model is the same).</ul><br /><h2>Runtime benefits</h2><br />The runtime benefits stem from the fact that modules in OSGi are not just development time constructs. They very much exist at runtime, have their own lifecycle, and can be inspected in a running system.<br /><ul><br /> <li>Full information about the installed modules and their wiring is available at runtime - a level of insight operations teams have never had before.</li><br />You can list all of the installed bundles and their versions, see the packages they are exporting and importing, and also see the services they are exporing and importing (together with the identity of the bundles providing those services and packages). Previously operations teams have had little or not visibility into a running application beyond the JEE deployment unit level, OSGi changes all of that. (Aside, the SpringSource Application Management Suite provides even more insights, but that&rsquo;s another topic).<br /> <li>Isolate changes</li><br />Since it is possible to install, uninstall, update and refresh modules independently, you can reduce the risk of making changes to production applications by scoping the change to a smaller unit (the bundle). The rest of the application (the other bundles) can remain unchanged. Yes you may well have a long change control process meaning that in real terms making the change is no quicker, but at least you can now make the change with greater certainty that you have not introduced any other unintended differences.<br /> <li>Share dependencies</li><br />OSGi&rsquo;s support for versioning makes it practical to install trusted versions of enterprise libraries once in the platform and then share them between applications.<br /> <li>Use just the server facilities you need</li><br />Since the server platform itself is built on top of OSGi in a modular manner you can configure the platform to have only the services you need to support the application or applications currently running on it.</ul><br /><h2>Non-OSGi related benefits</h2><br />What if you don&rsquo;t care two hoots about OSGi??? Does the SpringSource Application Platform bring any benefits then?</p><p>Yes it does.</p><p>I like to think of the SpringSource Application Platform this way:</p><p>Firstly it&rsquo;s a server. A lightweight configurable server with a focus on serviceability (see <a href="http://blog.springsource.com/main/2008/04/30/introducing-the-springsource-application-platform/">Rob&rsquo;s original post on the platform</a>). It has useful features such as per-application separated tracing and log files, deadlock detection, failure detection and dump-processing, smart thread pools and work stealing etc.. It&rsquo;s a great place to deploy web applications for these reasons.</p><p>Secondly, it&rsquo;s a server that understands Spring-based applications. Spring is integrated out of the box, and the deployer can simplify the process of packaging and deploying Spring-based apps - for example by doing away with the need for a boiler-plate web.xml file just to configure Spring&rsquo;s DispatcherServlet.</p><p>Thirdly, and only thirdly, it supports OSGi for end-user applications, giving the benefits I already outlined above.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 161;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
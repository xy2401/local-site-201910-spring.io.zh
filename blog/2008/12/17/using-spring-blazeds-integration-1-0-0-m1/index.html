<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Using Spring BlazeDS Integration 1.0.0.M1</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Using Spring BlazeDS Integration 1.0.0.M1" />
<meta name="twitter:description" content="&lt;p&gt;&lt;strong&gt;Update: Most of the code examples shown below are out-of-date and superseded by those shown in the more current &lt;a href=&quot;http://blog.springsource.com/2009/06/10/using-spring-blazeds-integration-10/&quot;&gt;“Using Spring BlazeDS Integration 1.0”&lt;/a&gt; post.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Today we announced the public availability of the first milestone release of the newest member of the open source Spring project portfolio, &lt;a href=&quot;http://www.springsource.org/spring-flex&quot;&gt;Spring BlazeDS Integration&lt;/a&gt;. This project’s purpose is to make it easier to build Spring-powered Rich Internet Applications using Adobe Flex as the front-end client. It aims to achieve this purpose by providing first-class support for using the open source Adobe BlazeDS project and its powerful remoting and messaging facilities in combination with the familiar Spring programming model.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@jeremyg484" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/d3c6942bd89bc4d9c89f87e638ad0fc9?s=200" />

<meta property="og:title" content="Using Spring BlazeDS Integration 1.0.0.M1" />
<meta property="og:image" content="https://gravatar.com/avatar/d3c6942bd89bc4d9c89f87e638ad0fc9?s=200" />
<meta property="og:description" content="&lt;p&gt;&lt;strong&gt;Update: Most of the code examples shown below are out-of-date and superseded by those shown in the more current &lt;a href=&quot;http://blog.springsource.com/2009/06/10/using-spring-blazeds-integration-10/&quot;&gt;“Using Spring BlazeDS Integration 1.0”&lt;/a&gt; post.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Today we announced the public availability of the first milestone release of the newest member of the open source Spring project portfolio, &lt;a href=&quot;http://www.springsource.org/spring-flex&quot;&gt;Spring BlazeDS Integration&lt;/a&gt;. This project’s purpose is to make it easier to build Spring-powered Rich Internet Applications using Adobe Flex as the front-end client. It aims to achieve this purpose by providing first-class support for using the open source Adobe BlazeDS project and its powerful remoting and messaging facilities in combination with the familiar Spring programming model.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2008-12-17 07:22:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Using Spring BlazeDS Integration 1.0.0.M1</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/d3c6942bd89bc4d9c89f87e638ad0fc9?s=20&amp;d=mm" />
<span class="author">Jeremy Grelle</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2008-12-17 07:22:00.0">December 17, 2008</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="196" href="/blog/2008/12/17/using-spring-blazeds-integration-1-0-0-m1#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p><strong>Update: Most of the code examples shown below are out-of-date and superseded by those shown in the more current <a href="http://blog.springsource.com/2009/06/10/using-spring-blazeds-integration-10/">&ldquo;Using Spring BlazeDS Integration 1.0&rdquo;</a> post.</strong></p><p>Today we announced the public availability of the first milestone release of the newest member of the open source Spring project portfolio, <a href="http://www.springsource.org/spring-flex">Spring BlazeDS Integration</a>. This project&rsquo;s purpose is to make it easier to build Spring-powered Rich Internet Applications using Adobe Flex as the front-end client. It aims to achieve this purpose by providing first-class support for using the open source Adobe BlazeDS project and its powerful remoting and messaging facilities in combination with the familiar Spring programming model.</p><p>This first milestone is very much a foundational release, focusing on support for configuring and bootstrapping the BlazeDS MessageBroker (the central component that handles incoming messages from the Flex client) as a Spring-managed object, routing HTTP messages to it through the Spring DispatcherServlet infrastructure, and easily exporting Spring beans as destinations for direct Flex remoting. Future milestones leading up to the final 1.0 will build upon this foundation to provide deeper features such as Spring Security integration, messaging integration using Spring&rsquo;s JMS support, an AMFView for use in conjunction with Spring 3.0&rsquo;s REST support, and hopefully further things to address the needs of our community that we haven&rsquo;t thought of yet. This milestone is also our first opportunity to invite the community to get involved by <a href="http://www.springsource.com/download/community?project=Spring%20BlazeDS%20Integration">trying out the release</a> and providing feedback in the <a href="http://jira.springframework.org/browse/FLEX">project Jira</a> and <a href="http://forum.springframework.org/forumdisplay.php?f=61">new community forum</a>.</p>
<h2>Taking Spring BlazeDS Integration for a Test Drive</h2><p>The BlazeDS project comes with a number of excellent &ldquo;test drive&rdquo; sample applications to help in understanding how to build Flex applications that take advantage of BlazeDS&rsquo;s remoting and messaging capabilities. These samples use the BlazeDS MessageBrokerServlet to route messages through to BlazeDS-managed Java objects that are wired together using the BlazeDS-specific XML configuration. Sounds great, but what about your existing Spring-based infrastructure? Wouldn&rsquo;t it be nice if you could take advantage of the capabilities of the MessageBroker without having to configure a separate servlet and by using the familiar Spring programming model? This is where Spring BlazeDS Integration fits into the picture.</p><p>I&rsquo;ve created a modified version of the BlazeDS test drive sample app that uses Spring BlazeDS Integration. The full source of the modified sample is <a href="http://jira.springframework.org/secure/attachment/14963/flex-sample.zip">available here</a>. You should be able to import the sample into Eclipse and run it using WTP. Once the app is deployed successfully, you can access the individual test drive samples at <a href="http://localhost:8080/samples/testdrive.htm"><a href="http://localhost:8080/samples/testdrive.htm">http://localhost:8080/samples/testdrive.htm</a></a>. (Note that before starting the app, you must start the included HSQL demo database in /sampledb.) Here I&rsquo;ll walk through some of the more interesting pieces of the sample to illustrate what is needed to get started in building Spring-powered Flex applications. </p><p>The first thing worth taking a look at in the project is /samples/WEB-INF/web.xml. Here you will see a fairly typical setup for the Spring <strong>DispatcherServlet</strong>:</p>
<pre><code class="prettyprint xml"><br />&lt;!-- The front controller of this Spring Web application --&gt;
&lt;servlet&gt;
    &lt;servlet-name&gt;Spring MVC Dispatcher Servlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;/WEB-INF/config/web-application-config.xml&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
        
&lt;!-- Map all /spring requests to the DispatcherServlet for handling --&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Spring MVC Dispatcher Servlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/spring/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre><p>This takes the place of the MessageBrokerServlet configuration in the standard BlazeDS samples. This particular application is set up with a mapping strategy that would allow serving of both Flex direct remoting content and RESTful content from the same application. If you were building an app that only targeted Flex clients, you could use a simpler mapping strategy as discussed in the reference manual.</p><p>The next piece to take a look at is the Spring configuration in /samples/WEB-INF/config/web-application-config.xml. First, notice the <strong>MessageBrokerFactoryBean</strong> definition:</p>
<pre><code class="prettyprint xml"><br />&lt;!-- Bootstraps and exposes the BlazeDS MessageBroker --&gt;
&lt;bean id=&quot;mySpringManagedMessageBroker&quot;
    class=&quot;org.springframework.flex.messaging.MessageBrokerFactoryBean&quot; /&gt;
</code></pre><p>This bootstraps the BlazeDS <strong>MessageBroker</strong> as a Spring-managed bean, using a default location of /samples/WEB-INF/flex/services-config.xml for the BlazeDS configuration. The general approach of Spring BlazeDS Integration is to continue to use the standard BlazeDS XML configuration for the parts that are fairly static and more of an infrastructure concern, such as channel definitions, but to allow things that change more frequently during the development of the application, such as remoting destinations, to be configured using the familiar Spring configuration model. As such, exposing a Spring-managed bean for direct remoting from a Flex client is a simple matter of wiring up a remoting exporter bean. Examining the Spring configuration from the sample further, you will see this in action:</p>
<pre><code class="prettyprint xml"><br />&lt;!-- Implementation of ProductService using Spring&#39;s SimpleJdbcTemplate --&gt;
&lt;bean id=&quot;productService&quot; class=&quot;flex.samples.product.JdbcProductService&quot; &gt;
    &lt;constructor-arg ref=&quot;dataSource&quot;/&gt;
&lt;/bean&gt;
    
&lt;!-- Expose the productService bean for BlazeDS remoting --&gt;
&lt;bean id=&quot;product&quot; 
    class=&quot;org.springframework.flex.messaging.remoting.FlexRemotingServiceExporter&quot;&gt;
    &lt;property name=&quot;messageBroker&quot; ref=&quot;mySpringManagedMessageBroker&quot;/&gt;
    &lt;property name=&quot;service&quot; ref=&quot;productService&quot;/&gt;
&lt;/bean&gt;
</code></pre><p>Here you can see a simple Spring bean <strong>productService</strong> that is being exported as a remoting destination to the Spring-managed <strong>MessageBroker</strong>. By default, the desination&rsquo;s serviceId will be the same as the bean name. This service can be accessed from Flex client code such as in the following MXML example from /samples/WEB-INF/flex-src/testdrive-remoteobject/src/main.mxml:</p>
<pre><code class="prettyprint xml"><br />&lt;mx:RemoteObject id=&quot;srv&quot; destination=&quot;product&quot;/&gt;
	
&lt;mx:DataGrid dataProvider=&quot;{srv.getProducts.lastResult}&quot; width=&quot;100%&quot; height=&quot;100%&quot;/&gt; 

&lt;mx:Button label=&quot;Get Data&quot; click=&quot;srv.getProducts()&quot;/&gt;
</code></pre><p>The Spring-managed <strong>MessageBroker</strong> handles the details of invoking the <strong>getProducts</strong> method on the <strong>productService</strong> bean and the serialization back and forth between Flex&rsquo;s native AMF data format and Java.</p><p>The final piece in this puzzle is the configuration for actually routing the Flex AMF message requests coming into the <strong>DispatcherServlet</strong> through to the <strong>MessageBroker</strong>. This is done with a simple <strong>HandlerMapping</strong> in conjunction with the <strong>MessageBrokerHandlerAdapter</strong> definition in the Spring configuration:</p>
<pre><code class="prettyprint xml"><br />&lt;!-- Maps request paths at /messagebroker to the BlazeDS MessageBroker --&gt;
&lt;bean class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;
    &lt;property name=&quot;mappings&quot;&gt;
        &lt;value&gt;
            /messagebroker/*=mySpringManagedMessageBroker
        &lt;/value&gt;
    &lt;/property&gt;
&lt;/bean&gt;

&lt;!-- Dispatches requests mapped to a MessageBroker --&gt;
&lt;bean class=&quot;org.springframework.flex.messaging.servlet.MessageBrokerHandlerAdapter&quot;/&gt;
</code></pre><p>The end result of this in conjunction with the mapping of the <strong>DispatcherServlet</strong> is that requests at the path <strong>/spring/messagebroker/*</strong> will be routed to the Spring-managed <strong>MessageBroker</strong>. Notice that the BlazeDS channel definitions in /WEB-INF/flex/services-config.xml correspond to this mapping, for example:</p>
<pre><code class="prettyprint xml"><br />&lt;channel-definition id=&quot;my-amf&quot; class=&quot;mx.messaging.channels.AMFChannel&quot;&gt;
    &lt;endpoint url=&quot;http://{server.name}:{server.port}/{context.root}/spring/messagebroker/amf&quot; 
        class=&quot;flex.messaging.endpoints.AMFEndpoint&quot;/&gt;
    &lt;properties&gt;
        &lt;polling-enabled&gt;false&lt;/polling-enabled&gt;
    &lt;/properties&gt;
&lt;/channel-definition&gt;
</code></pre><p>Of course, if you prefer, you can set these channels up separately in the Flex client (so that you don&rsquo;t have to compile the Flex source against services-config.xml), perhaps even <a href="http://www.herrodius.com/blog/158">using the Spring ActionScript community extension</a>.</p>
<h2>Community Feedback Wanted</h2><p>With this foundation in place, we hope to see Spring BlazeDS Integration evolve into the essential component for building Spring-powered RIAs with Flex. This project was started in response to ongoing demand from the Spring community for a first-class solution for reducing the complexity of building applications with Flex with Spring, and it should continue to progress by addressing the needs of the community. The way for us to ensure this is the case is to invite you once again to <a href="http://www.springsource.com/download/community?project=Spring%20BlazeDS%20Integration">try it for yourself</a> and get involved through the <a href="http://forum.springframework.org/forumdisplay.php?f=61">forum</a> and <a href="http://jira.springframework.org/browse/flex">Jira</a>. We welcome your feedback and look forward to working together towards a final 1.0 release. </p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 196;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
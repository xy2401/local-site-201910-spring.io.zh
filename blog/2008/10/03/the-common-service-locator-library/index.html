<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>The Common Service Locator library</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="The Common Service Locator library" />
<meta name="twitter:description" content="&lt;p&gt;The &lt;a href=&quot;http://www.codeplex.com/CommonServiceLocator&quot;&gt;CommonServiceLocator&lt;/a&gt; project was released this week on CodePlex with the general idea of providing an IoC container agnostic API for resolving dependencies using Service Location. Erich Eichinger from SpringSource contributed the Spring.NET implementation, thanks Erich! &lt;/p&gt;
&lt;p&gt;Here is the API so you get the basic idea&lt;br&gt;&lt;code lang=&quot;csharp&quot;&gt;public interface IServiceLocator : System.IServiceProvider {&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code lang=&quot;csharp&quot;&gt;object GetInstance(Type serviceType);&lt;br&gt; object GetInstance(Type serviceType, string key);&lt;br&gt; IEnumerable&lt;object&gt; GetAllInstances(Type serviceType);&lt;br&gt; TService GetInstance
   &lt;tservice&gt;
    ();
    &lt;br&gt; TService GetInstance
    &lt;tservice&gt;
     (string key);
     &lt;br&gt; IEnumerable
     &lt;tservice&gt;
       GetAllInstances
      &lt;tservice&gt;
       ();
       &lt;br&gt;}
       &lt;br&gt;
       &lt;br&gt;
       &lt;p&gt;&lt;/p&gt;
       &lt;p&gt;One of the fears I had in participating in this project was that it would promote the approach of Service Location/Dependency Pull over Dependency Injection. I’m glad to see blogs entries like &lt;a href=&quot;http://ayende.com/Blog/archive/2008/10/02/the-common-service-locator-library.aspx&quot;&gt;Ayende’s&lt;/a&gt; and (more forcefully) &lt;a href=&quot;http://www.clariusconsulting.net/blogs/kzu/archive/2008/10/03/WhatisallthefuzzaboutthenewcommonIServiceLocator.aspx&quot;&gt;Daniel Cuzzulino’s&lt;/a&gt; that put this library in the proper perspective. &lt;/p&gt;
       &lt;p&gt;The intention of this library is primarily for low-level integration between application frameworks. It has a role in business code only as a last resort when you need to ask a container to provide you with a new object instance at runtime that takes advantage of additional container services such as configuration via dependency injection or applying AOP advice. &lt;a href=&quot;http://www.springframework.net/doc-latest/reference/html/web.html#web-di&quot;&gt;WebForms&lt;/a&gt;, &lt;a href=&quot;http://www.springframework.net/doc-latest/reference/html/wcf.html#wcf-di&quot;&gt;WCF Services&lt;/a&gt;, and ‘traditional’ server-side objects created at application startup (DAOs, etc) can all be configured non-invasively using dependency injection. &lt;/p&gt;
       &lt;p&gt;If you find yourself frequently using the service locator approach in your application you should consider refactoring the code to use dependency injection. Not only will you remove an extraneous dependency, always a good thing, but you will get the additional benefit of making your class easier to unit test in isolation of the container as its dependencies will be exposed via standard properties and constructors.&lt;/p&gt;
       &lt;p&gt;One alternative approach, used in Spring Java but not yet implemented in Spring.NET is to provide a &lt;a href=&quot;http://static.springframework.org/spring/docs/1.2.x/api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html&quot;&gt;ServiceLocatorFactoryObject&lt;/a&gt;, described by my colleague Alef Arendsen &lt;a href=&quot;http://blog.arendsen.net/index.php/2006/10/05/on-the-servicelocatorfactorybean-dlas-and-the-sustainability-of-code-and-design/&quot;&gt;here&lt;/a&gt;. This allows you to write your own simple service locator interface, for example.&lt;/p&gt;
       &lt;p&gt;&lt;code lang=&quot;csharp&quot;&gt;public interface ProcessCreator {&lt;br&gt; Process CreateProcess(string processId);&lt;br&gt;}&lt;br&gt;&lt;/code&gt;&lt;/p&gt;
       &lt;p&gt;The container would provide the implementation dynamically at runtime. You can then use dependency injection to configure your class with a reference to ProcessCreator. The only service locator ‘API’ provided with &lt;a href=&quot;http://static.springframework.org/spring/docs/1.2.x/api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html&quot;&gt;ServiceLocatorFactoryObject &lt;/a&gt;are of methods with the signatures IMyService GetService() or IMyService GetService(string id) but others could be envisioned.&lt;/p&gt;
      &lt;/tservice&gt;
     &lt;/tservice&gt;
    &lt;/tservice&gt;
   &lt;/tservice&gt;&lt;/object&gt;&lt;/code&gt;&lt;/p&gt;
" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/5cffed9a3aad16d33d07f6e7ef2ebbb7?s=200" />

<meta property="og:title" content="The Common Service Locator library" />
<meta property="og:image" content="https://gravatar.com/avatar/5cffed9a3aad16d33d07f6e7ef2ebbb7?s=200" />
<meta property="og:description" content="&lt;p&gt;The &lt;a href=&quot;http://www.codeplex.com/CommonServiceLocator&quot;&gt;CommonServiceLocator&lt;/a&gt; project was released this week on CodePlex with the general idea of providing an IoC container agnostic API for resolving dependencies using Service Location. Erich Eichinger from SpringSource contributed the Spring.NET implementation, thanks Erich! &lt;/p&gt;
&lt;p&gt;Here is the API so you get the basic idea&lt;br&gt;&lt;code lang=&quot;csharp&quot;&gt;public interface IServiceLocator : System.IServiceProvider {&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code lang=&quot;csharp&quot;&gt;object GetInstance(Type serviceType);&lt;br&gt; object GetInstance(Type serviceType, string key);&lt;br&gt; IEnumerable&lt;object&gt; GetAllInstances(Type serviceType);&lt;br&gt; TService GetInstance
   &lt;tservice&gt;
    ();
    &lt;br&gt; TService GetInstance
    &lt;tservice&gt;
     (string key);
     &lt;br&gt; IEnumerable
     &lt;tservice&gt;
       GetAllInstances
      &lt;tservice&gt;
       ();
       &lt;br&gt;}
       &lt;br&gt;
       &lt;br&gt;
       &lt;p&gt;&lt;/p&gt;
       &lt;p&gt;One of the fears I had in participating in this project was that it would promote the approach of Service Location/Dependency Pull over Dependency Injection. I’m glad to see blogs entries like &lt;a href=&quot;http://ayende.com/Blog/archive/2008/10/02/the-common-service-locator-library.aspx&quot;&gt;Ayende’s&lt;/a&gt; and (more forcefully) &lt;a href=&quot;http://www.clariusconsulting.net/blogs/kzu/archive/2008/10/03/WhatisallthefuzzaboutthenewcommonIServiceLocator.aspx&quot;&gt;Daniel Cuzzulino’s&lt;/a&gt; that put this library in the proper perspective. &lt;/p&gt;
       &lt;p&gt;The intention of this library is primarily for low-level integration between application frameworks. It has a role in business code only as a last resort when you need to ask a container to provide you with a new object instance at runtime that takes advantage of additional container services such as configuration via dependency injection or applying AOP advice. &lt;a href=&quot;http://www.springframework.net/doc-latest/reference/html/web.html#web-di&quot;&gt;WebForms&lt;/a&gt;, &lt;a href=&quot;http://www.springframework.net/doc-latest/reference/html/wcf.html#wcf-di&quot;&gt;WCF Services&lt;/a&gt;, and ‘traditional’ server-side objects created at application startup (DAOs, etc) can all be configured non-invasively using dependency injection. &lt;/p&gt;
       &lt;p&gt;If you find yourself frequently using the service locator approach in your application you should consider refactoring the code to use dependency injection. Not only will you remove an extraneous dependency, always a good thing, but you will get the additional benefit of making your class easier to unit test in isolation of the container as its dependencies will be exposed via standard properties and constructors.&lt;/p&gt;
       &lt;p&gt;One alternative approach, used in Spring Java but not yet implemented in Spring.NET is to provide a &lt;a href=&quot;http://static.springframework.org/spring/docs/1.2.x/api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html&quot;&gt;ServiceLocatorFactoryObject&lt;/a&gt;, described by my colleague Alef Arendsen &lt;a href=&quot;http://blog.arendsen.net/index.php/2006/10/05/on-the-servicelocatorfactorybean-dlas-and-the-sustainability-of-code-and-design/&quot;&gt;here&lt;/a&gt;. This allows you to write your own simple service locator interface, for example.&lt;/p&gt;
       &lt;p&gt;&lt;code lang=&quot;csharp&quot;&gt;public interface ProcessCreator {&lt;br&gt; Process CreateProcess(string processId);&lt;br&gt;}&lt;br&gt;&lt;/code&gt;&lt;/p&gt;
       &lt;p&gt;The container would provide the implementation dynamically at runtime. You can then use dependency injection to configure your class with a reference to ProcessCreator. The only service locator ‘API’ provided with &lt;a href=&quot;http://static.springframework.org/spring/docs/1.2.x/api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html&quot;&gt;ServiceLocatorFactoryObject &lt;/a&gt;are of methods with the signatures IMyService GetService() or IMyService GetService(string id) but others could be envisioned.&lt;/p&gt;
      &lt;/tservice&gt;
     &lt;/tservice&gt;
    &lt;/tservice&gt;
   &lt;/tservice&gt;&lt;/object&gt;&lt;/code&gt;&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2008-10-03 19:19:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">The Common Service Locator library</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/5cffed9a3aad16d33d07f6e7ef2ebbb7?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/mpollack">Mark Pollack</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2008-10-03 19:19:00.0">October 03, 2008</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="179" href="/blog/2008/10/03/the-common-service-locator-library#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>The <a href="https://www.codeplex.com/CommonServiceLocator">CommonServiceLocator</a> project was released this week on CodePlex with the general idea of providing an IoC container agnostic API for resolving dependencies using Service Location. Erich Eichinger from SpringSource contributed the Spring.NET implementation, thanks Erich! </p><p>Here is the API so you get the basic idea<br /><code lang="csharp">public interface IServiceLocator : System.IServiceProvider {</p><p>object GetInstance(Type serviceType);<br /> object GetInstance(Type serviceType, string key);<br /> IEnumerable<object> GetAllInstances(Type serviceType);<br /> TService GetInstance<TService>();<br /> TService GetInstance<TService>(string key);<br /> IEnumerable<TService> GetAllInstances<TService>();<br />}<br /></code><br /></pre></p><p>One of the fears I had in participating in this project was that it would promote the approach of Service Location/Dependency Pull over Dependency Injection. I’m glad to see blogs entries like <a href="http://ayende.com/Blog/archive/2008/10/02/the-common-service-locator-library.aspx">Ayende’s</a> and (more forcefully) <a href="http://www.clariusconsulting.net/blogs/kzu/archive/2008/10/03/WhatisallthefuzzaboutthenewcommonIServiceLocator.aspx">Daniel Cuzzulino’s</a> that put this library in the proper perspective. </p><p>The intention of this library is primarily for low-level integration between application frameworks. It has a role in business code only as a last resort when you need to ask a container to provide you with a new object instance at runtime that takes advantage of additional container services such as configuration via dependency injection or applying AOP advice. <a href="http://www.springframework.net/doc-latest/reference/html/web.html#web-di">WebForms</a>, <a href="http://www.springframework.net/doc-latest/reference/html/wcf.html#wcf-di">WCF Services</a>, and ‘traditional’ server-side objects created at application startup (DAOs, etc) can all be configured non-invasively using dependency injection. </p><p>If you find yourself frequently using the service locator approach in your application you should consider refactoring the code to use dependency injection. Not only will you remove an extraneous dependency, always a good thing, but you will get the additional benefit of making your class easier to unit test in isolation of the container as its dependencies will be exposed via standard properties and constructors.</p><p>One alternative approach, used in Spring Java but not yet implemented in Spring.NET is to provide a <a href="http://static.springframework.org/spring/docs/1.2.x/api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html">ServiceLocatorFactoryObject</a>, described by my colleague Alef Arendsen <a href="http://blog.arendsen.net/index.php/2006/10/05/on-the-servicelocatorfactorybean-dlas-and-the-sustainability-of-code-and-design/">here</a>. This allows you to write your own simple service locator interface, for example.</p><p><code lang="csharp">public interface ProcessCreator {<br /> Process CreateProcess(string processId);<br />}<br /></code></p><p>The container would provide the implementation dynamically at runtime. You can then use dependency injection to configure your class with a reference to ProcessCreator. The only service locator &lsquo;API&rsquo; provided with <a href="http://static.springframework.org/spring/docs/1.2.x/api/org/springframework/beans/factory/config/ServiceLocatorFactoryBean.html">ServiceLocatorFactoryObject </a>are of methods with the signatures IMyService GetService() or IMyService GetService(string id) but others could be envisioned.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 179;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
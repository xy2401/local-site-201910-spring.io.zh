<html  data-code-prettify="" data-mobile-support="" data-search=""><head></head><body >﻿
<title>在SpringSource DM Server中部署GWT应用程序-第1部分</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Deploying GWT Applications in SpringSource dm Server - Part 1">
<meta name="twitter:description" >
<meta property="og:title" content="Deploying GWT Applications in SpringSource dm Server - Part 1">
<meta property="og:description" >
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2008-11-07 16:29:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">在SpringSource DM Server中部署GWT应用程序-第1部分</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="null?s=20&d=mm"> <span class="author">本·科里</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2008-11-07 16:29:00.0">2008年11月7日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2008/11/07/deploying-gwt-applications-in-springsource-dm-server-part-1#disqus_thread" data-disqus-identifier="184">
</a></div>
</div>
</header>
<div class="blog--post"><h2>介绍</h2><p>这是一个由3个博客组成的系列博客，描述了在<a href="http://www.springsource.com/products/suite/dmserver" target="_blank">SpringSource dm Server™中</a>构建和部署GWT应用程序的分步方法。博客的重点如下：<br></p><ol><br> <li>使用<a href="http://www.springsource.com/products/suite/sts" target="_blank">SpringSource Tool Suite</a>从头开始构建GWT <a href="https://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=GettingStarted" target="_blank">StockWatcher</a>示例应用程序并将其作为dm Server中的WAR文件进行部署。</li><br> <li>使用<a href="http://static.springsource.com/projects/dm-server/1.0.x/programmer-guide/htmlsingle/programmer-guide.html#architecture-wars" target="_blank">“共享库”</a>方法进行部署：如何从WAR中删除GWT依赖项并将它们作为OSGi捆绑软件部署在dm Server中。</li><br> <li>使用<a href="http://static.springsource.com/projects/dm-server/1.0.x/programmer-guide/htmlsingle/programmer-guide.html#architecture-wars" target="_blank">“共享服务”</a>方法进行部署：我们将单个WAR文件转换为OSGi服务，该服务可以由其他应用程序共享并热交换。</li><br></ol><br>值得注意的是，在前两个博客中，我没有在任何地方使用<a href="http://www.springframework.org" target="_blank">Spring Framework</a> 。Spring和GWT之间的集成本身就是一个主题，我想尝试使每个Blog尽可能集中。在第三个博客中，我将展示如何使用Spring发布和使用OSGi服务以及如何将其与GWT集成。<br><h2>背景</h2><br>该博客将采用一种实用的逐步方法来构建<a href="https://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=GettingStarted" target="_blank">此处</a>描述的GWT StockWatcher示例。Google教程将引导您完成使用RPC从头开始构建GWT示例所需的步骤。我将在本教程中参考教程中的页面，并讨论各种方法的优点/缺点。<p></p><p>该博客假定您已经安装了<a href="http://www.springsource.com/products/suite/sts" target="_blank">SpringSource Tool Suite 1.1.1</a> （我正在使用Eclipse 3.4版本）， <a href="http://www.springsource.com/products/suite/dmserver" target="_blank">dm Server 1.0.0</a>和<a href="https://code.google.com/webtoolkit/download.html" target="_blank">GWT 1.5</a> 。它还假定您对Java编程有充分的了解，并且对Javascript和Ajax有基本的了解。</p><p>为了演示中使用的路径，我在<tt>/ Users / bcorrie / gwt / workspace</tt>创建了一个新的Eclipse工作<tt>区</tt> 。我包含了可以在下面下载的压缩项目，其中包含我定义的<tt>GWT_ROOT_INSTALL</tt>变量。要使用我的项目，在导入它们时，导航到“首选项”->“ Java”->“构建路径”->“类路径变量”，并定义自己的<tt>GWT_ROOT_INSTALL</tt> 。<br></p><h2>步骤1：建立新的GWT专案</h2><br>创建一个GWT的Eclipse项目最简单的方法是目前使用提供的GWT分布命令行工具：描述<tt>projectCreator</tt>和<tt>applicationCreator，</tt>与<tt>-eclipse</tt>参数<a href="https://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=GettingStartedCreateProject" target="_blank">这里</a> 。这些命令行工具创建了一个简单的Java项目，框架项目文件，一个以宿主模式运行项目的运行配置，以及用于在Eclipse外部运行或编译项目的脚本。<p></p><p>这些工具的局限性在于它们对源代码的去向具有规定性。源代码必须是在一个名为<tt>/ src目录</tt>项目子目录，您的客户端代码必须在<tt>客户端</tt>结尾的软件包，并在<tt>服务器</tt>结尾的软件包您的服务器代码。无法将<tt>projectCreator</tt>和<tt>applicationCreator</tt>配置为执行其他操作，因为这通常是<tt>GWTShell</tt>和<tt>GWTCompiler</tt>期望代码所在的位置。稍后，我们将研究重组源代码和调整“运行配置”以使其更加灵活的一些方法。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/10/picture-12.png"><img class="alignnone size-full wp-image-534" title="创建Eclipse项目" src="http://blog.springsource.com/wp-content/uploads/2008/10/picture-12.png" alt=""></a></p><p>在命令行上创建项目后，将其导入STS。</p><p>使用“导入”->“常规”->“将现有项目导入工作区”。<br></p><h2>步骤2：浏览Google教程并开发Java源代码</h2><br>确保继续阅读<a href="https://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=GettingStartedBasics" target="_blank">“基础知识”</a> ，然后继续解决<a href="https://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=GettingStartedRPC" target="_blank">“使用远程过程调用”</a>部分。远程过程调用部分将确保您在Web服务器上运行股票价格更新代码，该代码每5秒动态更新一次网页。这给出了Ajax功能以及GWT在Java代码中抽象该行为的方式的简单但有力的演示。您应该以一个看起来像这样的项目结束：<p></p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/10/picture-11.png"><img class="alignnone size-full wp-image-529" title="Stockwatcher Eclipse项目" src="http://blog.springsource.com/wp-content/uploads/2008/10/picture-11.png" alt=""></a></p><p>如果您不想完成开发示例代码的过程，则可以<a href="http://blog.springsource.com/wp-content/uploads/2008/11/stockwatcherprojinitial.zip">在此处</a>下载我的初始项目的压缩副本。要与我的项目一起运行，您需要执行以下步骤：<br></p><p style="padding-left:30px">-解压缩并导入项目（“导入”->“将现有项目导入工作区”）<br>-如上文背景所述，定义<tt>GWT_ROOT_INSTALL</tt>变量<br>-修改<tt>随附的StockWatcher GWTShell.launch</tt>运行配置，或使用以下值创建一个新的配置：</p><p></p><p style="padding-left:60px">-右键单击StockWatcher项目->“运行方式”->“运行配置”<br>-对于“主类”，输入<tt>com.google.gwt.dev.GWTShell</tt><br>-在“程序参数”中，输入<tt>-out www com.google.gwt.sample.stockwatcher。StockWatcher / StockWatcher.html</tt><br>-仅在Mac OS X上的“ VM参数”中，输入<tt>-XstartOnFirstThread</tt><br>-在“类路径”->“用户条目”中：</p><p></p><p style="padding-left:90px">-添加<tt>gwt-dev- <os>.jar</os></tt> （例如<tt>gwt-dev-mac.jar</tt> ）<br>-使用“高级”->“添加文件夹”添加StockWatcher Project <tt>/ src</tt>文件夹<br></p><p style="padding-left:30px">请注意，将<tt>/ src</tt>文件夹添加到类路径是GWTShell的要求，因为它需要在Java类路径上具有元数据（例如.xml文件）。</p><p></p>
<h2>第3步：在托管模式下运行它-检查它是否有效！</h2><p>托管模式允许您在部署前以其“预编译” Java状态运行和调试GWT应用程序。<a href="https://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=DevGuideHostedMode" target="_blank">在此处</a>了解托管模式。重要的是要记住，StockWatcher应用程序的客户端类最终将被编译为javascript和html以部署在客户端上，并且服务器类将在服务器上以常规Java代码运行。令人困惑的是，某些客户端代码在服务器上既用作支持类，又在客户端上用作已编译的javascript。当我们稍后开始拆分项目时，这将变得更加清晰。</p><p>在选择了StockWatcher项目的情况下单击“运行”按钮，或者选择在步骤2中创建的运行配置。</p><p>还要注意，当您在托管模式下运行时， <tt>GWTShell</tt>会在项目中创建一个<tt>/ www</tt>输出文件夹以及一个<tt>/ tomcat</tt>文件夹，以配置嵌入式Tomcat。如果在测试后刷新StockWatcher项目，将会看到这些信息。<br></p><h2>步骤4：创建一个新的动态Web项目</h2><br>要创建WAR文件，我们需要一个Dynamic Web项目……但是我们已经有一个Java项目！那么，管理此需求的最明智的方法是什么？Google建议将编译后的代码生成到Eclipse Java项目中，然后将GWT编译器的输出和生成的.class文件剪切并粘贴到单独的WAR项目中。我的喜好是设置GWT编译器，以将部署的代码直接构建到WAR项目中，并将源代码拆分成两个项目，以便客户端代码在Java项目中，而服务器代码在WAR项目中。<p></p><p>那么，为什么不将所有内容复制到WAR项目并从那里运行呢？好吧，我认为维持两个独立的项目有意义的原因有很多：<br></p><p style="padding-left:30px">首先，您不希望托管模式将其<tt>/ www</tt>和<tt>/ tomcat</tt>文件夹生成到WAR项目中。</p><br><p style="padding-left:30px">其次，从托管模式项目到WAR项目中生成javascript和html的优点是可以使项目保持清洁并分离关注点。它消除了生成代码的重复，这可能导致版本混淆，特别是考虑到生成代码的混淆。</p><br><p style="padding-left:30px">第三，如步骤1所述， <tt>GWTShell</tt>和<tt>GWTCompiler</tt>要求您的源代码位于一个名为<tt>/ src</tt>的子目录中。这限制了您的WAR项目与Maven和Ant之类的工具集成的便捷性。</p><br><p style="padding-left:30px">最后，它还允许分隔Java代码，这样就不会将冗余客户端代码复制到WAR文件中。</p><p></p><p>尽管这似乎是不必要的额外努力，但是随着我们采用不同的方法，您会发现为什么尽早分解代码可以使以后更轻松地将其部署为共享服务。</p><p>因此，让我们创建一个新的Dynamic Web项目，同时创建dm Server的Server实例。</p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/10/picture-2.png"><img class="alignnone size-full wp-image-536" title="创建一个动态Web项目" src="http://blog.springsource.com/wp-content/uploads/2008/10/picture-2.png" alt=""></a></p><p>如果工作空间中尚未包含dm Server实例，则需要单击“目标运行时”文本字段旁边的“新建”按钮，然后选择“创建新的本地服务器”。请注意，我还分别为“ Java Source Directory”和“ Content Directory”选择了<tt>src / main / java</tt>和<tt>src / main / webapp</tt> 。您可以使用默认值，但是建议使用这些路径，因为它们可以与Maven等构建工具很好地集成。</p><p>接下来，我们将在两个项目之间拆分Java代码：<br></p><p style="padding-left:30px">请注意，如果仅要将GWT代码导出为原始WAR文件，则此代码划分不是必需的。最简单的实现方法是将Java项目创建为WAR项目的Java EE依赖关系，而Eclipse会将Java项目转换为JAR文件，并将其添加到WAR中的WEB-INF / lib中。但是，这种方法的问题在于，您会将多余的客户端代码打包到WAR中，这使得以后将应用程序拆分为服务变得更加困难。</p><p></p><p>因此，我们在项目中有3种Java代码：仅编译为javascript和html的代码，仅在服务器端的代码以及同时支持这两种目的的代码。将最后两种类型的代码移入我们的WAR项目是有意义的。将我们的“通用”类（客户端和服务器使用的那些）放入单独的程序包中也是有意义的（再次，在博客3中对此需求将变得更加清楚），我们将其称为<tt>com ... client.api</tt> 。最后，GWT要求我们的Async接口与RemoteService接口位于同一程序包中，因此<tt>请将其</tt>重构为<tt>com…client.api</tt>程序包。一旦完成，它应该是这样的：</p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/11/picture-2c.png"><img class="alignnone size-full wp-image-689" title="重组WAR项目" src="http://blog.springsource.com/wp-content/uploads/2008/11/picture-2c.png" alt=""></a></p><p>分解代码的最后一件事是将StockWatcherWar项目添加到StockWatcher项目的构建路径，以便它可以访问<tt>com…client.api</tt>包中的类（属性-> Java构建路径->项目- >添加...）。</p><p>如果愿意，可以通过下载我两个完成的项目的压缩文件以及<a href="http://blog.springsource.com/wp-content/uploads/2008/11/stockwatcherwarproj.zip">此处</a>的各种“运行配置”来跳过所有这些繁琐的工作（有关导入和设置的说明，请参见步骤2和背景）。如果您的工作区干净，则需要创建dm Server运行时的实例（新建->服务器-> SpringSource…），并且可能需要在“属性”->“目标运行时间”，因为它可能与我的不匹配。<br></p><h2>步骤5：配置GWTCompiler以将客户端代码生成到WAR项目中</h2><br>我们需要设置GWT编译器，以将代码从StockWatcher项目生成到StockWatcherWar项目。这实际上与在步骤2中设置GWTShell的过程相同。在步骤4中修改项目zip随附的<tt>StockWatcher GWTCompiler.launch</tt>脚本，或使用以下值创建一个新脚本：<br><p style="padding-left:30px">-右键单击StockWatcher项目->“运行方式”->“运行配置”，然后创建一个新配置<br>-对于“主类”，输入<tt>com.google.gwt.dev.GWTCompiler</tt><br>-在“程序参数”中，输入<tt>-out <em><path to="" your="" workspace=""></path></em> / StockWatcherWar / src / main / webapp com.google.gwt.sample.stockwatcher。股票观察家</tt><br>-仅在Mac OS X上的“ VM参数”中，输入<tt>-XstartOnFirstThread</tt><br>-在“类路径”->“用户条目”中：</p><p></p><p style="padding-left:60px">-添加<tt>gwt-dev- <os>.jar</os></tt> （例如<tt>gwt-dev-mac.jar</tt> ）<br>-使用“高级”->“添加文件夹”，添加StockWatcher Project <tt>/ src</tt>文件夹和StockWatcherWar <tt>/ src / main / java</tt>文件夹<br></p><p style="padding-left:30px">注意，将源文件夹添加到类路径是Google编译器的要求。</p><p></p><p>现在，运行刚刚创建的编译器配置，并刷新StockWatcherWar项目以查看生成的文件。您应该会看到以下内容：</p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/11/picture-3c.png"><img class="alignnone size-full wp-image-690" title="将代码生成到StockWatcherWar中" src="http://blog.springsource.com/wp-content/uploads/2008/11/picture-3c.png" alt=""></a><br></p><h2>步骤6：配置WAR项目</h2><br>您会注意到，Google编译器将输出生成到2个文件夹中，以反映GWT项目的名称。编译器假定目标文件夹将与源文件夹相同，并且无法对其进行配置，因此您必须将生成的文件拖到<tt>src / main / webapp</tt>文件夹中，然后删除2个Google目录。实际上，这是Google自己推荐您在<a href="https://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=DevGuideRPCDeployment" target="_blank">这里进行的操作</a> 。<p></p><p>接下来，我们需要将所需的依赖项添加到我们的项目中。<br></p><p style="padding-left:30px">-添加Web模块依赖项<tt>gwt-servlet.jar</tt> （“属性”->“ Java EE模块依赖项”->“添加外部Jar”）。请注意，此模块取决于<tt>javax.servlet</tt> API。<br>-按照Google的说明修改<tt>web.xml</tt>文件。还值得将<tt>StockWatcher.html</tt>添加到<tt><welcome-file-list></welcome-file-list></tt>使其在部署时自动显示（尽管在Eclipse中进行部署时这种方法并不总是有效，因为通常在完全初始化服务器之前打开浏览器窗口）。</p><p>如果您遇到问题，请查看我从第4步开始的压缩项目。<br></p><h2>步骤7：在STS中部署到dm服务器</h2><br>现在，我们已经创建了闪亮的新WAR项目，让我们将其部署到STS内的dm Server中。只需右键单击StockWatcherWar项目，然后选择“运行方式”->“在服务器上运行”。如果欢迎页面没有自动出现，请刷新页面或将<tt>/StockWatcher.html</tt>手动添加到URL。<p></p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/11/picture-4c.png"><img class="alignnone size-full wp-image-694" title="在STS中部署了StockWatcher" src="http://blog.springsource.com/wp-content/uploads/2008/11/picture-4c.png" alt="" width="857" height="573"></a></p><p>一旦WAR项目成功运行，就可以配置托管模式以将dm Server用作其服务器，而不是其嵌入式Tomcat。为此，您所需要做的就是修改<tt>GWTShell</tt>的“运行配置”，并将“程序参数”更改为<tt>-noserver -out www <a href="http://localhost:8080/StockWatcherWar/">http：// localhost：8080 / StockWatcherWar /</a></tt> 。这使您可以快速测试客户端更改。服务器端的更改会自动重新部署到运行中的服务器。真好！<br></p><p style="padding-left:30px">值得一提的是，如果要使用我提倡的设置在嵌入式Tomcat托管模式下运行，则需要在WAR项目的属性中临时取消选择dm Server作为“目标运行时”。这是因为将StockWatcherWar添加到StockWatcher的构建路径还会拉入dm Server运行时程序包（例如<tt>javax.servlet</tt> ），这会弄乱<tt>GWTShell</tt>的构建路径。</p><p></p><p>假设这可行，现在让我们打包WAR并将其部署到工具之外。<br></p><h2>步骤8：在STS外部导出和部署</h2><br>首先，我们需要将项目导出为WAR文件。通过右键单击StockWatcherWar->“导出”->“ Web”->“ WAR文件”可以实现此目的。如果您想知道“覆盖现有文件”复选框在哪里，那是因为似乎有一个Eclipse错误会将其隐藏，直到您调整“ WAR导出”对话框的大小为止。您可以<a href="http://blog.springsource.com/wp-content/uploads/2008/11/stockwatcherwar.zip">在此处</a>下载导出的WAR（请注意已将其压缩）。<p></p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/10/picture-8.png"><img class="alignnone size-full wp-image-544" title="导出战争" src="http://blog.springsource.com/wp-content/uploads/2008/10/picture-8.png" alt=""></a></p><p>导出WAR后，我们需要在STS外部启动dm服务器。</p><p>首先，请确保STS dm Server已停止，否则它们将在端口之间发生冲突。然后，在命令行上运行dm Server启动脚本。就我而言，这是<tt>bin / startup.sh</tt> 。您可以添加<tt>-clean</tt>选项，以确保从干净的安装开始。您应该看到以下消息：</p><p><tt>[2008-10-27 14：14：44.468] server-dm-10 <sppm0002i>服务器以配置文件“ web”开始营业。</sppm0002i></tt></p><p>成功启动后，请使用以下网址在网络浏览器中打开管理控制台：</p><p><tt><a href="http://localhost:8080/admin/web/applications/list.htm">http：// localhost：8080 / admin / web / applications / list.htm</a></tt></p><p>默认的用户名为<tt>admin</tt> ，密码为<tt>springsource</tt> 。有关运行和配置dm Server的更多详细信息，请参见《 <a href="http://static.springsource.com/projects/dm-server/1.0.x/user-guide/html/" target="_blank">用户指南》</a> 。</p><p>现在，您应该看到以下内容：</p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/10/picture-10.png"><img class="alignnone size-full wp-image-545" title="上载WAR" src="http://blog.springsource.com/wp-content/uploads/2008/10/picture-10.png" alt=""></a></p><p>在“应用程序位置”文本字段中浏览导出的WAR文件，然后单击上载。这将上传并部署WAR文件，然后将其显示在“已部署的应用程序”中：</p><p><a href="http://blog.springsource.com/wp-content/uploads/2008/10/picture-111.png"><img class="alignnone size-full wp-image-546" title="部署的应用程序" src="http://blog.springsource.com/wp-content/uploads/2008/10/picture-111.png" alt=""></a></p><p>在终端输出中，您应该看到以下消息：</p><p><tt>[2008-10-27 14：07：44.380] server-tomcat-thread-5 <spsc1000i>创建Web应用程序“ / StockWatcherWar”。<br>[2008-10-27 14：07：44.396] async-delivery-thread-1 <spsc1001i>启动Web应用程序“ / StockWatcherWar”。<br>[2008-10-27 14：07：44.684] server-tomcat-thread- <spde0010i>5'StockWatcherWar.war'版本'0'的部署完成。</spde0010i></spsc1001i></spsc1000i></tt></p><p>最后，剩下要做的就是单击上面显示的<tt>/ StockWatcherWar</tt>链接，您现在正在使用GWT应用程序！<br></p><h2>期待第二部分</h2><br>在下一个博客中，我们将研究如何利用dm Server的OSGi功能从WAR中提取GWT依赖项并将它们变成一个包，该包可以由服务器中运行的所有GWT应用程序共享。我们还将在幕后花些时间看一下OSGi捆绑包之间的相互作用。<p></p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 184;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
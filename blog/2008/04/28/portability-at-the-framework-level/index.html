<html  data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>框架级别的可移植性</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Portability at the Framework Level">
<meta name="twitter:description" content="<p>Portability is a key factor in the Spring universe. We believe in portability at the framework level: Application components are written against a specific framework (or framework generation), such as Spring 2.5; the framework is then in turn responsible for adapting onto any underlying hosting environment. However, the specific application framework is above and distinct from the hosting environment. A brand-new framework version may be deployed onto an established generation of the hosting platform, as long as the fundamental capabilities of the environment are sufficient. This approach differs significantly from the traditional approach of baking component frameworks into the deployment platform itself, where the environment supports a specific version of the framework only - and an intended update of the framework requires an update of the entire platform.</p>
">
<meta name="twitter:creator" content="@springjuergen">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/ba9686d8c567aabedc1b7f8b6a7fb3d6?s=200">

<meta property="og:title" content="Portability at the Framework Level">
<meta property="og:image" content="https://gravatar.com/avatar/ba9686d8c567aabedc1b7f8b6a7fb3d6?s=200">
<meta property="og:description" content="<p>Portability is a key factor in the Spring universe. We believe in portability at the framework level: Application components are written against a specific framework (or framework generation), such as Spring 2.5; the framework is then in turn responsible for adapting onto any underlying hosting environment. However, the specific application framework is above and distinct from the hosting environment. A brand-new framework version may be deployed onto an established generation of the hosting platform, as long as the fundamental capabilities of the environment are sufficient. This approach differs significantly from the traditional approach of baking component frameworks into the deployment platform itself, where the environment supports a specific version of the framework only - and an intended update of the framework requires an update of the entire platform.</p>
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2008-04-28 15:11:00.0">
</head>
<body >

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">框架级别的可移植性</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/ba9686d8c567aabedc1b7f8b6a7fb3d6?s=20&d=mm"> <a class="author" rel="author" href="/team/jhoeller">于尔根·霍勒（Juergen Hoeller）</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2008-04-28 15:11:00.0">2008年4月28日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2008/04/28/portability-at-the-framework-level#disqus_thread" data-disqus-identifier="151">
</a></div>
</div>
</header>
<div class="blog--post"><p>可移植性是Spring宇宙中的关键因素。我们相信框架级别的可移植性：应用程序组件是针对特定框架（或框架生成）编写的，例如Spring 2.5；然后，该框架负责适应任何底层托管环境。但是，特定的应用程序框架高于托管环境，并且与托管环境不同。只要环境的基本功能足够，就可以将全新的框架版本部署到已建立的托管平台上。此方法与将组件框架烘烤到部署平台本身的传统方法有很大不同，在传统部署方法中，环境仅支持特定版本的框架-框架的预期更新需要整个平台的更新。</p><p>当前的Spring Framework版本2.5具有对广泛部署环境的显式支持。通用的Spring编程模型适用于所有这些平台，应用程序代码通常仅引用通用框架API和特定的第三方API。当然，实际的运行时功能差异很大，因此适用于您的应用程序组件的实际服务也可能有所不同。以下是典型的托管环境列表：</p>
<h2>J2EE 1.3应用程序服务器</h2><p>Spring 2.5仍尽可能地支持J2EE 1.3服务器（例如WebSphere 5.1和WebLogic 8.1）。由于这些服务器通常在JDK 1.4上运行，因此显然不支持注释支持和其他Java 5+好东西。但是，基本的Spring编程模型和所有围绕Spring 2.5的支持都完全可用，许多流行的第三方库都提供了现成的Spring集成代码（例如Hibernate 3.2，Quartz 1.6）。</p><p>与服务器设施（例如Servlet 2.3容器，JTA子系统，服务器提供的JDBC和JMS资源等）的紧密集成非常简单。这可以通过相应的配置轻松实现，而应用程序组件则通过Spring的依赖项注入和AOP功能进行透明连接。例如，消息监听器可以作为Spring Bean进行管理。相应的配置考虑到J2EE 1.3服务器上的JMS版本限制为1.0.2，因此进行了相应的调整。</p>
<h2>J2EE 1.4应用服务器</h2><p>目前，Spring应用程序的主流部署环境是J2EE 1.4服务器，这仅仅是因为J2EE 1.4产品的广泛可用性。许多这样的服务器（例如WebSphere 6.1和WebLogic 9.2）都在JDK 1.5上运行，因此Spring的Java注释支持的全部功能和灵活性在这些平台上都是可用的-即使这些服务器的本机API和组件模型不提供专用的Java 5支持。当然，如果服务器平台仅限于JDK 1.4（例如在WebSphere 6.0上），那么Spring也仅限于JDK 1.4-幸运的是，仍然有很多东西可以使用。</p><p>Spring 2.5为J2EE 1.4 API和通用服务器扩展提供了深入的支持。这包括Servlet 2.4，JSP 2.0和JAX-RPC 1.1以及JMS 1.1和JCA 1.5。Spring的JMX支持与服务器环境中提供的JMX支持的J2EE 1.4配合也非常好-可以通过Spring 2.5的“ <context:mbean-export>”元素轻松配置<context:mbean-export>。Spring可以通过“ <tx:jta-transaction-manager>”元素自动检测特定服务器的JTA功能<tx:jta-transaction-manager>。如果适用，这包括对WebSphere的UOWManager API和WebLogic的JTA扩展的自动支持。作为进一步的通用扩展，Spring可以委托给CommonJ WorkManager（在WebSphere和WebLogic上）或JCA WorkManager（在GlassFish和JBoss上），以便由托管环境管理异步任务，并在服务器的环境中配置相应的线程池。安慰。</tx:jta-transaction-manager></tx:jta-transaction-manager></context:mbean-export></context:mbean-export></p>
<h2>Java EE 5应用服务器</h2><p>Spring Framework 2.5版本背后的中心主题是对Java EE 5 API的全面支持。 Spring 2.0已经提供了对Java Persistence API（JPA）的全面支持。从Spring 2.5开始，通过添加JAX-WS支持（在“ remoting.jaxws”包中），对EJB 3访问的显式支持（通过“ <jee:local-slsb>”和“ <jee:remote-slsb>”透明<jee:local-slsb><jee:remote-slsb>）以及对JTA 1.1的支持（由“ <tx:jta-transaction-manager>”）以及对JSF 1.2的支持（通过SpringBeanFacesELResolver）。此外，Spring在Spring托管的Bean组件中提供了对JSR-250通用注释以及通用JAX-WS，JPA和EJB 3注释的支持（通过“ <context:annotation-config></context:annotation-config> ”）；这与对JSF 1.2托管Bean和EJB 3会话Bean中的那些注释的支持一致。</tx:jta-transaction-manager></jee:remote-slsb></jee:local-slsb></jee:remote-slsb></jee:local-slsb></p><p>在Spring用户中流行的主要Java EE 5产品是Sun的GlassFish V2-已经存在了两年。最近，WebLogic 10和Geronimo 2.0加入了经过完全认证的Java EE 5服务器组，这些服务器的前几代（兼容J2EE 1.4）仍然很受欢迎。Spring 2.5还支持J2EE 1.4服务器，并早期支持特定的Java EE 5 API：例如，具有JAXB / JAX-WS和JPA / EJB3功能包的WebSphere 6.1，以及具有JPA / EJB3支持的JBoss 4.2。</p>
<h2>Servlet容器又名Web应用程序服务器</h2><p>对于Spring，最常见的部署环境是Tomcat，通常是5.5或6.0代。码头证明也很受欢迎，Caucho的树脂也是如此。这些产品的最新一代支持Servlet 2.5和JSP 2.1，即Web容器规范的Java EE 5级别。Spring 2.5可以在所有这些servlet容器上愉快地运行，从而在每个Java EE Web应用程序（WAR文件）中提供完整的应用程序容器服务。</p><p>在这种环境中，典型的设置选择包括本机JDBC事务和本机Java 5线程池。但是，Spring（作为它的开放框架）还支持嵌入专用的JTA事务协调器产品（例如Atomikos或Geronimo Transaction Manager）或任何其他第三方中间件。此外，Spring在这种环境中提供了完整的JPA容器支持，从而允许在普通servlet容器中提供“ Java EE级别” JPA支持。</p><p>Servlet容器通常允许对底层JVM进行完全控制。可以在这样的容器上的Spring环境中利用此功能，例如，通过无限使用AspectJ加载时编织（在传统Java EE环境中面临限制）或选择Java 6（而大多数Java EE服务器限于Java 5平台）。请注意，Spring 2.5明确支持Java 6环境，从而允许使用JMX MXBean，JDBC 4.0，JAX-WS 2.1等！</p>
<h2>自定义环境-普通或基于OSGi</h2><p>除了面向Java EE的环境外，Spring还非常适合基于Java的自定义环境。这包括从命令行引导的普通JVM，可能与公司管理基础结构集成在一起。这种“简单”的过程通常用于在后台运行的无头系统，例如消息处理主干。Spring为此类环境提供了全面的框架服务，包括组件生命周期管理，声明式事务和消息侦听器管理。尽管这种架构并不经常被讨论，但是以这种方式实现了大型企业核心的一些非常有趣的系统。</p><p>近年来，OSGi越来越成为此类环境的明显选择。OSGi提供了基础部署和运行时服务，这些服务非常适合模块化企业系统的需求。在这种情况下，Spring会管理每个OSGi捆绑包内的应用程序组件，而OSGi平台则提供对所有已部署捆绑包的整体管理。随着即将推出的Spring Dynamic Modules 1.1的出现，即使是基于OSGi的Web应用程序场景也变得与主流使用一样简单明了。OSGi上的Spring是一个非常有前途的组合，它才刚刚开始展示其功能的广度和深度！</p>
<h2>在任何类型的部署环境中都是相同的模型</h2><p>Spring本质上将其通用编程模型带入了任何一种基于Java的部署环境-实际上，不仅是<em>编程模型，</em>而且是全面的<em>配置模型</em> 。该通用框架不限于“合规”托管环境；它也可以部署到现有平台上-最初从未期望支持此特定框架（或实际上是任何特定框架）的运行时平台。Spring重新定义了“组件可移植性”的概念，以跨越比Java EE曾经打算（并将要实现的）更多的托管环境，组件模型和中央框架服务完全独立于特定的托管环境和特定的部署单元。</p><p>这种安排的一个重要好处是，它允许框架和托管环境独立发展-特别是可以将全新的框架版本部署到已建立的托管环境中。Spring专注于应用程序组件和配置便利性；托管环境专注于部署单元和共享服务的通用管理。如果这样的部署平台已经恰好集成到您的公司环境中，则您可以在保留投资的同时仍充分利用最新的应用程序框架创新…另一方面，如果出现了有关部署平台的新创新，Spring可以您可以立即利用那些无需对编程模型进行根本更改的功能。</p><p>即使在不同的部署模型之间进行切换，在不同的宿主环境之间切换也应<em>尽可能少地影响应用程序组件和应用程序配置</em> 。这是Spring愿景的核心要素，我们比以往任何时候都更加致力于实现这一承诺！从传统的J2EE服务器到基于OSGi的部署环境-Spring框架为所有这些环境带来了很多共性，同时与相关平台服务进行了深度集成，以从您选择的特定环境中获得最大的收益。无论您在哪个平台上运行-您都可以肯定可以使用Spring框架！</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 151;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
<html dir="ltr" data-code-prettify="" data-mobile-support="" data-search=""><head>
<title>Spring Integration：Spring产品组合的新成员</title>
<meta id="Viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no">
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png">
<link href="asset?aid=0" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css">
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>System.config({baseURL: "/b92013b"});</script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>System.import('app/main.js')</script>
<meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@springcentral">
<meta name="twitter:title" content="Spring Integration: a new addition to the Spring portfolio">
<meta name="twitter:description" content="<p>Yesterday morning I presented a 2-part session at <a href=" http:="" ="" www.thespringexperience.co="=" _blan=""></head><body dir="ltr">The Spring Experience entitled “Enterprise Integration Patterns with Spring”. The first presentation included an overview of core Spring support for enterprise integration - including JMS, remoting, JMX, scheduling, and email. That presentation also included a high-level discussion of several of the <a href="http://www.eaipatterns.com" target="_blank">Enterprise Integration Patterns</a> introduced in the book of the same name by Gregor Hohpe and Bobby Woolf. In the second presentation, I officially unveiled “Spring Integration” - a new addition to the Spring portfolio. Spring Integration builds upon Spring’s core support while providing a higher level of abstraction largely inspired by those patterns. Here I would like to provide a brief overview of the topics I discussed in that session. You can also read two articles about Spring Integration that appeared yesterday on <a href="http://www.eweek.com/article2/0,1895,2233544,00.asp" target="_blank">eWeek</a> and <a href="http://www.infoworld.com/article/07/12/13/spring-integration_1.html" target="_blank">InfoWorld</a>.
">
<meta name="twitter:creator" content="@m_f_">
<meta name="twitter:image:src" content="https://gravatar.com/avatar/443e6ec0242c3f54001dae34374780e2?s=200">

<meta property="og:title" content="Spring Integration: a new addition to the Spring portfolio">
<meta property="og:image" content="https://gravatar.com/avatar/443e6ec0242c3f54001dae34374780e2?s=200">
<meta property="og:description" content="<p>Yesterday morning I presented a 2-part session at <a href=" http:="" ="" www.thespringexperience.co="=" _blan="">The Spring Experience entitled “Enterprise Integration Patterns with Spring”. The first presentation included an overview of core Spring support for enterprise integration - including JMS, remoting, JMX, scheduling, and email. That presentation also included a high-level discussion of several of the <a href="http://www.eaipatterns.com" target="_blank">Enterprise Integration Patterns</a> introduced in the book of the same name by Gregor Hohpe and Bobby Woolf. In the second presentation, I officially unveiled “Spring Integration” - a new addition to the Spring portfolio. Spring Integration builds upon Spring’s core support while providing a higher level of abstraction largely inspired by those patterns. Here I would like to provide a brief overview of the topics I discussed in that session. You can also read two articles about Spring Integration that appeared yesterday on <a href="http://www.eweek.com/article2/0,1895,2233544,00.asp" target="_blank">eWeek</a> and <a href="http://www.infoworld.com/article/07/12/13/spring-integration_1.html" target="_blank">InfoWorld</a>.
">
<meta content="article" property="og:type">
<meta property="og:article:published_time" content="2007-12-14 13:23:00.0">



<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" width="0" style="display:none"></iframe></noscript>

<script type="text/javascript">// Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }</script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">专案</a>
</li>
<li class="navbar-link">
<a href="/guides">导游</a>
</li>
<li class="navbar-link active">
<a href="/blog">博客</a>
</li>
<li class="navbar-link">
<a href="/services">培训与认证</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form class="form-inline form-search" action="/search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索文档，指南和帖子..." type="text" value="">
<button class="search-form--submit" type="submit"></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form class="form-inline form-search" action="/search" method="get">
<button class="search-form--submit" type="submit"></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="搜索..." type="text" value="">
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">家<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">专案<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">导游<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">博客<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">培训与认证<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>工程</div>
</div>
<div class="blog-category content--title">
<div>发布</div>
</div>
<div class="blog-category content--title">
<div>新闻与活动</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring Integration：Spring产品组合的新成员</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">工程</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/443e6ec0242c3f54001dae34374780e2?s=20&d=mm"> <a class="author" rel="author" href="/team/mfisher">马克·费舍尔</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2007-12-14 13:23:00.0">2007年12月14日</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" href="/blog/2007/12/14/spring-integration-a-new-addition-to-the-spring-portfolio#disqus_thread" data-disqus-identifier="121">
</a></div>
</div>
</header>
<div class="blog--post"><p>昨天早上，我在<a href="http://www.thespringexperience.com" target="_blank">The Spring Experience上做</a>了一个分为两部分的会议，题为“带有Spring的企业集成模式”。第一个演讲概述了Spring对企业集成的核心支持-包括JMS，远程处理，JMX，计划和电子邮件。该演讲还包括对由Gregor Hohpe和Bobby Woolf同名书中介绍的几种<a href="http://www.eaipatterns.com" target="_blank">企业集成模式</a>的高层讨论。在第二个演示中，我正式发布了“ Spring Integration”-Spring产品组合的新成员。Spring Integration基于Spring的核心支持，同时提供了很大程度上受这些模式启发的更高级别的抽象。在这里，我想简要概述一下我在本届会议上讨论的主题。您还可以阅读昨天在<a href="http://www.eweek.com/article2/0,1895,2233544,00.asp" target="_blank">eWeek</a>和<a href="http://www.infoworld.com/article/07/12/13/spring-integration_1.html" target="_blank">InfoWorld</a>上发表的有关Spring Integration的两篇文章。</p><p>首先，我描述了Spring Integration的目标和动机-即实现模型应该是简单且无创的-提供与Spring核心原理的哲学一致性。业务组件应与底层消息传递基础结构分离，因此可以独立进行测试。该框架应隐藏线程管理的复杂性，同时仍要实现线程池，队列容量和调度参数的完全可配置性。应提供自定义扩展点，作为定义明确的策略接口。应该可以将动态语言用于集成逻辑，例如路由和转换。配置选项应包括通用XML，特定于域的名称空间支持和注释。在这些Spring核心原则的基础上，该实现将利用Spring的核心功能，包括生命周期管理，任务执行，面向方面的编程，事务管理，动态语言支持，JMS，远程处理，邮件和调度。</p><p>通过遵循这些目标和动机，Spring Integration将简化企业集成解决方案的开发。由于概念和实现是如此一致，因此它将有助于开始探索SOA和EDA的现有Spring用户逐步采用。最后，作为Spring产品组合的成员，它将提供无缝兼容性，并与Spring产品组合中的其他产品及时协同发展。</p><p>在讨论了这些目标和动机之后，我介绍了API。核心组件是Message，MessageChannel和MessageEndpoint。消息是任何类型的数据的容器，也是提供常用消息传递属性（id，关联ID，到期，返回地址，序列信息等）的标头。MessageChannel提供发送和接收方法，并且这些方法接受超时。接收方法还通过一个方法接受MessageSelector： <i>boolean accept（Message message）</i> 。这是MessageChannel的基本接口定义</p>
<pre><code class="prettyprint java"><br>public interface MessageChannel {
    boolean send(Message message);
    boolean send(Message message, long timeout);
    Message receive();
    Message receive(long timeout);
    Message receive(MessageSelector selector);
    Message receive(MessageSelector selector, long timeout); 
}
</code></pre><p>MessageEndpoint将MessageHandler连接到入站MessageChannel和/或出站MessageChannel。MessageHandler是一个通用接口，为变压器，路由器以及<i>处理</i>传入消息的任何其他组件提供了基础。</p>
<pre><code class="prettyprint java"><br>public interface MessageHandler {
    Message handle(Message message);
}
</code></pre><p>通道适配器用于向外部数据源发送和接收。例如，要发送JMS消息，提供了OutboundJmsChannelAdapter。在配置消息传递系统时，可以向该适配器发送消息，就好像它只是另一个通道一样。MessageBus将各个端点和通道连接在一起。这与Spring ApplicationContext将对象连接在一起的方式一致。实际上，MessageBus本身就是一个ApplicationContextAware对象，并从其上下文中检测各种消息传递组件。这与Spring MVC应用程序中DispatcherServlet的行为非常相似。Spring Integration的名称空间支持提供了一种配置组件的简洁方法：</p>
<pre><code class="prettyprint xml"><br><integration:message-bus/>

<integration:channel id="quotes"/>

<integration:endpoint input-channel="quotes" handler-ref="logger" handler-method="log">
   <integration:consumer period="1000"/>
</integration:endpoint>
</code></pre><p>另外，也支持注释：</p>
<pre><code class="prettyprint java"><br>@MessageEndpoint(input=&ldquo;inputChannel&rdquo;, defaultOutput=&ldquo;outputChannel&rdquo;)&rdquo;
public class SimpleAnnotatedEndpoint {

    @Handler
    public String sayHello(String name) {
        return "Hello " + name;
    }
}
</code></pre><p>也将支持转换和路由的注释（例如，@ Router，@ Splitter和@Aggregator）。此外，如果处理程序返回一条消息且该消息未提供其自己的“返回地址”，则可以使用注释创建“通道适配器”，例如，@ Polled用于输入，@ DefaultOutput用于输出。例如，以下端点将每5秒打印出“ Hello World”：</p>
<pre><code class="prettyprint java"><br>@MessageEndpoint
public class SampleAnnotatedEndpoint {

    @Polled(period=5000)&rdquo;
    public String getName() {
        return "World";
    }

    @Handler
    public String sayHello(String name) {
        return "Hello " + name;
    }

    @DefaultOutput
    public void display(String message) {
        System.out.println(message);
    }
}
</code></pre><p>@MessageEndpoint还可以通过Spring 2.5的新组件检测功能“开箱即用”。因此，上面的示例根本不需要任何XML配置。对于为单个方法创建端点的更简单方法，可以在该方法上使用@Subscriberannotation：</p>
<pre><code class="prettyprint java"><br>@Subscriber(channel=&ldquo;testChannel&rdquo;)&rdquo;
public void test(String s) {
    â¦
}
</code></pre><p>该注释和相应的@Publisher都通过Spring Integration名称空间中的单个“注释驱动”元素启用。@Publisher建立在Spring AOP的基础上，以便发布方法的返回值。它还将支持其他建议类型，例如“投前”和“投后”。</p><p>上面的示例基于Spring Integration的0.5版本。因此，这些接口和注释可能会发生变化。实际上，我们对早期阶段的反馈特别感兴趣。我已经与<a href="http://www.thespringexperience.com">The Spring Experience的</a>与会者进行了几次有趣的讨论，他们对这项新产品的可能性感到非常兴奋。1.0 Milestone 1版本将在1月初发布，而1.0 Final版本将在2008年第二季度发布。1.0最终版本将支持多种配置格式（XML，名称空间和注释），点对点和发布/订阅通道，以及多个适配器（至少：JMS，RMI，HttpInvoker，Hessian / Burlap，File，EMail，JDBC ，流和Spring ApplicationEvents）。它还将与Spring的事务管理和动态语言支持无缝协作。最后，它将与其他Spring产品组合产品集成，例如Spring Web Services，Spring Web Flow，Spring MVC，Spring Batch和Spring Security。当然，我们还将与Spring Dynamic Modules项目紧密合作，以使OSGi启用消息传递组件。</p><p>敬请关注此博客，以获取未来几天的更多信息，包括代码库的公共可用性。另外，请确保阅读昨天出现在<a href="http://www.eweek.com/article2/0,1895,2233544,00.asp" target="_blank">eWeek</a>和<a href="http://www.infoworld.com/article/07/12/13/spring-integration_1.html" target="_blank">InfoWorld上的</a>那些文章。</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">var disqus_shortname = 'spring-io';
      var disqus_identifier = 121;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));</script>
<noscript>请启用JavaScript以查看<a href="http://disqus.com/?ref_noscript">由Disqus提供</a>的<a href="http://disqus.com/?ref_noscript">评论。</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">由<span class="logo-disqus">Disqus</span>提供动力的评论</a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>背部</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">所有帖子</a> <a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">工程</a> <a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">发布</a> <a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">新闻与活动</a> <a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>将The Spring Team的更新发送到您的收件箱</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });</script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">球队</a></li>
<li><a href="/tools">工具类</a></li>
<li><a href="https://store.pivotal.io/">商店</a></li>
<li><a href="/blog">通讯</a></li>
</ul>
</div>
</div>© <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a> ，Inc.保留所有权利。
<a href="https://pivotal.io/terms-of-use">使用条款</a> • <a href="https://pivotal.io/privacy-policy">隐私</a> • <a href="/trademarks">商标准则</a>
<div id="teconsent" style="display:inline-block"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Spring MVC: from JSP and Tiles to Thymeleaf</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Spring MVC: from JSP and Tiles to Thymeleaf" />
<meta name="twitter:description" content="&lt;p&gt;When it comes to the view layer, Spring @MVC gives you a variety of choices. In this article, we will first discuss the way you have most likely used the view layer in the past few years: &lt;em&gt;JSP&lt;/em&gt;. We will see the bad and better ways to work with them (plain &lt;em&gt;JSP&lt;/em&gt;, &lt;em&gt;JSP&lt;/em&gt; with custom tags, &lt;em&gt;Apache Tiles&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;We will then discuss a new project called &lt;em&gt;Thymeleaf&lt;/em&gt;, which you can use as an alternate approach to &lt;em&gt;JSP&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As usual, you can find all the code samples discussed in the&amp;nbsp;&lt;a href=&quot;https://github.com/michaelisvy/mvc-layout-samples&quot;&gt;corresponding application on github&lt;/a&gt;.&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
 &lt;!--more--&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;h2&gt;Plain JSP&lt;/h2&gt;
" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/e0dffdc6678a8035ce431e3bc46a82f8?s=200" />

<meta property="og:title" content="Spring MVC: from JSP and Tiles to Thymeleaf" />
<meta property="og:image" content="https://gravatar.com/avatar/e0dffdc6678a8035ce431e3bc46a82f8?s=200" />
<meta property="og:description" content="&lt;p&gt;When it comes to the view layer, Spring @MVC gives you a variety of choices. In this article, we will first discuss the way you have most likely used the view layer in the past few years: &lt;em&gt;JSP&lt;/em&gt;. We will see the bad and better ways to work with them (plain &lt;em&gt;JSP&lt;/em&gt;, &lt;em&gt;JSP&lt;/em&gt; with custom tags, &lt;em&gt;Apache Tiles&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;We will then discuss a new project called &lt;em&gt;Thymeleaf&lt;/em&gt;, which you can use as an alternate approach to &lt;em&gt;JSP&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As usual, you can find all the code samples discussed in the&amp;nbsp;&lt;a href=&quot;https://github.com/michaelisvy/mvc-layout-samples&quot;&gt;corresponding application on github&lt;/a&gt;.&lt;br&gt;&lt;/p&gt;
&lt;pre&gt;
 &lt;!--more--&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;h2&gt;Plain JSP&lt;/h2&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2012-10-30 09:58:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Spring MVC: from JSP and Tiles to Thymeleaf</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/e0dffdc6678a8035ce431e3bc46a82f8?s=20&amp;d=mm" />
<span class="author">Michael Isvy</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2012-10-30 09:58:00.0">October 30, 2012</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="491" href="/blog/2012/10/30/spring-mvc-from-jsp-and-tiles-to-thymeleaf#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>When it comes to the view layer, Spring @MVC gives you a variety of choices. In this article, we will first discuss the way you have most likely used the view layer in the past few years: <em>JSP</em>. We will see the bad and better ways to work with them (plain <em>JSP</em>, <em>JSP</em> with custom tags, <em>Apache Tiles</em>).</p><p>We will then discuss a new project called <em>Thymeleaf</em>, which you can use as an alternate approach to <em>JSP</em>.</p><p>As usual, you can find all the code samples discussed in the <a href="https://github.com/michaelisvy/mvc-layout-samples">corresponding application on github</a>.<br /><pre></pre><br /><h2>Plain JSP</h2><br />Let us get started with the below code sample:</p>
<pre><code class="prettyprint html"><br />&lt;html …&gt; &lt;body&gt;
 &lt;div style=&quot;padding-top: 50px;&quot;&gt;
   &lt;jsp:include page=&quot;../menu.jspx&quot;/&gt;
   &lt;c:choose&gt;
     &lt;c:when test=&quot;${empty users}&quot;&gt;
       Table is empty.
     &lt;/c:when&gt;
     &lt;c:otherwise&gt;
      &lt;table&gt;
       &lt;thead&gt;
         &lt;tr&gt;
          &lt;th&gt; First Name &lt;/th&gt;
          &lt;th&gt; Last name &lt;/th&gt;
         &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
        &lt;c:forEach var=&quot;user&quot; items=&quot;${users}&quot;&gt;
        &lt;tr&gt;
          &lt;td&gt; &lt;c:out value=&quot;${user.firstName}&quot;/&gt; &lt;/td&gt;
          &lt;td&gt; &lt;c:out value=&quot;${user.lastName}&quot;/&gt; &lt;/td&gt;
        &lt;/tr&gt;
        &lt;/c:forEach&gt;
       &lt;/tbody&gt;
     &lt;/table&gt;
    &lt;/c:otherwise&gt;
   &lt;/c:choose&gt;
   &lt;jsp:include page=&quot;../footer.jspx&quot;/&gt;
  &lt;/div&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>This code sample is not exactly “state of the art” in the sense that it could have been written 8 years ago in the exact same way. Does it mean that it is <em>outdated</em>? Let’s discuss some possible limitations.</p><p>1) The layout</p><p>We’ve used <em>&lt;jsp:include /&gt;</em> in order to include <em>JSP</em> fragments (header and footer). Obviously it’s good to have <em>&lt;jsp:include /&gt;</em> because it prevents you from doing a lot of copy/pasting. However, if you have hundreds of JSP files, you’ll find yourself copy/pasting those <em>&lt;jsp:include /&gt;</em> tags into all your JSPs. It would be better to externalize all layout information into a dedicated file.</p><p>2) Verbosity</p><p>Our users page is fairly small because it simply displays a list of elements. We already have 50 lines of code (the above code sample has been slightly reduced). You can imagine how big it would be if we had to display a lot of content.</p><p>3) HTML/CSS compliance</p><p>This page is <strong>not HTML/CSS compliant</strong>. Suppose a Web Designer has prototyped it, you would have to rewrite it completely in order to use intrusive JSP syntax. We’ll come back to that point when talking about <em>ThymeLeaf</em>.</p><p><img title="More..." src="http://blog.springsource.org/wp-includes/js/tinymce/plugins/wordpress/img/trans.gif" alt="" /><br /><h2>JSP custom tags</h2><br />Custom tags are part of <em>Java EE</em>. They allow you to externalize repetitive pieces of JSP without having to write a single line of Java. You instead create a dedicated .tagx file.</p><p>Here is an example:</p>
<pre><code class="prettyprint html"><br />&lt;jsp:directive.attribute name=&quot;title&quot; required=&quot;true&quot; rtexprvalue=&quot;true&quot; /&gt;
&lt;body&gt;
 &lt;div style=&quot;padding-top: 50px;&quot;&gt;
  &lt;jsp:include page=&quot;/WEB-INF/view/jsp/menu.jspx&quot;/&gt;
  &lt;jsp:doBody /&gt;
  &lt;jsp:include page=&quot;/WEB-INF/view/jsp/footer.jspx&quot;/&gt;
 &lt;/div&gt;
 &lt;/body&gt;
</code></pre><p>In the sample application, this file is called <em>mainLayout.tagx</em>. It is there on my filesystem:<br /><p style="text-align: center;"><a href="http://blog.springsource.org/wp-content/uploads/2012/10/01-tag.png"><img class="size-full wp-image-11863 alignnone" title="01-tag" src="http://blog.springsource.org/wp-content/uploads/2012/10/01-tag.png" alt="" width="188" height="98" /></a></p><br />The most important instruction in the above sample is <em>&lt;jsp:doBody /&gt;</em>. When the template is processed, <em>&lt;jsp:doBody /&gt;</em> is replaced with content from the “main” JSP.</p><p>Inside each JSP, I can invoke the previously created tag.</p><p>As you can see below, we are associating the <em>custom</em> namespace to our <em>tags</em> folder. We can then use the tag called <em>mainLayout</em>.</p>
<pre><code class="prettyprint html"><br />&lt;div xmlns:c=&quot;http://java.sun.com/jsp/jstl/core&quot; xmlns:jsp=&quot;http://java.sun.com/JSP/Page&quot;
 xmlns:custom=&quot;urn:jsptagdir:/WEB-INF/tags&quot;&gt;
&lt;custom:mainLayout title=&quot;${title}/&quot;&gt;
 &lt;c:choose&gt;
…
 &lt;/c:choose&gt;
&lt;/custom:mainLayout&gt;
</code></pre><p><span style="text-decoration: underline;">Note:</span> as you can see in the above code sample, each JSP should specify the layout that it uses. If I have several layouts and I want to migrate several JSPs from <em>mainLayout</em> to <em>customLayout</em>, I would need to edit each of those JSP files and change the layout manually. We will come back to that point later when talking about <em>Tiles</em>.</p><p>Custom tags can do much more for you than just externalizing the layout part. To illustrate this point, I’ve created a <em>simpleTable</em> tag so I do not have to deal with &lt;thead&gt; and &lt;tbody&gt; tags. It also displays a message when the table is empty. My <em>JSP</em> file now looks like this:</p>
<pre><code class="prettyprint xml"><br />&lt;custom:mainLayout title=&quot;${title}/&quot;&gt;
 &lt;custom:simpleTable collection=&quot;${users}&quot; headerLabels=&quot;First Name, Last Name&quot;&gt;
   &lt;c:forEach var=&quot;user&quot; items=&quot;${users}&quot;&gt;
     &lt;tr&gt;
       &lt;td&gt; &lt;c:out value=&quot;${user.firstName}&quot;/&gt; &lt;/td&gt;
       &lt;td&gt; &lt;c:out value=&quot;${user.lastName}&quot;/&gt; &lt;/td&gt;
     &lt;/tr&gt;
   &lt;/c:forEach&gt;
  &lt;/custom:simpleTable&gt;
&lt;/custom:mainLayout&gt;
</code></pre><p>You can browse <a href="https://github.com/michaelisvy/mvc-layout-samples/blob/master/src/main/webapp/WEB-INF/tags/simpleTable.tagx">simpleTable.tagx</a> for a complete example.</p><p>&nbsp;</p><p><span style="text-decoration: underline;">Note:</span> I should also mention a new project called <span style="text-decoration: underline;"><strong><a href="https://datatables4j.github.com/docs/index.html">Datatable4J</a></strong></span> created by Thibault Duchateau. It provides a set of tags on top of jquery-datatables and therefore allows to create AJAX-style datatables without having to write Javascript yourself. Documentation is pretty good and this project is actively worked on.</p><p>&nbsp;<br /><h2>Pros and Cons</h2><br />Standard Tags have many benefits:<br /><ul><br /> <li>I can use them to do much more than just externalizing layout information. In the end, they can easily make your JSPs 5 times smaller than they would be otherwise.</li><br /> <li>Eclipse/STS works well with custom tags so you’re able to use CTRL+space for auto-completion.</li><br /></ul><br />On the down side:<br /><ul><br /> <li>Documentation is not the best.</li><br /> <li>Even though custom tags are pretty neat already, I can’t recall any improvement to them in the past few years.</li><br /> <li>Using Custom tags implies that you’re using a JSP Engine inside your web container. You can then expect some minor differences depending on the web container you’re using (Apache Tomcat, IBM Websphere, Oracle Weblogic…).</li><br /> <li>It is also harder to Unit Test your view layer. You can see <a href="https://github.com/SpringSource/spring-test-mvc">Spring MVC Test framework </a> if you’re interested in this topic.</li><br /></ul><br /><h2>Externalizing your JSPs’ layout using Apache Tiles</h2><br />Apache Tiles was already famous a decade ago for being the layout plugin that came with Struts 1. It now is an independent framework and integrates well with Spring MVC.</p><p>First of all, you should declare the appropriate Spring configuration:</p>
<pre><code class="prettyprint xml"><br />&lt;bean id=&quot;tilesViewResolver&quot; class=&quot;org.springframework.web.servlet.view.tiles3.TilesViewResolver&quot;/&gt;
&lt;bean id=&quot;tilesConfigurer&quot; class=&quot;org.springframework.web.servlet.view.tiles3.TilesConfigurer&quot;&gt;
 &lt;property name=&quot;definitions&quot;&gt;
 &lt;list&gt;
 &lt;value&gt;/WEB-INF/view/jsp/tiles.xml&lt;/value&gt;
 &lt;/list&gt;
 &lt;/property&gt;
&lt;/bean&gt;
</code></pre><p>In the below example, we are going to create 3 files as follows:</p><p><a href="http://blog.springsource.org/wp-content/uploads/2012/10/02-tag-tiles.png"><img class="aligncenter size-full wp-image-11865" title="02-tag-tiles" src="http://blog.springsource.org/wp-content/uploads/2012/10/02-tag-tiles.png" alt="" width="212" height="211" /></a><br /><h2>Layout file</h2><br />As with JSP custom tags, the layout is described in a dedicated file. The syntax is quite similar, except that we are using the <em>tiles</em> tag library.</p>
<pre><code class="prettyprint xml"><br />&lt;html xmlns:tiles=&quot;http://tiles.apache.org/tags-tiles&quot; …&gt;
&lt;head&gt; … &lt;/head&gt;
 &lt;body&gt;
   &lt;jsp:include page=&quot;/WEB-INF/view/jsp/menu.jspx&quot;/&gt;
   &lt;tiles:insertAttribute name=&quot;main&quot; /&gt;
   &lt;jsp:include page=&quot;/WEB-INF/view/jsp/footer.jspx&quot;/&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p style="text-align: right;"><em>layout.jspx</em></p>
<p style="text-align: right;">&nbsp;</p>
<p style="text-align: left;">The most important instruction in the above sample is <em>&lt;tiles:insertAttribute /&gt;</em>. When the template is processed, <em>&lt;tiles:insertAttribute /&gt;</em> is replaced with content from the “main” JSP. We will then use a dedicated file (typically called tiles.xml) which contains all the tiles definitions as follows:</p>
<pre><code class="prettyprint xml"><br />&lt;tiles-definitions&gt;
 &lt;definition name=&quot;tiles/*&quot; template=&quot;/WEB-INF/view/jsp/03-tiles/layout.jspx&quot;&gt;
  &lt;put-attribute name=&quot;main&quot; value=&quot;/WEB-INF/view/jsp/03-tiles/{1}.jspx&quot; /&gt;
 &lt;/definition&gt;
&lt;/tiles-definitions&gt;
</code></pre>
<p style="text-align: right;"><em>tiles.xml</em></p><p><div class="callout">
<div class="callout-title">Wildcard usage</div>
In the past, Apache Tiles did not handle wildcards and we had to copy/paste a new definition inside tiles.xml every time a new JSP was created.
</div></p><p>Based on the above example, the view “tiles/users” will be resolved as <em>/WEB-INF/view/jsp/users.jspx </em>using the template <em>layout.jspx</em>.</p><p>Inside the JSP, there is no mention of the layout it uses:</p>
<pre><code class="prettyprint html"><br />&lt;div xmlns:c=&quot;http://java.sun.com/jsp/jstl/core&quot; xmlns:jsp=&quot;http://java.sun.com/JSP/Page&quot;&gt;
&lt;table&gt;
 &lt;thead&gt;
   &lt;tr&gt;
    &lt;th&gt; First Name &lt;/th&gt;
    &lt;th&gt; Last name &lt;/th&gt;
   &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
  &lt;c:forEach var=&quot;user&quot; items=&quot;${users}&quot;&gt;
   &lt;tr&gt;
     &lt;td&gt; &lt;c:out value=&quot;${user.firstName}&quot;/&gt; &lt;/td&gt;
     &lt;td&gt; &lt;c:out value=&quot;${user.lastName}&quot;/&gt; &lt;/td&gt;
   &lt;/tr&gt;
  &lt;/c:forEach&gt;
  &lt;/tbody&gt;
 &lt;/table&gt;
&lt;/div&gt;
</code></pre><p>The Apache Tiles approach is similar to custom tags and therefore has same pros and cons. There is some activity on the <em>Apache Tiles</em> project but it is definitely not as vibrant as <em>ThymeLeaf</em> which we will discuss in the next section.<br /><h2>Thymeleaf</h2><br /><a href="http://www.thymeleaf.org/">Thymeleaf</a> defines itself as an  XML / XHTML / HTML5 template engine.</p><p>It is not based on JSPs but rather on some plain HTML files with a little bit of namespace magic.</p><p>First step: we should integrate ThymeLeaf with Spring. As usual, we need to declare the appropriate view resolver.</p>
<pre><code class="prettyprint html"><br />&lt;bean id=&quot;templateResolver&quot; class=&quot;org.thymeleaf.templateresolver.ServletContextTemplateResolver&quot;&gt;
  &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;
  &lt;property name=&quot;suffix&quot; value=&quot;.html&quot; /&gt;
  &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot; /&gt;
  &lt;property name=&quot;cacheable&quot; value=&quot;false&quot; /&gt;
 &lt;/bean&gt;
 &lt;bean id=&quot;templateEngine&quot; class=&quot;org.thymeleaf.spring3.SpringTemplateEngine&quot;&gt;
  &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;
 &lt;/bean&gt;
 &lt;bean class=&quot;org.thymeleaf.spring3.view.ThymeleafViewResolver&quot;&gt;
  &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt;
  &lt;property name=&quot;order&quot; value=&quot;1&quot; /&gt;
  &lt;property name=&quot;viewNames&quot; value=&quot;thymeleaf/*&quot; /&gt;
 &lt;/bean&gt;
</code></pre><p>Let us now consider a simple view page.</p>
<pre><code class="prettyprint html"><br />&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
  &lt;head&gt;
    &lt;link th:src=&quot;@{/style/app.css}&quot; rel=&quot;stylesheet&quot;/&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div th:if=&quot;${not #lists.isEmpty(users)}&quot;&gt;
    &lt;table&gt;
     &lt;thead&gt; … &lt;/thead&gt;
     &lt;tbody&gt;
&lt;tr th:each=&quot;user : ${users}&quot;&gt;
        &lt;td th:text=&quot;${user.firstName}&quot;&gt;John&lt;/td&gt;
        &lt;td th:text=&quot;${user.lastName}&quot;&gt;Smith&lt;/td&gt;
&lt;/tr&gt;
     &lt;/tbody&gt;
    &lt;/table&gt;
&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p style="text-align: right;"><em>users.html</em></p><p>There are a few things that we can notice:</p><p>-This is an html file! You can actually preview it as a static file in your web browser. This feature is great for prototyping [1].</p>
<ul>
<li><p>We are using a  dedicated namespace in order to turn static html pages into dynamic views. All parts that require dynamic processing are prefixed with “th:”.</p></li>
<li><p>It’s simple to refer to the context path using ‘@{…}’.  This is very easy to get wrong in plain JSPs [2].</p></li>
<li><p>${users} is resolved using Spring Expression Language. If I had a form, I would have used expressions such as *{user.name} to refer to form elements.</p></li>
</ul><p>[1] We will not discuss prototyping any further in this article. However you can read this tutorial (<a href="http://www.thymeleaf.org/petclinic.html"><a href="http://www.thymeleaf.org/petclinic.html">http://www.thymeleaf.org/petclinic.html</a></a>) if you would like to know more about it.</p><p>[2] In the first part of this article, when using &lt;jsp:include /&gt;, I had to use a relative path  <em>“</em><em>../menu.jspx”.</em> This will lead to a broken link on the day I’ll move my JSP file to a different folder.<br /><h2>Layout file</h2><br />Let us now discuss how to externalize the layout into a dedicated file.</p><p>As we did with JSP custom tags and with Tiles, you need to declare your layout file. In the code sample below, you will find 2 fragments:</p>
<ul>
<li><p>headerFragment contains all header information</p></li>
<li><p>menuFragment contains my menu bar</p></li>
</ul><p>Those names are not mandatory and I can have as many fragments as I wish.</p><p>In each view file, I can refer to fragments using th:include as follows:</p>
<pre><code class="prettyprint html"><br />&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
 &lt;head th:include=&quot;thymeleaf/layout :: headerFragment&quot;&gt;
 &lt;!-- replaced with fragment content --&gt;
 &lt;!—- &#39;thymeleaf/layout&#39; refers to /thymeleaf/layout.html on the filesystem --&gt;
 &lt;/head&gt;

 &lt;body&gt;

 &lt;div th:include=&quot;thymeleaf/layout :: menuFragment&quot;&gt;
 &lt;/div&gt;
 &lt;div th:if=&quot;${not #lists.isEmpty(users)}&quot;&gt;
 &lt;table&gt;
   …
   &lt;tbody&gt;
     &lt;tr th:each=&quot;user : ${users}&quot;&gt;
      &lt;td th:text=&quot;${user.firstName}&quot;&gt;John&lt;/td&gt;
      &lt;td th:text=&quot;${user.lastName}&quot;&gt;Smith&lt;/td&gt;
     &lt;/tr&gt;
   &lt;/tbody&gt;
  &lt;/table&gt;
 &lt;/div&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>On the filesystem we have:</p><p><a href="http://blog.springsource.org/wp-content/uploads/2012/10/03-thymeleaf.png"><img class="aligncenter size-full wp-image-11866" title="03-thymeleaf" src="http://blog.springsource.org/wp-content/uploads/2012/10/03-thymeleaf.png" alt="" width="181" height="114" /></a><br /><h2>Pros and Cons</h2><br />On the bright side:<br /><ul><br /> <li>ThymeLeaf is a healthy open source project: new features coming up each month, good documentation, responsive user forums…</li><br /> <li>It is the ideal template engine if you want your web designer to be able to read your view files</li><br /> <li>The Expression Language used (actually called Standard Dialect) is much more powerful than JSP Expression Language.</li><br /> <li>Unlike JSPs, Thymeleaf works well for Rich HTML emails (see <a href="http://www.thymeleaf.org/springmail.html).">http://www.thymeleaf.org/springmail.html).</a></li><br /></ul><br />On the down side:<br /><ul><br /> <li>Thymeleaf does not have an equivalent to custom tags (.tagx files) yet.</li><br /> <li>At this stage, ThymeLeaf is not compatible with JSP tag libraries.</li><br /></ul><br /><h2>Conclusion</h2><br />We’ve seen the JSP and Thymeleaf approaches side by side. If your application uses hundreds of JSPs, we are not saying that you should ditch them all and start over again using Thymeleaf. However you might consider Thymeleaf for HTML pages outside of the web container such as for Rich HTML emails.</p><p>If you are starting on a new project, we strongly encourage you to compare both Thymeleaf and JSPs in order to figure out which one is more suitable to your needs.</p><p>Also, my colleague Rob Winch did a great presentation about <a href="https://github.com/rwinch/spring-modern-templating">modern templating options for Spring MVC</a>. Besides JSP and Thymeleaf, it also discusses Mustache templates.</p><p>The sample app used for this blog entry is <a href="https://github.com/michaelisvy/mvc-layout-samples/">available on github</a>.</p></div>
</div>
<section id="disqus_thread"></section>
<script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 491;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
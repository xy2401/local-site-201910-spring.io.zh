<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>Getting Started with Spring Roo</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="Getting Started with Spring Roo" />
<meta name="twitter:description" content="&lt;div style=&quot;background: #FFFFCC !important;&quot;&gt; 
 &lt;strong&gt;Update:&lt;/strong&gt; The 
 &lt;a href=&quot;http://blog.springsource.com/roo-part-3&quot;&gt;third installment&lt;/a&gt; of the &quot;Introducing Spring Roo&quot; blog series is now available and covers Roo&#39;s internal architecture in detail. 
&lt;/div&gt;
&lt;p&gt;I have a confession to make. While many of you would know I’ve been busily working away on &lt;a href=&quot;http://www.springsource.org/roo&quot;&gt;Spring Roo&lt;/a&gt; in recent months, I also have a separate project that hasn’t made it into Subversion. The other project is planning our wedding, as next month my fiancée and I are traveling overseas to get married. So as I pondered what I could show you in this blog entry about Roo, it struck me that I should take the opportunity to build our wedding’s &lt;a href=&quot;http://en.wikipedia.org/wiki/RSVP&quot;&gt;RSVP&lt;/a&gt; site using Roo! So today we’ll be learning how to build a wedding RSVP site using Roo, which some of my colleagues have commented is an enterprising example of pursuing work-life balance. :-)&lt;br&gt;&lt;/p&gt;
" />

<meta property="og:title" content="Getting Started with Spring Roo" />
<meta property="og:description" content="&lt;div style=&quot;background: #FFFFCC !important;&quot;&gt; 
 &lt;strong&gt;Update:&lt;/strong&gt; The 
 &lt;a href=&quot;http://blog.springsource.com/roo-part-3&quot;&gt;third installment&lt;/a&gt; of the &quot;Introducing Spring Roo&quot; blog series is now available and covers Roo&#39;s internal architecture in detail. 
&lt;/div&gt;
&lt;p&gt;I have a confession to make. While many of you would know I’ve been busily working away on &lt;a href=&quot;http://www.springsource.org/roo&quot;&gt;Spring Roo&lt;/a&gt; in recent months, I also have a separate project that hasn’t made it into Subversion. The other project is planning our wedding, as next month my fiancée and I are traveling overseas to get married. So as I pondered what I could show you in this blog entry about Roo, it struck me that I should take the opportunity to build our wedding’s &lt;a href=&quot;http://en.wikipedia.org/wiki/RSVP&quot;&gt;RSVP&lt;/a&gt; site using Roo! So today we’ll be learning how to build a wedding RSVP site using Roo, which some of my colleagues have commented is an enterprising example of pursuing work-life balance. :-)&lt;br&gt;&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2009-05-27 08:58:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">Getting Started with Spring Roo</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="null?s=20&amp;d=mm" />
<span class="author">Ben Alex</span>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2009-05-27 08:58:00.0">May 27, 2009</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="237" href="/blog/2009/05/27/getting-started-with-spring-roo#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><div style="background: #FFFFCC !important;">
<strong>Update:</strong> The <a href="http://blog.springsource.com/roo-part-3">third installment</a> of the "Introducing Spring Roo" blog series is now available and covers Roo's internal architecture in detail.
</div><p>I have a confession to make. While many of you would know I&rsquo;ve been busily working away on <a href="http://www.springsource.org/roo">Spring Roo</a> in recent months, I also have a separate project that hasn&rsquo;t made it into Subversion. The other project is planning our wedding, as next month my fiancée and I are traveling overseas to get married. So as I pondered what I could show you in this blog entry about Roo, it struck me that I should take the opportunity to build our wedding&rsquo;s <a href="https://en.wikipedia.org/wiki/RSVP">RSVP</a> site using Roo! So today we&rsquo;ll be learning how to build a wedding RSVP site using Roo, which some of my colleagues have commented is an enterprising example of pursuing work-life balance. :-)<br /><h2>Progress Update</h2><br />If you missed the <a href="http://blog.springsource.com/2009/05/01/roo-part-1/">first installment</a> in the Spring Roo blog series on 1 May 2009, in brief I introduced the vision of SpringSource&rsquo;s new open source productivity tool for those wanting to rapidly build best practice Spring applications in Java. As many people discovered who played around with the alpha releases, Spring Roo offers a powerful and easy-to-use approach to productive application development, with much of the motivation behind Roo emerging in the first Jira issue, <a href="http://jira.springframework.org/browse/ROO-1">ROO-1</a> (logged by Rod Johnson, Father of Spring and CEO of SpringSource).</p><p>Today I am pleased to announce that we have just released <a href="http://www.springsource.com/download/community?project=Spring%20Roo">Spring Roo 1.0.0.M1</a>. This release not only features numerous fixes, enhancements and a 31% performance improvement, but also an exciting range of new capabilities including <a href="http://static.springframework.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch26.html">email services</a>, <a href="http://static.springframework.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch23.html">JMS</a>, <a href="http://www.springsource.org/webflow">Spring Web Flow</a>, simplified installation and automatic <a href="http://seleniumhq.org/">Selenium</a> support. That&rsquo;s on top of those many capabilities already present in the alpha releases, as mentioned in my <a href="http://blog.springsource.com/2009/05/01/roo-part-1/">earlier blog</a> entry.</p><p>In addition to working on the first milestone release, over the last month we&rsquo;ve also established the public project infrastructure typical of open source projects. We now have available a <a href="http://forum.springsource.org/forumdisplay.php?f=67">community support forum</a>, Jira <a href="http://jira.springframework.org/browse/ROO">issue tracking</a>, public <a href="https://anonsvn.springframework.org/svn/spring-roo/">Subversion repository</a>, FishEye <a href="https://fisheye.springsource.org/browse/spring-roo">source monitoring</a> and <a href="http://forum.springsource.org/showthread.php?t=71985">so on</a>. Some of the comments reported on the <a href="https://search.twitter.com/search?q=%23roo">#roo Twitter</a> channel over the last month have included &ldquo;I&rsquo;m impressed&rdquo;, &ldquo;liking it&rdquo;, &ldquo;custom roo addons [are] very easy&rdquo;, &ldquo;here comes some innovation&rdquo;, &ldquo;the first milestone release will be cool!&rdquo;, &ldquo;Roo looks interesting and works&rdquo;, &ldquo;very impressive tool&rdquo;, &ldquo;very cool&rdquo; etc. We&rsquo;ve also started seeing the first <a href="http://jira.springframework.org/browse/ROO-41">community-produced add-ons</a>, underscoring the ease at which you can extend Roo with your own custom features.</p><p>Earlier this month we also concluded the community <a href="http://blog.springsource.com/2009/05/01/roo-part-1/">project naming competition</a>, with &ldquo;Spring Roo&rdquo; easily emerging as the winner. A total of 952 eligible votes were received, distributed between Spring Roo (467), Spring Boost (180), Spring Spark (179), Spring HyperDrive (64) and Spring Dart (62). Thank you to everyone who voted!<br /><h2>Installation</h2><br />Now that we&rsquo;ve added simplified installation to Spring Roo 1.0.0.M1, installation is as simple as downloading the ZIP, extracting it, and then adding the &ldquo;bin&rdquo; directory to your path:<br /><ul><br /> <li>Windows users should load Control Panel, then click System, Advanced, Environment Variables, and double-click the &ldquo;Path&rdquo; entry. Append to the end of the path, &ldquo;;C:\spring-roo-1.0.0.M1\bin&rdquo; (or wherever you installed Roo).</li><br /> <li>*nix users should create a symbolic link to the roo.sh shell script. A command such as &ldquo;sudo ln -s ~/spring-roo-1.0.0.M1/bin/roo.sh /usr/bin/roo&rdquo; will generally do the trick.</li><br /></ul><br />While you can use Spring Roo standalone, I also recommend that you download <a href="http://www.springsource.com/products/sts">SpringSource Tool Suite</a> (STS) 2.3.0 or above. STS is our <a href="http://blog.springsource.com/2009/05/07/springsource-tool-suite-now-free/">free, Eclipse-based IDE</a> and offers many features to simplify Spring application development. For example, if you download STS 2.3.0 or above you will receive inbuilt Spring Roo support and don&rsquo;t even need to install the standalone Spring Roo shell.</p><p>This blog will be written assuming you&rsquo;re using the standalone Spring Roo shell. Unless otherwise specified, all commands work the same in both standard Spring Roo and also STS 2.3.0 or above. One of the main differences is when using the Roo shell you press TAB for completion options, whereas within STS the TAB key is replaced by CTRL + SPACE. We use CTRL + SPACE because it&rsquo;s the more traditional key combination for completions within <a href="https://www.eclipse.org/">Eclipse</a>-based IDEs.</p><p>You should also verify you have <a href="https://maven.apache.org/download.html">Maven</a> 2.0.9 or above installed. While Roo itself doesn&rsquo;t use Maven and can operate without it installed, projects created by Roo currently use Maven. In addition, be sure to delete the ROO_HOME variable if you installed one of the earlier Roo alpha releases.<br /><h2>Application Requirements</h2><br />Now that you&rsquo;ve installed Roo, let&rsquo;s consider the requirements of our wedding RSVP application. We&rsquo;ll then build the application using a combination of Roo and some manual coding. The requirement for some manual coding reflects an underlaying philosophy of Roo that you will still need to develop those parts of your application that differentiates it from the next. However, you&rsquo;ll see that <span style="background: #FFFFCC !important;">Roo was designed to enable manual coding and customization in a completely transparent, familiar and round-trip supporting manner</span>.</p><p>Despite having online RSVP, we&rsquo;ve still sent out paper wedding invitations. On the back of each invitation is a small &ldquo;invitation code&rdquo;. These are not easily guessed, but they&rsquo;re easy to read and type in (no <a href="https://en.wikipedia.org/wiki/Universally_Unique_Identifier">UUIDs</a>!). The wedding invitation text invites the guest to visit our wedding RSVP site in order to RSVP. When they visit the wedding RSVP site, the guest will be asked to enter their invitation code.</p><p>Once the guest enters their invitation code, any existing RSVP record will be retrieved and allow them to edit it. If they haven&rsquo;t previously RSVPed, they&rsquo;ll be presented with a new RSVP form to fill in. The form will simply ask the guest how many people are attending, and any special requests (eg dietary needs). They&rsquo;ll also be asked to enter their email address, and if one is provided the application will send an email-based confirmation of their RSVP. We&rsquo;ll also keep a record of what date and time they RSVPed, which will be useful if they change their RSVP several times.<br /><h2>Creating a Persistent Project</h2><br />Now that we have an idea of a real-world application that we&rsquo;d like to build, let&rsquo;s use Roo to build it. The first step is to create an empty directory and load Roo:</p>
<pre><code class="prettyprint code">$ mkdir wedding
$ cd wedding
$ roo
</code></pre><p>If you followed the above installation instructions, you should be greeted with the Roo logo shown below. If you don&rsquo;t see a message like this, please go back and check your installation is correct.</p><p><img title="Start logo" src="http://blog.springsource.com/wp-content/uploads/2009/10/00-logo.png" alt="Start logo" width="626" height="172" /></p><p>There are quite a few usability features within Roo. If you type &ldquo;hint&rdquo; you will be presented with step-by-step instructions. Or if you type &ldquo;help&rdquo; you will see all of the commands currently available (these change at different phases of your project lifecycle). <span style="background: #FFFFCC !important;">Plus you can press TAB in almost all cases for completion services.</span> If you&rsquo;re learning Roo, &ldquo;hint&rdquo; is your friend. Not only will it teach you the commands, but it will also teach you about the shell and how the keyboard features work. Get into the habit of using &ldquo;hint&rdquo; whenever in doubt, especially during your first few Roo projects.</p><p>Let&rsquo;s begin our wedding project. After you type the &ldquo;create project&rdquo; command into the Roo shell, you should receive the following output:</p>
<pre><code class="prettyprint code">roo&gt; project --topLevelPackage com.wedding
Created /home/balex/wedding/pom.xml
Created SRC_MAIN_JAVA
Created SRC_MAIN_RESOURCES
Created SRC_TEST_JAVA
Created SRC_TEST_RESOURCES
Created SRC_MAIN_WEBAPP
Created SRC_MAIN_RESOURCES/META-INF/spring
Created SRC_MAIN_RESOURCES/META-INF/spring/applicationContext.xml
</code></pre><p>As shown from the console output, Roo has created a Maven 2 project structure. Even if you quit Roo at this point and never reload it, at this moment you have a properly-configured Spring 3 web application, complete with <a href="http://tuckey.org/urlrewrite/">URL rewriting</a>, annotation-based <a href="http://static.springframework.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch04s12.html">classpath scanning</a> and <a href="http://static.springframework.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch08s08.html#aop-atconfigurable">dependency injection of any class</a> - even those created with the &ldquo;new&rdquo; keyword or via an <a href="https://en.wikipedia.org/wiki/Object-relational_mapping">ORM</a> like <a href="https://www.hibernate.org/">Hibernate</a>. You can even use &ldquo;mvn tomcat:run&rdquo; and start an embedded <a href="https://tomcat.apache.org/">Tomcat</a> container.</p><p>If you typed &ldquo;hint&rdquo; at this point, Roo would suggest you install a <a href="https://en.wikipedia.org/wiki/Java_Persistence_API">JPA</a> provider and database. Let&rsquo;s do that now:</p>
<pre><code class="prettyprint code">roo&gt; persistence setup --provider HIBERNATE --database HYPERSONIC_PERSISTENT
Created SRC_MAIN_RESOURCES/META-INF/persistence.xml
Created SRC_MAIN_RESOURCES/META-INF/spring/database.properties
Managed SRC_MAIN_RESOURCES/META-INF/spring/applicationContext.xml
Managed ROOT/pom.xml
</code></pre><p>Notice that we&rsquo;ve selected Hibernate and a persistent <a href="http://hsqldb.org/">Hypersonic</a> database in the command. This selection happened via the TAB button, so we didn&rsquo;t actually need to type those commands and arguments fully. Notice also the two &ldquo;Managed&rdquo; statements at the bottom. These denote a file or directory Roo is managing. Roo has inbuilt file undo services, so should something go wrong, it will automatically rollback the problematic command.</p><p>Because Roo uses JPA, we enjoy the benefits of portability across different JPA implementations. If you look at the code that Roo generates, you&rsquo;ll see that not a single line of it is specific to a particular persistence provider. <span style="background: #FFFFCC !important;">You&rsquo;ll also see the Roo-provided code is extremely efficient.</span> One of the great strengths of Java is its significant performance, and Roo does everything from avoiding <a href="https://stackoverflow.com/questions/435553/java-reflection-performance">reflection</a> to optimizing string operations in your <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html#toString()">toString</a>() methods (and everything in between) to maximise runtime performance of your applications.</p><p>As we asked for a persistent database, it is stored in ~/wedding.* by default. There is a &ldquo;database properties list&rdquo; command which will show you the database configuration:</p>
<pre><code class="prettyprint code">roo&gt; database properties list
database.driverClassName = org.hsqldb.jdbcDriver
database.password =
database.url = jdbc:hsqldb:${user.home}/wedding
database.username = sa
</code></pre><p>While the default location would work just fine, let&rsquo;s change it to somewhere else:</p>
<pre><code class="prettyprint code">roo&gt; database properties set --key database.url --value jdbc:hsqldb:/home/balex/our-wedding
Managed SRC_MAIN_RESOURCES/META-INF/spring/database.properties
</code></pre><p>As shown by the console output, all Roo did was edit a stock-standard database.properties file. <span style="background: #FFFFCC !important;">You could have just as validly edited your project files using a text editor or <a href="https://en.wikipedia.org/wiki/Integrated_development_environment">IDE</a>. Roo doesn&rsquo;t mind. It was designed from the very beginning so that you could use other tools concurrently with Roo and everything would still work properly.</span></p><p>One reason you might like to use a &ldquo;database properties set&rdquo; command via Roo is because you&rsquo;re making a standalone script that can be replayed later. You can use the &ldquo;script filename.roo&rdquo; command to execute scripts, which are simply Roo commands in a standard text file format. I&rsquo;ve included the wedding.roo script in the Roo 1.0.0 distribution for your convenience. Note that comments can also be included in the scripts using normal Java comment syntax (//, /* and */).<br /><h2>Creating an Entity</h2><br />Let&rsquo;s now create a JPA entity. This entity will be stored in our database and represent the entire domain model for our application. You can create entities using your choice of IDE, text editor or the Roo shell:</p>
<pre><code class="prettyprint code">roo&gt; entity --class ~.domain.Rsvp
Created SRC_MAIN_JAVA/com/wedding/domain
Created SRC_MAIN_JAVA/com/wedding/domain/Rsvp.java
Created SRC_MAIN_JAVA/com/wedding/domain/Rsvp_Roo_Entity.aj
Created SRC_MAIN_JAVA/com/wedding/domain/Rsvp_Roo_ToString.aj
Created SRC_MAIN_JAVA/com/wedding/domain/Rsvp_Roo_Configurable.aj
</code></pre><p>At this point I imagine some of you are wondering, &ldquo;what are those .aj files?&rdquo;. In a nutshell, these are <a href="https://eclipse.org/aspectj">AspectJ</a> <a href="https://www.eclipse.org/aspectj/doc/released/progguide/language-interType.html">inter-type declarations</a> (ITDs) that very effectively deliver <a href="https://en.wikipedia.org/wiki/Separation_of_concerns">separation of concerns</a> while also maintaining compatibility with future versions of the relevant Roo add-on. The .aj files are automatically created, maintained and deleted by Roo, allowing end users to safely ignore them. Indeed STS 2.1.0+ automatically hides them by default, just like Eclipse-based IDEs hide .classpath, .project and .settings resources. After all, these resources are merely internal outputs of the tool and it&rsquo;s pretty rare you would even open them - let alone maintain them yourself. I&rsquo;m going to talk a lot more about these and other Roo internals in my <a href="http://blog.springsource.com/roo-part-3">next blog entry</a>, so I&rsquo;ll defer further discussion until then.</p><p>You might have noticed we created the Rsvp entity within the &ldquo;~.domain&rdquo; package. The &ldquo;~&rdquo; character automatically expands to your project&rsquo;s top-level package, which you may recall we specified when originally creating the project. <span style="background: #FFFFCC !important;">As such Roo fully understands the concept of Java packages, and allows you to structure your project packages in whatever way you find most intuitive.</span></p><p>Naturally an entity would normally contain some fields, so let&rsquo;s add them (Roo&rsquo;s output is omitted, as it simply manages the same files as listed above):</p>
<pre><code class="prettyprint code">roo&gt; field string code --notNull --sizeMin 1 --sizeMax 30
roo&gt; field string email --sizeMax 30
roo&gt; field number attending --type java.lang.Integer
roo&gt; field string specialRequests --sizeMax 100
roo&gt; field date confirmed --type java.util.Date
</code></pre><p>In the first line you&rsquo;ll note we use a &ndash;notNull argument, together with a &ndash;sizeMin and &ndash;sizeMax argument. These refer to the new <a href="https://jcp.org/en/jsr/detail?id=303">Bean Validation</a> standard, which is otherwise known as <a href="https://jcp.org/en/jsr/detail?id=303">JSR 303</a>. This particular standard offers automatic web and persistence tier validation, including creating the correct <a href="https://en.wikipedia.org/wiki/Data_Definition_Language">DDL</a> for the tables in your database. <span style="background: #FFFFCC !important;">One of the advantages of using Roo is you gain the benefit of relevant standards</span> like JSR 303, JPA, the <a href="http://java.sun.com/products/servlet/download.html">Servlet Specification</a> and <a href="https://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> without any extra effort. Naturally you don&rsquo;t need to use the JSR 303 arguments if you don&rsquo;t wish to do so.</p><p>Another point to note from the above field commands is we didn&rsquo;t specify which entity we wanted to insert the fields into. Roo automatically determines you probably want to add the fields to Rsvp, as that&rsquo;s the last entity you worked with. You could also specify an &ldquo;&ndash;class ~.SomeEntity&rdquo; argument if you wish to be explicit or target the fields at another entity (in which case that entity will become the default for subsequent entity-related commands).<br /><h2>Proving it Works: JUnit, Web Tier and Selenium</h2><br />By now we have an application that would actually work if we deployed it. But don&rsquo;t take my word for it - let&rsquo;s add a couple of features so that you can try the application out for yourself.</p><p>Let&rsquo;s start with <a href="http://www.junit.org/">JUnit</a> integration tests. You can obtain an integration test with one command:</p>
<pre><code class="prettyprint code">roo&gt; test integration
Created SRC_TEST_JAVA/com/wedding/domain
Created SRC_TEST_JAVA/com/wedding/domain/RsvpDataOnDemand.java
Created SRC_TEST_JAVA/com/wedding/domain/RsvpIntegrationTest.java
Created SRC_TEST_JAVA/com/wedding/domain/RsvpDataOnDemand_Roo_Configurable.aj
Created SRC_TEST_JAVA/com/wedding/domain/RsvpDataOnDemand_Roo_DataOnDemand.aj
Created SRC_TEST_JAVA/com/wedding/domain/RsvpIntegrationTest_Roo_Configurable.aj
Created SRC_TEST_JAVA/com/wedding/domain/RsvpIntegrationTest_Roo_IntegrationTest.aj
</code></pre><p>This integration test will verify the common JPA operations like persist, remove, find, merge etc all work. A total of eight tests are performed per entity, and all build on Spring Framework&rsquo;s extensive <a href="http://static.springframework.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch10s03.html">integration test infrastructure</a>. While we could run the integration tests at this stage, it&rsquo;s trivial to add a web tier as well:</p>
<pre><code class="prettyprint code">roo&gt; controller scaffold ~.web.RsvpController
Created SRC_MAIN_JAVA/com/wedding/web
Created SRC_MAIN_JAVA/com/wedding/web/RsvpController.java
Created SRC_MAIN_WEBAPP/WEB-INF/config
Created SRC_MAIN_WEBAPP/WEB-INF/config/webmvc-config.xml
Created SRC_MAIN_JAVA/com/wedding/web/RsvpController_Roo_Controller.aj
Created SRC_MAIN_WEBAPP/images
Created SRC_MAIN_WEBAPP/images/banner-graphic.png
Created SRC_MAIN_WEBAPP/images/springsource-logo.png
Created SRC_MAIN_WEBAPP/images/resultset_first.png
Created SRC_MAIN_WEBAPP/images/resultset_next.png
Created SRC_MAIN_WEBAPP/images/resultset_previous.png
Created SRC_MAIN_WEBAPP/images/resultset_last.png
Created SRC_MAIN_WEBAPP/images/us.png
Created SRC_MAIN_WEBAPP/images/de.png
Created SRC_MAIN_WEBAPP/images/list.png
Created SRC_MAIN_WEBAPP/images/add.png
Created SRC_MAIN_WEBAPP/styles
Created SRC_MAIN_WEBAPP/styles/roo-menu-left.css
Created SRC_MAIN_WEBAPP/styles/roo-menu-right.css
Created SRC_MAIN_WEBAPP/WEB-INF/classes
Created SRC_MAIN_WEBAPP/WEB-INF/classes/left.properties
Created SRC_MAIN_WEBAPP/WEB-INF/classes/right.properties
Created SRC_MAIN_WEBAPP/WEB-INF/layouts
Created SRC_MAIN_WEBAPP/WEB-INF/layouts/layouts.xml
Created SRC_MAIN_WEBAPP/WEB-INF/layouts/default.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views
Created SRC_MAIN_WEBAPP/WEB-INF/views/dataAccessFailure.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/resourceNotFound.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/uncaughtException.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/index.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/views.xml
Created SRC_MAIN_WEBAPP/WEB-INF/tags
Created SRC_MAIN_WEBAPP/WEB-INF/tags/pagination.tagx
Created SRC_MAIN_WEBAPP/WEB-INF/tags/language.tagx
Created SRC_MAIN_WEBAPP/WEB-INF/tags/theme.tagx
Created SRC_MAIN_WEBAPP/WEB-INF/i18n
Created SRC_MAIN_WEBAPP/WEB-INF/i18n/messages.properties
Managed SRC_MAIN_WEBAPP/WEB-INF/i18n/messages.properties
Created SRC_MAIN_WEBAPP/WEB-INF/i18n/messages_de.properties
Managed SRC_MAIN_WEBAPP/WEB-INF/i18n/messages_de.properties
Created SRC_MAIN_WEBAPP/images/show.png
Created SRC_MAIN_WEBAPP/images/update.png
Created SRC_MAIN_WEBAPP/images/delete.png
Created SRC_MAIN_WEBAPP/WEB-INF/views/rsvp
Managed SRC_MAIN_WEBAPP/WEB-INF/config/webmvc-config.xml
Created SRC_MAIN_WEBAPP/WEB-INF/views/rsvp/list.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/rsvp/show.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/rsvp/create.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/menu.jspx
Managed SRC_MAIN_WEBAPP/WEB-INF/views/menu.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/rsvp/update.jspx
Managed SRC_MAIN_WEBAPP/WEB-INF/views/menu.jspx
Created SRC_MAIN_WEBAPP/WEB-INF/views/rsvp/views.xml
Created SRC_MAIN_WEBAPP/WEB-INF/urlrewrite.xml
Created SRC_MAIN_WEBAPP/WEB-INF/web.xml
Managed SRC_MAIN_WEBAPP/WEB-INF/web.xml
Managed ROOT/pom.xml
</code></pre><p>The automatic web tier provided by Roo builds on Spring Framework 3&rsquo;s excellent <a href="http://static.springframework.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch18.html">REST support</a>. <span style="background: #FFFFCC !important;">All endpoints are completely RESTful and use clean, properly-formed URLs.</span> Roo&rsquo;s automatic web tiers are useful in a number of situations, in particular:<br /><ul><br /> <li>Programmatic access via REST clients</li><br /> <li>Administrative section of an application</li><br /> <li>To serve as a template for your manually-created controllers and JSPs</li><br /></ul><br />Let&rsquo;s wrap up with a Selenium test, which will actually verify our new RsvpController works:</p>
<pre><code class="prettyprint code">roo&gt; selenium test --controller ~.web.RsvpController
Created SRC_MAIN_WEBAPP/selenium
Created SRC_MAIN_WEBAPP/selenium/test-rsvp.xhtml
Created SRC_MAIN_WEBAPP/selenium/test-suite.xhtml
Managed SRC_MAIN_WEBAPP/WEB-INF/views/menu.jspx
Managed ROOT/pom.xml
</code></pre><p>Okay, let&rsquo;s see the application in action by running the following commands:</p>
<pre><code class="prettyprint code">roo&gt; perform test
 (Maven console output condensed)
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.wedding.domain.RsvpIntegrationTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.726 sec
roo&gt; quit
$ mvn tomcat:run
</code></pre><p>You can now use your browser to visit <a href="http://localhost:8080/wedding"><a href="http://localhost:8080/wedding">http://localhost:8080/wedding</a></a>. When you&rsquo;re ready to test the web tier, leave the Tomcat server running and then execute the following command:</p>
<pre><code class="prettyprint code">$ mvn selenium:selenese
</code></pre><p>During execution of the Selenium tests, you should see an image similar to:</p><p><img title="Selenium screet shot" src="http://blog.springsource.com/wp-content/uploads/2009/05/02-selenium.png" alt="Selenium screet shot" width="760" height="472" /><br /><h2>Security and Logging</h2><br />So far we&rsquo;ve created our wedding application, ran some integration tests, played around with it in a web browser, and verified correct operation of the web tier using automated Selenium testing. The next step is to fine-tune the <a href="https://logging.apache.org/log4j/">Log4J</a>-based logging:</p>
<pre><code class="prettyprint code">roo&gt; logging setup --package WEB --level DEBUG
Created SRC_MAIN_RESOURCES/META-INF/spring/log4j.properties
Managed SRC_MAIN_WEBAPP/WEB-INF/web.xml
</code></pre><p>Let&rsquo;s now turn our attention to security. At present anyone can access our web site and use the existing RESTful administrative backend to create, update and delete RSVPs. Recall from the application requirements that we wanted to use invitations codes (printed on the back of the cards) to ensure only invited guests can RSVP. Fortunately, <a href="http://www.springsource.org/spring-security/">Spring Security</a> offers us a very fast way of satisfying this requirement, and <span style="background: #FFFFCC !important;">Roo can install Spring Security in one line</span>:</p>
<pre><code class="prettyprint code">roo&gt; security setup
Managed ROOT/pom.xml
Created SRC_MAIN_RESOURCES/META-INF/spring/applicationContext-security.xml
Created SRC_MAIN_WEBAPP/WEB-INF/views/login.jspx
Managed SRC_MAIN_WEBAPP/WEB-INF/views/views.xml
Managed SRC_MAIN_WEBAPP/WEB-INF/web.xml
</code></pre><p>There are also similar commands like &ldquo;web flow&rdquo; and &ldquo;jms setup&rdquo;, but we&rsquo;re not going to explore them in this blog entry. You can expect to see many more &ldquo;install&rdquo; commands in future versions of Roo (and you&rsquo;re welcome to add installer requests to the <a href="http://jira.springframework.org/browse/ROO">Roo issue tracker</a>).<br /><h2>Manual Controllers, Dynamic Finders and Email Support</h2><br />As mentioned above, our automatic web tier is perfectly suitable for the administrative backend of our application. But we also need a portion of the application this is suitable for prospective guests to use. This portion of the application must understand the relationship between invitation codes, managing RSVPs and sending emails. Because these requirements will require some programming, let&rsquo;s build a new controller:</p>
<pre><code class="prettyprint code">roo&gt; controller class --class ~.web.PublicRsvpController
Created SRC_MAIN_JAVA/com/wedding/web/PublicRsvpController.java
Managed SRC_MAIN_WEBAPP/WEB-INF/web.xml
Managed ROOT/pom.xml
</code></pre><p>The PublicRsvpController will respond to HTTP GET and POST requests. Two stubbed methods for these operations have automatically been provided in the PublicRsvpController.java source file.</p><p>If we consider the GET use case, our objective is to retrieve the correct RSVP for a particular invitation code. The way this will work is Spring Security will require people to login to use the application, and we&rsquo;ll treat each invitation code as a unique login name. As such, the GET method needs to obtain the currently logged on user&rsquo;s name from Spring Security and then retrieve the corresponding RSVP from the database. Normally you&rsquo;d go and write a JPA QL query at this point to obtain the specific Rsvp instance that has the matching code, but because you&rsquo;re using Roo you can save yourself the trouble and instead use a dynamic finder.</p><p>Dynamic finders provide you with an almost unlimited range of pre-canned queries. These queries all internally use JPA QL, delivering maximum standards-based compatibility and portability. <span style="background: #FFFFCC !important;">All dynamic finders (and other Roo methods) are implemented as properly-formed, type-safe Java methods - bringing all the normal advantages of familiarity, IDE code assist, debugger integration and significant runtime performance</span>. You can list the available dynamic finders using a command such as this:</p>
<pre><code class="prettyprint code">roo&gt; finder list --class ~.domain.Rsvp --filter code,equ
findRsvpsByCodeEquals(String code)
findRsvpsByCodeNotEquals(String code)
</code></pre><p>Note the &ldquo;&ndash;filter&rdquo; argument is limiting the output to only those proposed method signatures that contain the &ldquo;code&rdquo; and &ldquo;equ&rdquo; strings. You can instruct Roo you&rsquo;d like to see more combinations by omitting the &ldquo;-filter&rdquo; argument, or specifying &ldquo;-depth 2&rdquo; (or 3, 4 etc if you&rsquo;d like more properties involved in your query).</p><p>Once you find the dynamic finder you&rsquo;d like to use, simply add it:</p>
<pre><code class="prettyprint code">roo&gt; finder add --finderName findRsvpsByCodeEquals
Managed SRC_MAIN_JAVA/com/wedding/domain/Rsvp.java
Created SRC_MAIN_JAVA/com/wedding/domain/Rsvp_Roo_Finder.aj
Managed SRC_MAIN_JAVA/com/wedding/web/RsvpController_Roo_Controller.aj
Created SRC_MAIN_WEBAPP/WEB-INF/views/rsvp/findRsvpsByCodeEquals.jspx
Managed SRC_MAIN_WEBAPP/WEB-INF/views/menu.jspx
Managed SRC_MAIN_WEBAPP/WEB-INF/views/rsvp/views.xml
</code></pre><p>If we consider the POST use case for our PublicRsvpController, our requirements specified that we should send our guests an email to confirm their RSVP. Normally we&rsquo;d pull out the Spring reference guide and locate the section on configuring email support, but instead we&rsquo;ll just ask Roo to deal with it for us:</p>
<pre><code class="prettyprint code">roo&gt; email sender setup --hostServer 127.0.0.1
Created SRC_MAIN_RESOURCES/META-INF/spring/email.properties
Managed SRC_MAIN_RESOURCES/META-INF/spring/applicationContext.xml
Managed ROOT/pom.xml
roo&gt; field email template --class ~.web.PublicRsvpController
Managed SRC_MAIN_JAVA/com/wedding/web/PublicRsvpController.java
Managed SRC_MAIN_RESOURCES/META-INF/spring/applicationContext.xml
Managed SRC_MAIN_JAVA/com/wedding/web/PublicRsvpController.java
</code></pre><p>The final command added a Spring <a href="http://static.springframework.org/spring/docs/3.0.0.M3/javadoc-api/org/springframework/mail/MailSender.html">MailSender</a> field to PublicRsvpController, plus provided a method that shows us how to use it.</p><p>While on the topic of email integration, my colleague <a href="https://twitter.com/schmidtstefan">Stefan Schmidt</a> has just published a separate <a href="http://stsmedia.net/introducing-spring-roo-part-2-security-jms-email-support/">blog entry</a> showing how to use the Roo email and JMS add-ons together. The article shows you more advanced configuration options, such as how to use Gmail to send your email messages.<br /><h2>IDE Integration</h2><br />We&rsquo;ve now reached the point where you can use Eclipse/STS to finish the application off. Let&rsquo;s import the application into Eclipse/STS:</p>
<pre><code class="prettyprint code">roo&gt; perform eclipse
 (Maven console output condensed)
</code></pre><p>Finally, let&rsquo;s import the project into Eclipse/STS. You do this by loading Eclipse/STS, then selecting File &gt; Import &gt; Existing Projects into Workspace, and selecting the project&rsquo;s directory. If you&rsquo;re not using STS 2.3.0 or above, ensure you have separately installed AJDT 1.6.5 or above. When prompted by AJDT whether you&rsquo;d like to enable JDT weaving, select to enable weaving. This will result in a better Roo experience when using Eclipse&rsquo;s Java editor.<br /><h2>Final Steps</h2><br />We&rsquo;re now going to change several files using Eclipse/STS. The following screen shot shows the project structure we&rsquo;ll ultimately end up with, and I&rsquo;ve highlighted those files we&rsquo;ll be changing:</p><p><img class="aligncenter size-full wp-image-2990" title="structure" src="http://blog.springsource.com/wp-content/uploads/2009/10/structure.png" alt="structure" width="462" height="1263" /></p><p>Start by editing applicationContext-security.xml. Make some minor changes so that it resembles the following file:</p>
<pre><code class="prettyprint xml"><br />    &lt;http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;
    	&lt;form-login login-processing-url=&quot;/static/j_spring_security_check&quot; login-page=&quot;/login&quot; authentication-failure-url=&quot;/login?login_error=t&quot;/&gt;
        &lt;logout logout-url=&quot;/static/j_spring_security_logout&quot;/&gt;
        &lt;intercept-url pattern=&quot;/rsvp/**&quot; access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;/&gt;
        &lt;intercept-url pattern=&quot;/resources/**&quot; access=&quot;permitAll&quot; /&gt;
        &lt;intercept-url pattern=&quot;/static/**&quot; access=&quot;permitAll&quot; /&gt;
        &lt;intercept-url pattern=&quot;/login**&quot; access=&quot;permitAll&quot; /&gt;
        &lt;intercept-url pattern=&quot;/**&quot; access=&quot;isAuthenticated()&quot; /&gt;
    &lt;/http&gt;

    &lt;authentication-manager alias=&quot;authenticationManager&quot;&gt;
    	&lt;authentication-provider&gt;
	        &lt;user-service&gt;
	            &lt;user name=&quot;admin1234&quot; password=&quot;ignored&quot; authorities=&quot;ROLE_ADMIN&quot;/&gt;
		        &lt;user name=&quot;user12345&quot; password=&quot;ignored&quot; authorities=&quot;ROLE_USER&quot;/&gt;
		        &lt;user name=&quot;user67890&quot; password=&quot;ignored&quot; authorities=&quot;ROLE_USER&quot;/&gt;
		    &lt;/user-service&gt;
    	&lt;/authentication-provider&gt;
	&lt;/authentication-manager&gt;
</code></pre><p>The file above shows that the invitation codes are actually usernames, and we&rsquo;re ignoring passwords. Spring Security doesn&rsquo;t realize we&rsquo;re ignoring passwords, so we need to edit the src/main/webapp/WEB-INF/views/login.jspx and add an &lt;input name=&ldquo;j_password&rdquo; type=&ldquo;hidden&rdquo; value=&ldquo;ignored&rdquo;/&gt; line within the form. Of course, the existing &lt;div&gt; containing the &ldquo;j_password&rdquo; label and input element should be deleted. Some appropriate text within the login.jsp explaining to guests where on the card they can find their invitation code should also be added to this file.</p><p>Security is now setup. Let&rsquo;s now open the PublicRsvpController.java file. As shown, Roo has already stubbed the email features, and provided you empty Spring MVC methods to complete. This is the only actual Java programming required in the entire application, and because these use the normal features of <a href="http://static.springframework.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch16.html">Spring MVC</a> and Spring&rsquo;s MailSender class, I won&rsquo;t discuss them further here:</p>
<pre><code class="prettyprint java"><br />@RequestMapping(&quot;/publicrsvp/**&quot;)
@Controller
@SessionAttributes(&quot;rsvp&quot;)
public class PublicRsvpController {

    @Autowired
    private transient MailSender mailTemplate;

    @RequestMapping
    public String get(ModelMap modelMap) {
    	modelMap.put(&quot;rsvp&quot;, getRsvp());
    	return &quot;publicrsvp&quot;;
    }

    @RequestMapping(method = RequestMethod.POST)
    public String post(@ModelAttribute(&quot;rsvp&quot;) Rsvp rsvp, ModelMap modelMap) {
  	rsvp.setConfirmed(new Date());
        if (rsvp.getId() == null) {
        	rsvp.persist();
        } else {
        	rsvp.merge();
        }
    	if (rsvp.getEmail().length() &gt; 0) {
        	sendMessage(&quot;Ben Alex &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="eb898e85c58a878e93ab989b9982858c98849e99888ec5888486">[email&#160;protected]</a>&gt;&quot;, &quot;RSVP to our wedding&quot;, rsvp.getEmail(), &quot;Your RSVP has been saved: &quot; + rsvp.toString());
    	}
    	modelMap.put(&quot;rsvp&quot;, rsvp);
    	return &quot;thanks&quot;;
    }

    private Rsvp getRsvp() {
    	Rsvp rsvp = new Rsvp();
    	try {
        	String code = SecurityContextHolder.getContext().getAuthentication().getName();
        	rsvp.setCode(code);
    		// Cast due to http://java.sun.com/javaee/5/docs/api/javax/persistence/Query.html#getSingleResult()
    		rsvp = (Rsvp) Rsvp.findRsvpsByCodeEquals(code).getSingleResult();
    	} catch (DataAccessException ignored) { /* no Rsvp for this code was found, so start a new Rsvp */ }
    	return rsvp;
    }

    private void sendMessage(String mailFrom, String subject, String mailTo, String message) {
        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();
        simpleMailMessage.setFrom(mailFrom);
        simpleMailMessage.setSubject(subject);
        simpleMailMessage.setTo(mailTo);
        simpleMailMessage.setText(message);
        mailTemplate.send(simpleMailMessage);
    }
}
</code></pre><p>Note in the &ldquo;get&rdquo; and &ldquo;post&rdquo; methods we return a string, which should correlate with the JSP view name we would like rendered. As such our next step is to provide those two JSPs. Fortunately Roo built some JSP files that will serve as useful templates.</p><p>First rename src/main/webapp/WEB-INF/index.jsp to thanks.jsp. This will be the page displayed when the &ldquo;post&rdquo; method returns. You probably want to add something like, &ldquo;Your RSVP has been confirmed: ${rsvp}&rdquo;.</p><p>Next copy src/main/webapp/WEB-INF/views/rsvp/create.jspx to src/main/webapp/WEB-INF/views/publicrsvp.jspx. This page should then be edited. You can safely delete the &ldquo;code&rdquo; and &ldquo;confirmed&rdquo; sections, as both are taken care of by the PublicRsvpController. You should also change the &ldquo;form_url&rdquo; variable assignment to &lt;c:url value=&ldquo;/publicrsvp&rdquo; var=&ldquo;form_url&rdquo;/&gt;.</p><p>Because Spring Roo uses Tiles to allow easy branding of each web view, you need to edit the src/main/webapp/WEB-INF/views/views.xml file. You need to rename the &ldquo;index&rdquo; definition to &ldquo;thanks&rdquo;, and also add a new definition for &ldquo;publicrsvp&rdquo; to the new publicrsvp.jspx. The final file should resemble:</p>
<pre><code class="prettyprint xml"><br />&lt;tiles-definitions&gt;

	&lt;definition extends=&quot;public&quot; name=&quot;thanks&quot;&gt;
		&lt;put-attribute name=&quot;body&quot; value=&quot;/WEB-INF/views/thanks.jspx&quot;/&gt;
	&lt;/definition&gt;

	&lt;definition extends=&quot;public&quot; name=&quot;dataAccessFailure&quot;&gt;
		&lt;put-attribute name=&quot;body&quot; value=&quot;/WEB-INF/views/dataAccessFailure.jspx&quot;/&gt;
	&lt;/definition&gt;

	&lt;definition extends=&quot;public&quot; name=&quot;resourceNotFound&quot;&gt;
		&lt;put-attribute name=&quot;body&quot; value=&quot;/WEB-INF/views/resourceNotFound.jspx&quot;/&gt;
	&lt;/definition&gt;

	&lt;definition extends=&quot;public&quot; name=&quot;uncaughtException&quot;&gt;
		&lt;put-attribute name=&quot;body&quot; value=&quot;/WEB-INF/views/uncaughtException.jspx&quot;/&gt;
	&lt;/definition&gt;

	&lt;definition extends=&quot;public&quot; name=&quot;login&quot;&gt;
        &lt;put-attribute name=&quot;body&quot; value=&quot;/WEB-INF/views/login.jspx&quot;/&gt;
    &lt;/definition&gt;

	&lt;definition extends=&quot;public&quot; name=&quot;publicrsvp&quot;&gt;
        &lt;put-attribute name=&quot;body&quot; value=&quot;/WEB-INF/views/publicrsvp.jspx&quot;/&gt;
    &lt;/definition&gt;

&lt;/tiles-definitions&gt;
</code></pre><p>The very last step is to edit src/main/webapp/WEB-INF/urlrewrite.xml and change the URL rewrite rule for /. The /app/index should be modified to /app/publicrsvp/, which indicates to perform a GET of the new PublicRsvpController by default.</p><p>You should now be ready to test deployment. You have several options:<br /><ul><br /> <li>Use &ldquo;mvn tomcat:run&rdquo; from the command line</li><br /> <li>Right-click the project within Eclipse/STS and select Run As &gt; Run on Server</li><br /> <li>Right-click the project within STS and select Spring Tools &gt; Open Roo Shell, then type &ldquo;deploy &ndash;server someServer&rdquo;</li><br /></ul><br />When you now visit <a href="http://localhost:8080/wedding"><a href="http://localhost:8080/wedding">http://localhost:8080/wedding</a></a>, you will be prompted for your invitation code. Use one of the usernames listed in the applicationContext-security.xml file above. RSVP a few times, and you&rsquo;ll see the application correctly retrieves your previous RSVP record. You&rsquo;ll also see that it sends you an email, assuming you type an email address and have a properly configured SMTP server (edit mail.properties if you wish to change the <a href="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">SMTP</a> server details). Login as the administrative user and you will see that you can access all RSVP records, change them and so on.</p><p>Naturally at this stage we&rsquo;d normally tidy up the look and feel of publicly-visible parts of the application. Then we&rsquo;d run &ldquo;perform package&rdquo; to provide a WAR that is ready to deploy to a production server environment such as <a href="http://www.springsource.com/products/tcserver">SpringSource tc Server</a> or <a href="http://www.springsource.com/products/dmserver">SpringSource dm Server</a>.<br /><h2>Conclusion</h2><br />In this blog entry we covered the steps required to install Roo, use its shell, and rapidly build a realistic application that features:<br /><ul><br /> <li>A best practice Spring Framework 3-based application architecture</li><br /> <li>Maven 2-based project structure</li><br /> <li>JPA-based persistence, in this case using Hibernate</li><br /> <li>Database storage to a custom Hypersonic file location</li><br /> <li>Bean Validation (JSR 303) support, including propagation of the constraints down to database DDL</li><br /> <li>Automated JUnit integration tests that build on Spring Framework&rsquo;s integration test features</li><br /> <li>An automated RESTful application backend</li><br /> <li>Automated Selenium tests of your web tier</li><br /> <li>Dynamic finders that serve a practical use case in our application</li><br /> <li>Spring Security integration, including web URL security and a customised login page</li><br /> <li>Email transmission (read more about emailing via Roo in Stefan&rsquo;s <a href="http://stsmedia.net/introducing-spring-roo-part-2-security-jms-email-support/">blog entry</a>)</li><br /> <li>Log4J configuration support</li><br /> <li>URL rewriting that keeps the URLs clean and RESTful</li><br /> <li>A manual web controller</li><br /> <li>Embedded Tomcat server container usage</li><br /> <li>Eclipse and STS integration</li><br /></ul><br />We&rsquo;ll be adding a lot of additional capabilities to Roo over the coming weeks and months, and my next blog posting will cover Roo&rsquo;s internals and architecture. In the meantime we very much welcome your Roo comments, experiences and feedback. The <a href="http://forum.springsource.org/forumdisplay.php?f=67">community forum</a> is a great place to ask questions, and you can also <a href="https://twitter.com/benalexau">follow</a> <a href="https://twitter.com/schmidtstefan">us</a> <a href="https://search.twitter.com/search?q=%23roo">on</a> Twitter. We hope that you enjoy using <a href="http://www.springsource.org/roo">Spring Roo</a>.</p></div>
</div>
<section id="disqus_thread"></section>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 237;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>
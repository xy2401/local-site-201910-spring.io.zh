<!DOCTYPE html>
<html data-code-prettify="" data-mobile-support="" data-search="">
<head>
<title>REST in Spring 3: RestTemplate</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="Viewport" name="viewport" />
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon-ca31b78daf0dd9a106bbf3c6d87d4ec7.png" />
<link href="https://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/css/main-bc256dba5f9d253d6425441ccfb82576.css" />
<script src="/jspm_packages/system-eccc019329febb5a1b06bde008ca5614.js"></script>
<script>
    System.config({baseURL: "/b92013b"});
  </script>
<script src="/config-5a675c9cddea3a5f55b71416e67d47d6.js"></script>
<script>
      System.import('app/main.js')
  </script>
<meta content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" name="google-site-verification" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KZM7GF6');</script>

<link href="/css/blog-92993c3ec6808bded45b277c18d7d621.css" rel="stylesheet" type="text/css" />

<meta content="summary" name="twitter:card" />
<meta content="@springcentral" name="twitter:site" />
<meta name="twitter:title" content="REST in Spring 3: RestTemplate" />
<meta name="twitter:description" content="&lt;p&gt;In an earlier &lt;a href=&quot;http://blog.springsource.com/2009/03/08/rest-in-spring-3-mvc/&quot;&gt;post&lt;/a&gt;, I blogged about the REST capabilities we added to Spring @MVC version 3.0. Later, Alef &lt;a href=&quot;http://blog.springsource.com/2009/03/16/adding-an-atom-view-to-an-application-using-springs-rest-support/&quot;&gt;wrote&lt;/a&gt; about using the introduced functionality to add an Atom view to the Pet Clinic application. In this post, I would like to introduce the client-side capabilities we added in Milestone 2.&lt;/p&gt;
&lt;h2&gt;RestTemplate&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html&quot;&gt;&lt;tt&gt;RestTemplate&lt;/tt&gt;&lt;/a&gt; is the central Spring class for client-side HTTP access. Conceptually, it is very similar to the &lt;a href=&quot;http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/jdbc/core/JdbcTemplate.html&quot;&gt;&lt;tt&gt;JdbcTemplate&lt;/tt&gt;&lt;/a&gt;, &lt;a href=&quot;http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/jms/core/JmsTemplate.html&quot;&gt;&lt;tt&gt;JmsTemplate&lt;/tt&gt;&lt;/a&gt;, and the various other templates found in the Spring Framework and other portfolio projects. This means, for instance, that the RestTemplate is thread-safe once constructed, and that you can use callbacks to customize its operations.&lt;/p&gt;
" />
<meta name="twitter:creator" content="@poutsma" />
<meta name="twitter:image:src" content="https://gravatar.com/avatar/783fefe566e832976f50aacb1b8fd949?s=200" />

<meta property="og:title" content="REST in Spring 3: RestTemplate" />
<meta property="og:image" content="https://gravatar.com/avatar/783fefe566e832976f50aacb1b8fd949?s=200" />
<meta property="og:description" content="&lt;p&gt;In an earlier &lt;a href=&quot;http://blog.springsource.com/2009/03/08/rest-in-spring-3-mvc/&quot;&gt;post&lt;/a&gt;, I blogged about the REST capabilities we added to Spring @MVC version 3.0. Later, Alef &lt;a href=&quot;http://blog.springsource.com/2009/03/16/adding-an-atom-view-to-an-application-using-springs-rest-support/&quot;&gt;wrote&lt;/a&gt; about using the introduced functionality to add an Atom view to the Pet Clinic application. In this post, I would like to introduce the client-side capabilities we added in Milestone 2.&lt;/p&gt;
&lt;h2&gt;RestTemplate&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html&quot;&gt;&lt;tt&gt;RestTemplate&lt;/tt&gt;&lt;/a&gt; is the central Spring class for client-side HTTP access. Conceptually, it is very similar to the &lt;a href=&quot;http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/jdbc/core/JdbcTemplate.html&quot;&gt;&lt;tt&gt;JdbcTemplate&lt;/tt&gt;&lt;/a&gt;, &lt;a href=&quot;http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/jms/core/JmsTemplate.html&quot;&gt;&lt;tt&gt;JmsTemplate&lt;/tt&gt;&lt;/a&gt;, and the various other templates found in the Spring Framework and other portfolio projects. This means, for instance, that the RestTemplate is thread-safe once constructed, and that you can use callbacks to customize its operations.&lt;/p&gt;
" />
<meta content="article" property="og:type" />
<meta property="og:article:published_time" content="2009-03-27 12:39:00.0" />
</head>
<body>

<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-KZM7GF6" style="display:none;visibility:hidden" width="0"></iframe></noscript>

<script type="text/javascript">
    // Work around Google font rendering issues in webkit browsers on Windows 7
    if (navigator.userAgent.indexOf("NT 6.1") != -1) {
      document.body.style.WebkitTextStroke = "0.5px";
    }
  </script>
<div class="viewport">
<header class="navbar header--navbar desktop-only">
<div class="navbar-inner">
<div class="container-fluid">
<div class="spring-logo--container">
<a class="spring-logo" href="/"><span></span></a>
</div>
<ul class="nav pull-right">
<li class="navbar-link">
<a href="/projects">Projects</a>
</li>
<li class="navbar-link">
<a href="/guides">Guides</a>
</li>
<li class="navbar-link active">
<a href="/blog">Blog</a>
</li>
<li class="navbar-link">
<a href="/services">Training & Certification</a>
</li>
<li class="navbar-link nav-search js-nav-search">
<a>
<i class="icon-search navbar-search--icon js-search-input-open"></i>
<span class="search-input-close js-search-input-close">
<i class="icon-remove"></i>
</span>
</a>
</li>
</ul>
</div>
</div>
<div class="search-dropdown--container js-search-dropdown">
<div class="container-fluid">
<div class="search-form--container">
<form action="/search" class="form-inline form-search" method="get">
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search for documentation, guides, and posts..." type="text" value="" />
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
</form>
</div>
</div>
</div>
</header>
<div>
<div class="mobile-navigation--wrapper mobile-only">
<div class="navigation-drawer--container">
<div class="mobile-search--container">
<form action="/search" class="form-inline form-search" method="get">
<button class="search-form--submit" type="submit"><i class="icon-search"></i></button>
<input class="search-query search-form--form js-search-input" name="q" placeholder="Search..." type="text" value="" />
</form>
</div>
<div class="navigation-item-list">
<div class="navbar-link">
<a href="/">
Home
<i class="icon-chevron-right pull-right"></i>
</a>
 </div>
<div class="navbar-link">
<a href="/projects">
Projects
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/guides">
Guides
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link active">
<a href="/blog">
Blog
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
<div class="navbar-link">
<a href="/services">
Training & Certification
<i class="icon-chevron-right pull-right"></i>
</a>
</div>
</div>
</div>
<div class="mobile-nav">
<div class="nav-icon js-open-nav-drawer">
<i class="icon-reorder"></i>
</div>
<div class="header-center-icon">
<a href="/">
<div class="icon icon-spring-logo-mobile"></div>
</a>
</div>
</div>
</div>
</div>
<div class="header--container"></div>
<div class="container-fluid"></div>
<div></div>
<div class="container-fluid">
<div class="main-body--wrapper">
<div class="row-fluid blog--wrapper">
<article class="span8 mobile-left-pane" id="content">
<header class="desktop-only">
<div class="blog-category active content--title">
<div>Engineering</div>
</div>
<div class="blog-category content--title">
<div>Releases</div>
</div>
<div class="blog-category content--title">
<div>News and Events</div>
</div>
</header>
<div class="blog--container">
<header>
<h1 class="blog--title">REST in Spring 3: RestTemplate</h1>
<div class="meta-data--container">
<div class="meta-data--item desktop-only">
<div class="meta-data--icon icon blog-icon engineering"></div>
<a class="category">Engineering</a>
</div>
<div class="meta-data--item">
<img class="meta-data--icon" src="https://gravatar.com/avatar/783fefe566e832976f50aacb1b8fd949?s=20&amp;d=mm" />
<a class="author" rel="author" href="/team/apoutsma">Arjen Poutsma</a>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon calendar"></div>
<time class="date" pubdate="" datetime="2009-03-27 12:39:00.0">March 27, 2009</time>
</div>
<div class="meta-data--item">
<div class="meta-data--icon icon blog-icon comments"></div>
<a class="comments" data-disqus-identifier="217" href="/blog/2009/03/27/rest-in-spring-3-resttemplate#disqus_thread">
</a></div>
</div>
</header>
<div class="blog--post"><p>In an earlier <a href="http://blog.springsource.com/2009/03/08/rest-in-spring-3-mvc/">post</a>, I blogged about the REST capabilities we added to Spring @MVC version 3.0. Later, Alef <a href="http://blog.springsource.com/2009/03/16/adding-an-atom-view-to-an-application-using-springs-rest-support/">wrote</a> about using the introduced functionality to add an Atom view to the Pet Clinic application. In this post, I would like to introduce the client-side capabilities we added in Milestone 2.</p>
<h2>RestTemplate</h2><p>The <a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html"><tt>RestTemplate</tt></a> is the central Spring class for client-side HTTP access. Conceptually, it is very similar to the <a href="http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/jdbc/core/JdbcTemplate.html"><tt>JdbcTemplate</tt></a>, <a href="http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/jms/core/JmsTemplate.html"><tt>JmsTemplate</tt></a>, and the various other templates found in the Spring Framework and other portfolio projects. This means, for instance, that the RestTemplate is thread-safe once constructed, and that you can use callbacks to customize its operations.</p>
<h3>RestTemplate Methods</h3><p>The main entry points of the template are named after the six main HTTP methods:</p>
<table>
<tr><th>HTTP</th><th>RestTemplate</th></tr>
<tr><td>DELETE</td><td><a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html#delete(String, String...)"><tt>delete(String, String...)</tt></a></td></tr>
<tr><td>GET</td><td><a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html#getForObject(String, Class, String...)"><tt>getForObject(String, Class<T>, String...)</tt></a></td></tr>
<tr><td>HEAD</td><td><a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html#headForHeaders(String, String...)"><tt>headForHeaders(String, String...)</tt></a></td></tr>
<tr><td>OPTIONS</td><td><a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html#optionsForAllow(String, String...)"><tt>optionsForAllow(String, String...)</tt></a></td></tr>
<tr><td>POST</td><td><a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html#postForLocation(String, Object, String...)"><tt>postForLocation(String, Object, String...)</tt></a></td></tr>
<tr><td>PUT</td><td><a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html#put(String, Object, String...)"><tt>put(String, Object, String...)</tt></a></td></tr>
</table><p>The names of these methods clearly indicate which HTTP method they invoke, while the second part of the name indicates what is returned. For instance, <tt>getForObject()</tt> will perform a GET, convert the HTTP response into an object type of your choice, and returns that object. <tt>postForLocation</tt> will do a POST, converting the given object into a HTTP request, and returns the response HTTP Location header where the newly created object can be found. As you can see, these methods try to enforce REST best practices.</p>
<h3>URI Templates</h3><p>Each of these methods takes a URI as first argument. That URI can be a <a href="http://bitworking.org/projects/URI-Templates/">URI template</a>, and variables can be used to expand the template to a normal URI. The template variables can be passed in two forms: as a String variable arguments array, or as a Map&lt;String, String&gt;. The string varargs variant expands the given template variables in order, so that</p>
<pre><code class="prettyprint java"><br />String result = restTemplate.getForObject(&quot;http://example.com/hotels/{hotel}/bookings/{booking}&quot;, String.class, &quot;42&quot;, &quot;21&quot;);
</code></pre><p>will perform a GET on <tt><a href="http://example.com/hotels/42/bookings/21">http://example.com/hotels/42/bookings/21</a></tt>. The map variant expands the template based on variable name, and is therefore more useful when using many variables, or when a single variable is used multiple times. For example:</p>
<pre><code class="prettyprint java"><br />Map&lt;String, String&gt; vars = new HashMap&lt;String, String&gt;();
vars.put(&quot;hotel&quot;, &quot;42&quot;);
vars.put(&quot;booking&quot;, &quot;21&quot;);
String result = restTemplate.getForObject(&quot;http://example.com/hotels/{hotel}/bookings/{booking}&quot;, String.class, vars);
</code></pre><p>will also perform a GET on <tt><a href="http://example.com/hotels/42/rooms/42">http://example.com/hotels/42/rooms/42</a></tt>.</p>
<h3>HttpMessageConverters</h3><p>Objects passed to and returned from the methods <tt>getForObject()</tt>, <tt>postForLocation()</tt>, and <tt>put()</tt> and are converted to HTTP requests and from HTTP responses by <a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html"><tt>HttpMessageConverters</tt></a>. Converters for the main mime types and Java types are registered by default, but you can also write your own converter and plug it in the RestTemplate. In the example below, I will show you how that&rsquo;s done.</p>
<h2>Using the RestTemplate to retrieve photos from Flickr</h2><p>Rather than going through the various methods of the RestTemplate, I will show you how to use it for retrieving pictures from <a href="https://www.flickr.com/">Flickr</a>, Yahoo!s online photo-sharing application. This sample application searches Flickr for photos that match a given search term. It then shows these pictures using a simple Swing UI. To run the application yourself, you will need to create a Flickr account and <a href="https://www.flickr.com/services/api/keys/apply">apply for an API key</a>.</p>
<h3>Searching for photos</h3><p>Flickr exposes various <a href="https://www.flickr.com/services/api/">APIs</a> to manipulate its vast library of photos. The <a href="https://www.flickr.com/services/api/flickr.photos.search.html">flickr.photos.search</a> method allows you to search for photos, by issuing a GET request on <tt><a href="https://www.flickr.com/services/rest?method=flickr.photos.search&api+key=xxx&tags=penguins">http://www.flickr.com/services/rest?method=flickr.photos.search&api+key=xxx&tags=penguins</a></tt>, where you enter your API key and the thing to search for (penguins in this case). As a result, you get back a XML document, describing the photos that conform to your query. Something like:</p>
<pre><code class="prettyprint xml"><br />&lt;photos page=&quot;2&quot; pages=&quot;89&quot; perpage=&quot;10&quot; total=&quot;881&quot;&gt;
	&lt;photo id=&quot;2636&quot; owner=&quot;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2a1e1d1a1f121f1a1913131f6a641a1b">[email&#160;protected]</a>&quot; 
		secret=&quot;a123456&quot; server=&quot;2&quot; title=&quot;test_04&quot;
		ispublic=&quot;1&quot; isfriend=&quot;0&quot; isfamily=&quot;0&quot; /&gt;
	&lt;photo id=&quot;2635&quot; owner=&quot;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4e7a797e7b767b7e7d77777b0e007e7f">[email&#160;protected]</a>&quot;
		secret=&quot;b123456&quot; server=&quot;2&quot; title=&quot;test_03&quot;
		ispublic=&quot;0&quot; isfriend=&quot;1&quot; isfamily=&quot;1&quot; /&gt;
	&lt;photo id=&quot;2633&quot; owner=&quot;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7f4b484f4a474a4f4c46464a3f314f4e">[email&#160;protected]</a>&quot;
		secret=&quot;c123456&quot; server=&quot;2&quot; title=&quot;test_01&quot;
		ispublic=&quot;1&quot; isfriend=&quot;0&quot; isfamily=&quot;0&quot; /&gt;
	&lt;photo id=&quot;2610&quot; owner=&quot;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7e4f4c4e4d49474a47494b4a3e304e4f">[email&#160;protected]</a>&quot;
		secret=&quot;d123456&quot; server=&quot;2&quot; title=&quot;00_tall&quot;
		ispublic=&quot;1&quot; isfriend=&quot;0&quot; isfamily=&quot;0&quot; /&gt;
&lt;/photos&gt;
</code></pre><p>Using the RestTemplate, retrieving such a document is quite trivial:</p>
<pre><code class="prettyprint java"><br />final String photoSearchUrl =
   &quot;http://www.flickr.com/services/rest?method=flickr.photos.search&amp;api+key={api-key}&amp;tags={tag}&amp;per_page=10&quot;;
Source photos = restTemplate.getForObject(photoSearchUrl, Source.class, apiKey, searchTerm);
</code></pre><p>where <tt>apiKey</tt> and <tt>searchTerm</tt> are two Strings given on the command line. This method uses the <tt>SourceHttpMessageConverter</tt> to convert the HTTP XML response into a <tt>javax.xml.transform.Source</tt> (Note that the SourceHttpMessageConverter was introduced shortly after we released Spring 3.0 M2, so you will have to get a recent snapshot (or the upcoming M3) to use it. The sample project available below is set up to retrieve these via Maven).</p>
<h3>Retrieving the photos</h3><p>Next, we&rsquo;re going to use an XPath expression to retrieve all the <tt>photo</tt> elements of the document. For this, we are going to use the <a href="http://static.springframework.org/spring-ws/sites/1.5/reference/html/common.html#xpath-template"><tt>XPathTemplate</tt></a> from Spring Web Services. We are going to execute the <tt>//photo</tt> expressions, returning all <tt>photo</tt> elements occurring anywhere in the document. The <a href="http://static.springframework.org/spring-ws/sites/1.5/apidocs/org/springframework/xml/xpath/NodeMapper.html"><tt>NodeMapper</tt></a> is a callback interface, whose <tt>mapNode()</tt> method will be invoked for each <tt>photo</tt> element in the document. In this case, we are retrieving the <tt>server</tt>, <tt>id</tt>, and <tt>secret</tt> attributes of this element, and use those to fill up a Map. Finally, we use the RestTemplate again, to retrieve the photo as a <tt>java.awt.image.BufferedImage</tt>. Thus when the XPath evaluation is done, the resulting <tt>imageList</tt> will contain an image for each photo in the XML document.</p>
<pre><code class="prettyprint java"><br />List&lt;BufferedImage&gt; imageList = xpathTemplate.evaluate(&quot;//photo&quot;, photos, new NodeMapper() {
    public Object mapNode(Node node, int i) throws DOMException {
        Element photo = (Element) node;

        Map&lt;String, String&gt; variables = new HashMap&lt;String, String&gt;(3);
        variables.put(&quot;server&quot;, photo.getAttribute(&quot;server&quot;));
        variables.put(&quot;id&quot;, photo.getAttribute(&quot;id&quot;));
        variables.put(&quot;secret&quot;, photo.getAttribute(&quot;secret&quot;));

        String photoUrl = &quot;http://static.flickr.com/{server}/{id}_{secret}_m.jpg&quot;;
        return restTemplate.getForObject(photoUrl, BufferedImage.class, variables);
    }
});
</code></pre><p>For instance, given the XML document given above, the <tt>imageList</tt> will contain 4 images. The URL for the first image retrieved will be <tt><a href="https://static.flickr.com/2/2636_">http://static.flickr.com/2/2636_</a> a123456_m.jpg</tt>, the second is <tt><a href="https://static.flickr.com/2/2635_">http://static.flickr.com/2/2635_</a> b123456_m.jpg</tt>, etc.</p>
<h3>Converting the images</h3><p>There is one more thing that needs to be done in order for the code to work: we will need to write a <tt>HttpMessageConverter</tt> that is able to read from the HTTP response, and create a <tt>BufferedImage</tt>from that. Doing so with the Java Image I/O API is fairly simple, we just need to implement the <tt>read()</tt> method defined in the <tt>HttpMessageConverter</tt> interface. Overall, our simple converter looks like this:</p>
<pre><code class="prettyprint java"><br />public class BufferedImageHttpMessageConverter implements HttpMessageConverter&lt;BufferedImage&gt; {

    public List&lt;MediaType&gt; getSupportedMediaTypes() {
        return Collections.singletonList(new MediaType(&quot;image&quot;, &quot;jpeg&quot;));
    }

    public boolean supports(Class&lt;? extends BufferedImage&gt; clazz) {
        return BufferedImage.class.equals(clazz);
    }

    public BufferedImage read(Class&lt;BufferedImage&gt; clazz, HttpInputMessage inputMessage) throws IOException {
        return ImageIO.read(inputMessage.getBody());
    }

    public void write(BufferedImage image, HttpOutputMessage message) throws IOException {
        throw new UnsupportedOperationException(&quot;Not implemented&quot;);
    }

}
</code></pre><p>Note that we didn&rsquo;t implement <tt>write()</tt> because we are not uploading images, just downloading them. Now we just have to plug this converter into the RestTemplate. We do that in the Spring application context:</p>
<pre><code class="prettyprint xml"><br />&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

    &lt;bean id=&quot;flickrClient&quot; class=&quot;com.springsource.samples.resttemplate.FlickrClient&quot;&gt;
        &lt;constructor-arg ref=&quot;restTemplate&quot;/&gt;
        &lt;constructor-arg ref=&quot;xpathTemplate&quot;/&gt;
    &lt;/bean&gt;

    &lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot;&gt;
        &lt;property name=&quot;messageConverters&quot;&gt;
            &lt;list&gt;
                &lt;bean class=&quot;org.springframework.http.converter.xml.SourceHttpMessageConverter&quot;/&gt;
                &lt;bean class=&quot;com.springsource.samples.resttemplate.BufferedImageHttpMessageConverter&quot;/&gt;
            &lt;/list&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

    &lt;bean id=&quot;xpathTemplate&quot; class=&quot;org.springframework.xml.xpath.Jaxp13XPathTemplate&quot;/&gt;

&lt;/beans&gt;
</code></pre>
<h3>Showing the photos</h3><p>The final stage is to show the photos in a simple GUI. For this, we use Swing:</p>
<pre><code class="prettyprint java"><br />JFrame frame = new JFrame(searchTerm + &quot; photos&quot;);
frame.setLayout(new GridLayout(2, imageList.size() / 2));
for (BufferedImage image : imageList) {
    frame.add(new JLabel(new ImageIcon(image)));
}
frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
frame.pack();
frame.setVisible(true);
</code></pre><p>which gives us the following:</p><p><img src="http://blog.springsource.com/wp-content/uploads/2009/03/penguins.png" alt="Penguins" title="Penguins" width="640" height="268" class="aligncenter size-full wp-image-1498" /></p><p>Overall, I hope this post showed you how simple it can be to use the RestTemplate to interact with HTTP servers. In just under 30 lines of Java code, we created a GUI that shows pictures of everybody&rsquo;s favorite bird: the penguin! Check out the <a href="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/client/RestTemplate.html">RestTemplate</a> and let us know what you think!</p>
<h3>Downloads</h3><p>A Maven project containing the code above can be downloaded <a href='http://blog.springsource.com/wp-content/uploads/2009/03/spring3-resttemplate.zip'>here</a>. Note that the project is based on a nightly snapshot build of Spring. The upcoming Milestone 3 of Spring will contain the necessary classes as well.</p></div>
</div>
<section id="disqus_thread"></section>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
      var disqus_shortname = 'spring-io';
      var disqus_identifier = 217;

      (function(disqus_shortname, document) {
        injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
        injectScript('//' + disqus_shortname + '.disqus.com/count.js');

        function injectScript(url) {
          var s = document.createElement('script');
          s.async = true;
          s.src = url;
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
        }

      }(disqus_shortname, document));
    </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<div class="mobile-only">
<p><a href="/blog">
<i class="icon-chevron-left"></i>
Back
</a></p>
</div>
</article>
<aside class="span4 mobile-right-pane" id="sidebar">
<div>
<ul class="right-pane-widget--container secondary-nav with-icon">
<li class="blog-category">
<div class="icon blog-icon all-posts"></div>
<a href="/blog">All Posts</a>
<a class="pull-right" href="/blog.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category active">
<div class="icon blog-icon engineering"></div>
<a href="/blog/category/engineering">Engineering</a>
<a class="pull-right" href="/blog/category/engineering.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon releases"></div>
<a href="/blog/category/releases">Releases</a>
<a class="pull-right" href="/blog/category/releases.atom"><i class="icon-rss"></i></a>
</li>
<li class="blog-category">
<div class="icon blog-icon news-and-events"></div>
<a href="/blog/category/news">News and Events</a>
<a class="pull-right" href="/blog/category/news.atom"><i class="icon-rss"></i></a>
</li>
</ul>
<ul class="social-btn--container">
<a class="social-btn twitter" href="https://twitter.com/springcentral"></a>

<a class="social-btn linkedin" href="https://www.linkedin.com/groups/46964"></a>
<a class="social-btn youtube" href="/videos"></a>
</ul>
<div id="blog-sidebar-newsletter">
<p>Get updates from The Spring Team delivered to your inbox</p>
<script src="https://app-sj05.marketo.com/js/forms2/js/forms2.min.js"></script>
<form id="mktoForm_4723"></form>
<script>
        MktoForms2.loadForm("https://app-sj05.marketo.com", "625-IUJ-009", 4723, function(form){
          form.onSuccess(function(values, followUpUrl) {
            form.getFormElem().html("<p>Thank you!</p>");
            return false;
          });
        });
      </script>
</div>
</div>
</aside>
</div>
</div>
</div>
<footer class="footer">
<div class="container-fluid">
<div class="row-fluid">
<div class="span12">
<div class="navbar">
<div class="container">
<ul class="nav">
<li><a href="/team">Team</a></li>
<li><a href="/tools">Tools</a></li>
<li><a href="https://store.pivotal.io/">Store</a></li>
<li><a href="/blog">Newsletter</a></li>
</ul>
</div>
</div>
&copy; <span>2019</span> <a href="https://www.pivotal.io/">Pivotal Software</a>, Inc. All Rights Reserved.
<a href="https://pivotal.io/terms-of-use">Terms of Use</a> &bullet;
<a href="https://pivotal.io/privacy-policy">Privacy</a> &bullet;
<a href="/trademarks">Trademark Guidelines</a>
<div id="teconsent" style="display:inline-block;"></div>
</div>
</div>
</div>
</footer>
<div id="scrim"></div>
</div>
</body></html>